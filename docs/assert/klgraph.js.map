{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 57003d589008bbcb9190","webpack:///./src/util.js","webpack:///./src/base/EventEmitter.js","webpack:///./src/animation/tween.js","webpack:///./src/base/GLUtil.js","webpack:///./src/base/Matrix.js","webpack:///./src/core/Graph.js","webpack:///./src/render/webgl/render.js","webpack:///./src/render/webgl/label/glsl/edge-label-frag.glsl","webpack:///./src/render/webgl/label/glsl/edge-label-vert.glsl","webpack:///./src/core/index.js","webpack:///./src/render/index.js","webpack:///./src/base/timer.js","webpack:///./src/core/Event.js","webpack:///./src/core/Selection.js","webpack:///./src/core/config.js","webpack:///./src/layout/CircularLayout.js","webpack:///./src/layout/ColaLayout.js","webpack:///./src/layout/DargeLayout.js","webpack:///./src/layout/FlowLayout.js","webpack:///./src/layout/ForceD3Layout.js","webpack:///./src/layout/Grid.js","webpack:///./src/layout/index.js","webpack:///./src/render/webgl/TextSDF.js","webpack:///./src/render/webgl/TextureIcon.js","webpack:///./src/render/webgl/TextureLoader.js","webpack:///./src/render/webgl/TextureText.js","webpack:///./src/render/webgl/defaultConfig/customOverRender.js","webpack:///./src/render/webgl/defaultConfig/index.js","webpack:///./src/render/webgl/edge/curve/render.js","webpack:///./src/render/webgl/edge/render.js","webpack:///./src/render/webgl/label/EdgeLabel.js","webpack:///./src/render/webgl/label/NodeLabel.js","webpack:///./src/render/webgl/label/curveLabel/render.js","webpack:///./src/render/webgl/node/default/render.js","webpack:///./src/render/webgl/node/rect/render.js","webpack:///./src/render/webgl/defaultConfig/frag.glsl","webpack:///./src/render/webgl/defaultConfig/vert.glsl","webpack:///./src/render/webgl/edge/curve/frag.glsl","webpack:///./src/render/webgl/edge/curve/vert.glsl","webpack:///./src/render/webgl/edge/glsl/default-frag.glsl","webpack:///./src/render/webgl/edge/glsl/default-vert.glsl","webpack:///./src/render/webgl/label/glsl/label-frag.glsl","webpack:///./src/render/webgl/label/glsl/node-label-vert.glsl","webpack:///./src/render/webgl/node/default/default-frag.glsl","webpack:///./src/render/webgl/node/default/default-vert.glsl","webpack:///./src/render/webgl/node/rect/frag.glsl","webpack:///./src/render/webgl/node/rect/vert.glsl","webpack:///./src/index.js"],"names":["typeofstr","typeofobj","typeoffn","utils","uuid","a","b","Math","random","toString","isArray","obj","Array","isString","isObject","isFunction","isInteger","Number","value","isFinite","floor","nextPow2","n","i","offset","extend","k","res","l","arguments","length","getDistance","x1","y1","x2","y2","dx","dy","sqrt","normalize","vector","len","getAngle","cos","acos","inRect","posx","posy","x","y","w","h","inLine","lineSize","A","B","C","D","dot","len_sq","param","xx","yy","dis","reI","reN","reHex6","reRgbaInteger","RegExp","parseColor","format","trim","toLowerCase","m","exec","parseInt","r","g","getNodeSizeX","node","size","type","width","getNodeSizeY","height","getBBox","nodes","x0","Infinity","y0","forEach","e","getPointOnQuadraticCurve","t","xi","yi","pow","getPointTangentOnQuadraticCurve","pos1","pos2","isPointOnQuadraticCurve","cpx","cpy","epsilon","dP1P2","abs","dP1","dP2","rThreshold","pt","dt","old_dt","getControlPos","count","order","factor","ratio","norV","EventEmitter","clearListeners","cb","_listener","listener","push","splice","args","fn","slice","apply","interpolateNumber","Tween","objs","interpolates","timer","timerHandle","bind","_duration","list","elapsed","min","attr","attrInterpolater","emit","stop","time","toObjs","console","error","emitEnd","remove","getActiveAttributes","getActiveUniforms","calTypeOffset","vertexAttribPointer","checkAttrValid","calculateStrip","setUniforms","loadShader","loadProgram","GLComType","FLOAT","glType","bytes","BYTE","SHORT","UNSIGNED_BYTE","UNSIGNED_SHORT","GlType","components","FLOAT_VEC2","FLOAT_VEC3","FLOAT_VEC4","INT","INT_VEC2","INT_VEC3","INT_VEC4","BOOL","BOOL_VEC2","BOOL_VEC3","BOOL_VEC4","FLOAT_MAT2","FLOAT_MAT3","FLOAT_MAT4","SAMPLER_2D","SAMPLER_CUBE","getType","gl","typeNum","name","program","shaderAttrInfos","numAttribs","getProgramParameter","ACTIVE_ATTRIBUTES","attribInfo","getActiveAttrib","location","getAttribLocation","shaderUniformInfos","numUniforms","ACTIVE_UNIFORMS","uniformInfo","getActiveUniform","substr","getUniformLocation","activeAttributes","config","offsetConfig","strip","num","start","err","undefined","enableVertexAttribArray","join","data","hasOwnProperty","attributes","uniformSetter","v","uniform1f","uniform2fv","uniform3fv","uniform4fv","uniformMatrix2fv","uniformMatrix3fv","uniformMatrix4fv","uniform1iv","uniform1i","activeUniforms","uniforms","shaderSource","shaderType","compiled","shader","createShader","compileShader","getShaderParameter","COMPILE_STATUS","getShaderInfoLog","deleteShader","shaders","attribs","loc","linked","createProgram","attachShader","bindAttribLocation","locations","opt_attribs","linkProgram","LINK_STATUS","getProgramInfoLog","deleteProgram","mat3","matrixFromTranslate","matrixFromRotation","angle","sin","matrixFromScale","invert","a11","a12","a13","a21","a22","a23","a31","a32","a33","del","multiply","a00","a01","a02","a10","a20","b00","b01","b02","b10","b11","b12","b20","b21","b22","transformPoint","p","rotateVector","multiMatrix","matrixs","reduce","pre","cur","Graph","options","read","edges","nodesIndex","edgesIndex","inEdgesIndex","outEdgesIndex","curveGroup","clear","id","source","target","createEdgeCurveCount","map","edge","counter","_curveGroup","curveCount","curveOrder","ids","nodeids","nodeid","_removeNode","removeEdge","log","edgeids","edgeid","_removeEdge","objIsArr","nodeDirtyArr","edgeDirtyArr","edgeIdArr","updatePos","mouseType","MOVE","DEFAULT","POINTER","WebGLRender","context","container","graph","needUpdate","sampleRatio","_destroy","initGl","textureIcon","textureText","projectMatrix","camera","scale","positionX","positionY","rotation","saveDataFrame","saveDataTex","renderCache","layers","index","filters","update","renderLayerMap","Object","create","renderLayersConfig","defaultLayersConfig","initEvent","initIconTexture","initTextTexture","initRenderLayer","call","destroy","parentNode","removeChild","clearRenderMap","option","preserveDrawingBuffer","premultipliedAlpha","alpha","antialias","canvas","getContext","getExtension","_this","on","dirtyAttrs","updateTextureText","updateNodeRenderData","updateEdgeRenderData","clearRenderCache","forceRender","contextRelativeLayers","layer","indexCache","addtexts","getAddText","needResize","addTexts","attachGl","infos","textinfo","char","texts","label","charAt","chars","split","timeEnd","icons","textureIcons","icon","createIcons","subLayers","subLayer","enable","show","custom","render","shaderVert","VERTEX_SHADER","shaderFrag","FRAGMENT_SHADER","vertexBuffer","createBuffer","indexBuffer","indexN","mainLayer","tempVertex","tempIndex","check","name1","deleteBuffer","resizeCanvas","updateChange","updateContextCache","updateLayerUniformData","resizeLayerVertexData","updateLayerIndex","draw","blendFunc","ONE","ONE_MINUS_SRC_ALPHA","BLEND","disable","DEPTH_TEST","bgColor","defaultBackgroundColor","clearColor","COLOR_BUFFER_BIT","_clear","j","_setFlag","renderBefore","useProgram","bindBuffer","ARRAY_BUFFER","ELEMENT_ARRAY_BUFFER","Error","drawElements","TRIANGLES","UNSIGNED_INT","renderAfter","updateCacheByData","changeData","temp","dirtyAttr","needUpdateLayers","cacheIndex","points","startBytes","cache","getRenderData","oldData","vertices","oldVertexLength","oldIndexLength","indices","vertexStart","bufferSubData","Float32Array","datas","bufferData","DYNAMIC_DRAW","needResizeLayer","vertexLen","needUpdateLayer","startPoint","filter","_checkFilters","Uint32Array","STATIC_DRAW","getUniforms","matrix","getCameraMatrix","addChange","style","cursor","isInvert","mat","multiplier","clientWidth","clientHeight","viewport","pos","camPos","isVector","animation","newscale","zoomMin","zoomMax","zoomTo","duration","removeByType","to","createFramebuffer","bindFramebuffer","FRAMEBUFFER","createTexture","activeTexture","TEXTURE0","bindTexture","TEXTURE_2D","texImage2D","RGBA","framebufferTexture2D","COLOR_ATTACHMENT0","pixels","Uint8Array","readPixels","document","createElement","ctx","imageData","createImageData","putImageData","toBlob","blob","saveAs","Core","debug","initCanvas","selection","mouse","off","_start","_initEvent","position","appendChild","display","tag","ele","left","top","border","oncontextmenu","preventDefault","frames","state","_render","requestAnimationFrame","resize","isNodeSelected","selectNodes","shiftKey","unSelectNode","max","getFitOptions","layout","layoutConfig","center","fit","getEdges","bbox","bbox1","offsetX","offsetY","setNodeData","nodeLabel","edgeLabel","default","rect","curve","now","Timer","timerFlush","frame","timeout","interval","pokeDelay","taskHead","taskTail","clockLast","clockNow","clockSkew","clock","performance","Date","setFrame","f","setTimeout","clearNow","_call","_time","_next","prototype","constructor","restart","callback","delay","TypeError","sleep","wake","nap","poke","t0","t1","t2","clearTimeout","clearInterval","setInterval","mouseDown","mouseMove","disableMove","overInfo","currentNode","currentEdge","events","mousemove","handlerWrap","_moveHandler","mousedown","_downHandler","mouseup","_upHandler","mousewheel","_wheelHandler","DOMMouseScroll","addEventListener","click","_clickHandler","trigger","event","graphPos","cameraToGraphPos","cameraX","cameraY","getNode","enableEdgeEvent","getEdge","disableDocSelect","mouseLeft","nodeSelected","handleDrag","isCamera","moveFlag","startx","starty","onmousemove","docPosToRelativePos","offsetx","offsety","setMouseType","newgraphPos","onmouseup","removeEventListener","enableOverEvent","old","mouseRight","wheelDelta","detail","zoomRatio","zoomFromPosition","handle","enableMouseEvent","domToCameraPos","dom","getBoundingClientRect","newEvent","clientX","clientY","oldOnSelect","onselectstart","onMouseUp","defaultNodeCheck","sizeX","sizeY","defaultNodeSize","defaultEdgeCheck","ctrolP","defaultEdgeSize","checkInNode","customNodeCheck","checkInEdge","customEdgeCheck","findNode","getNodes","findEdge","which","button","Selection","_mouseDownHandler","flag","path","initGraphEvent","clearRect","fillStyle","selectionFillStyle","strokeStyle","selectionStrokeStyle","beginPath","first","moveTo","lineTo","closePath","fill","stroke","dataType","mouseUp","nodesid","filterNodes","isAdd","sendMsg","selected","edgesid","setEdgeData","newSelected","selects","domPos","graphToDomPos","isPointInPath","clearNode","clearEdge","removeNode","defaultTextBgColor","defaultNodeSelectedBorder","defaultEdgeSelectedColor","defaultNodeColor","defaultNodeIconColor","defaultNodeLabelColor","defaultEdgeColor","defaultEdgeArrowSize","defaultEdgeLabelColor","textureIconWidth","textureIconHeight","textureIconFontFamily","textureTextFontFamily","textureTextWidth","textureTextHeight","enableSelectEdge","defaultConfig","CircularLayout","posSet","depthPosSet","drawnBiComps","bc","nodeHeights","node2BiComp","init","createBicconnects","__layout","oldNodes","oldLinks","tempNodes","_index","links","s","states","dfsn","low","edgesStack","biComponents","totalN","dfs","current","neigh","neighNodes","singleComponent","pop","biconncts","maxIndex","delete","maxSize","radius","PI","deltaAngle","startX","startY","sortInnerCircle","test","SetOuterCircle","icNodes","greedyNodes","modestNodes","forFunct","tmp","NoOfChildren","toReturn","gNo","mNo","deltaM","deltaG","nodeId","outerCircle","currNeigh","compIndex","innerCircleRadius","firstTouched","outerNodesCount","rnc","iter","currNeighbour","outerRadius","tryCount","outerDeltaAngle","outerPositionsTaken","outerPositionsOwners","pointX","pointY","theAngle","theAngleHlp","innerDeltaAngle","asin","idPos","addedNeighbours","currentNeighbour","noOfNeighbours","startPos","BestFreePositionsForAll","startAngle","holeDepth","EachNodeHeight","DFSSetPos","idealPosition","noOfPos","innerCirclePos","innerCSize","alreadyFound","startOfAlFound","found","goDown","goUp","goUpCount","biggestGap","bestStartPos","thisGap","nodeID","noOfChildren","theRadius","component","comp","centerX","centerY","currAngle","oneAtLeast","neighboursCount","min1","min2","min1Id","min2Id","maxId","remStartAngle","rTry","hlp","setOffset","BBox","linkDistance","initIterations","userIterations","allIterations","ColaLayout","cola","Layout","convergenceThreshold","_init","symmetricDiffLinkLengths","_nodes","_edges","rankdir","nodesep","ranksep","ranker","DargeLayout","dagre","graphlib","setGraph","setDefaultEdgeLabel","setNode","setEdge","d","flowAxis","flowSeparation","FlowLayout","flowLayout","filterEdges","breadFirst","forceManyBody","forceLink","forceCollide","iterations","ForceD3Layout","d3","forceSimulation","simulation","force","distance","forceCenter","tick","Grid","nx","ny","circular","d3force","flow","darge","grid","TextSDF","INF","fontSize","buffer","cutoff","fontFamily","font","textBaseline","gridOuter","Float64Array","gridInner","z","Int16Array","middle","round","navigator","userAgent","indexOf","fillText","charSize","measureText","imgData","getImageData","edt","c","charWidth","addCache","maxCacheSize","key","clearCache","edt1d","q","TextureIcon","unit","iconinfo","iconsToCreate","texture","fontLoaded","fillRect","textAlign","img","createIcon","computeAlpha","warn","uvs","updateGPUTexture","empty","texParameteri","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","TEXTURE_MIN_FILTER","LINEAR","TEXTURE_MAG_FILTER","save","restore","deleteTexture","TextureLoader","textures","texturesIndex","urls","url","_load","image","src","onload","tx","defaultTexture","NEAREST","TextureText","sdf","leaveNumY","numN","leaveNum","numY","totalNum","oldTexts","resizeInfo","getSize","nodeOverCustom","renderLayerData","layerIndexMap","renderBg","grayBg","color","positionLocation","uniform4f","bgLocation","Int32Array","selectedNodes","overNode","overNodes","overEdges","over","edgeCount","layerCheckDefault","layerCheck","not","a_position","a_uv","a_dis","a_flag","a_color","a_dashed","a_size","a_end_ratio","a_start_ratio","textureLoader","u_matrix","u_camera_scale","defaultSize","renderData","tNodeW","tNodeH","sNodeW","sNodeH","targetSize","sourceSize","aSize","arrowSize","vX","vY","tX","tY","ctrlP","dis1","startPosRatio","arrowPosRatio","arrowPos","aTangent","arrowX","arrowY","scalePos","scaleTrangles","scaleUV","dashed","addData","addIndices","arr","attrData","attrIndex","p1_x","p1_y","p2_x","p2_y","p3_x","p3_y","avg_x","avg_y","p1_x_new","p1_y_new","p2_x_new","p2_y_new","p3_x_new","p3_y_new","a_normal","a_u","crossVector","u_image","u_text_bg","labelColor","str","charHeight","uv","totalWidht","rotate","labelSizeRatio","lines","getLines","line","lineWidth","lineChars","tSize","tangent","a_selected","a_showicon","a_center","a_icon_color","u_borderColor","u_sample_ratio","u_icons_texture","keys","oldVertices","isSelected","iColor","iconColor","hasIcon","bgScale","iconInfo","getIconInfo","right","bottom","content","a_img","iconSize","bgSize","GLUtil"],"mappings":"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","file":"klgraph.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"KLGraph\"] = factory();\n\telse\n\t\troot[\"KLGraph\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 47);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 57003d589008bbcb9190","/**\n * Created by chengang on 17-3-17.\n */\n\nvar typeofstr = typeof '';\nvar typeofobj = typeof {};\nvar typeoffn = typeof function(){};\n\nvar utils = {};\n\n\nutils.uuid = function(a,b){\n    for(               // loop :)\n        b=a='';        // b - result , a - numeric variable\n        a++<36;        //\n        b+=a*51&52  // if \"a\" is not 9 or 14 or 19 or 24\n            ?  //  return a random number or 4\n            (\n                a^15      // if \"a\" is not 15\n                    ?      // genetate a random number from 0 to 15\n                    8^Math.random()*\n                    (a^20?16:4)  // unless \"a\" is 20, in which case a random number from 8 to 11\n                    :\n                    4            //  otherwise 4\n            ).toString(16)\n            :\n            '-'            //  in other cases (if \"a\" is 9,14,19,24) insert \"-\"\n    );\n    return b;\n};\n\n\n//is tool\nutils.isArray = function( obj ){\n    return Array.isArray ? Array.isArray( obj ) : obj != null && obj instanceof Array;\n};\nutils.isString = function( obj ){\n    return obj != null && typeof obj == typeofstr;\n};\nutils.isObject = function( obj ){\n    return obj != null && typeof obj === typeofobj;\n};\nutils.isFunction =  function( obj ){\n    return obj != null && typeof obj === typeoffn;\n};\n\nutils.isInteger = Number.isInteger || function(value) {\n        return typeof value === \"number\" &&\n            isFinite(value) &&\n            Math.floor(value) === value;\n};\n\nutils.nextPow2 = function (n) {\n    // var num = 1;\n    // while(num < n) num <<= 1;\n    // return num;\n\n    n = n -1;\n    var i = 1;\n    var offset;\n    while((offset = n>>i) > 0){\n        n |= offset;\n        i *= 2;\n    }\n    return n+1;\n};\n\n\nutils.extend = function() {\n    var i,\n        k,\n        res = {},\n        l = arguments.length;\n\n    for (i = l - 1; i >= 0; i--)\n        for (k in arguments[i])\n            res[k] = arguments[i][k];\n\n    return res;\n};\n\n// math tool\n\nutils.getDistance = function (x1,y1,x2,y2) {\n    var dx =x1 - x2;\n    var dy =y1 - y2;\n    return Math.sqrt(dx*dx+dy*dy);\n};\n\nutils.normalize = function (vector) {\n  var len = Math.sqrt(vector[0]*vector[0]+vector[1]*vector[1]);\n  if(len == 0) return [0,0];\n  return [vector[0]/len,vector[1]/len];\n};\n\nutils.getAngle = function (x1,y1,x2,y2) {\n    var cos = (x1*x2+y1*y2)/(Math.sqrt(x1*x1+y1*y1)*Math.sqrt(x2*x2+y2*y2));\n    return Math.acos(cos);\n};\n\nutils.inRect = function (posx,posy,x,y,w,h) {\n  return posx >= x && posx <= x+w && posy >= y && posy <= y+h;\n};\n\nutils.inLine = function (x,y,x1,y1,x2,y2,lineSize) {\n    var A = x - x1;\n    var B = y - y1;\n    var C = x2 - x1;\n    var D = y2 - y1;\n\n    var dot = A * C + B * D;\n    var len_sq = C * C + D * D;\n\n    if(dot < 0 || len_sq < 0.1) return false;\n\n    if(dot * dot  / len_sq > len_sq) return false;\n\n    var param = -1;\n    param = dot / len_sq;\n\n    var xx, yy;\n\n    xx = x1 + param * C;\n    yy = y1 + param * D;\n\n    var dx = x - xx;\n    var dy = y - yy;\n    var dis =  Math.sqrt(dx * dx + dy * dy);\n\n   return dis <= lineSize;\n};\n\n\n//color parse\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\";\nvar reHex6 = /^#([0-9a-f]{6})$/;\nvar reRgbaInteger = new RegExp(\"^rgba\\\\(\" + [reI, reI, reI, reN] + \"\\\\)$\");\nutils.parseColor = function (format) {\n    format = (format + \"\").trim().toLowerCase();\n    var m,n;\n    if(m = reHex6.exec(format)){\n        n = parseInt(m[1], 16);\n        return{\n            r:n >> 16 & 0xff,\n            g: n >> 8 & 0xff,\n            b: n & 0xff,\n            a:255\n        }\n    }else if(m = reRgbaInteger.exec(format)){\n        return{\n            r:+m[1],\n            g:+m[2],\n            b:+m[3],\n            a:+m[4]*255\n        }\n    }else {\n        throw 'not valid color format';\n    }\n}\n\n\nutils.getNodeSizeX = function (node) {\n    var size = node.size ;\n    if(node.type == 'rect' && node.width) size = node.width;\n\n    return size;\n};\n\nutils.getNodeSizeY = function (node) {\n    var size = node.size ;\n    if(node.type == 'rect' && node.height) size = node.height;\n\n    return size;\n};\n\nutils.getBBox = function (nodes) {\n\n    if(!nodes || nodes.length == 0) return {x:0,y:0,w:0,h:0};\n\n    var x0 = Infinity, y0 = Infinity, x1 = -Infinity, y1 = -Infinity;\n    nodes.forEach(function (e) {\n        if (e.x < x0) x0 = e.x;\n        if (e.x > x1) x1 = e.x;\n        if (e.y < y0) y0 = e.y;\n        if (e.y > y1) y1 = e.y;\n    });\n\n    return {\n        x:x0,\n        y:y0,\n        w:x1-x0,\n        h:y1-y0\n    }\n};\n\n\n\n\n/**\n * Compute the coordinates of the point positioned\n * at length t in the quadratic bezier curve.\n *\n * @param  {number} t  In [0,1] the step percentage to reach\n *                     the point in the curve from the context point.\n * @param  {number} x1 The X coordinate of the context point.\n * @param  {number} y1 The Y coordinate of the context point.\n * @param  {number} x2 The X coordinate of the ending point.\n * @param  {number} y2 The Y coordinate of the ending point.\n * @param  {number} xi The X coordinate of the control point.\n * @param  {number} yi The Y coordinate of the control point.\n * @return {object}    {x,y}.\n */\nutils.getPointOnQuadraticCurve = function(t, x1, y1, x2, y2, xi, yi) {\n    // http://stackoverflow.com/a/5634528\n    return [\n        Math.pow(1 - t, 2) * x1 + 2 * (1 - t) * t * xi + Math.pow(t, 2) * x2,\n        Math.pow(1 - t, 2) * y1 + 2 * (1 - t) * t * yi + Math.pow(t, 2) * y2\n    ];\n};\n\nutils.getPointTangentOnQuadraticCurve = function(t, x1, y1, x2, y2, xi, yi) {\n    var pos1 = utils.getPointOnQuadraticCurve(t, x1, y1, x2, y2, xi, yi);\n    var pos2 = utils.getPointOnQuadraticCurve(t+0.001, x1, y1, x2, y2, xi, yi);\n    return utils.normalize([pos2[0]-pos1[0],pos2[1] - pos1[1]]);\n};\n\n/**\n * Check if a point is on a quadratic bezier curve segment with a thickness.\n *\n * @param  {number} x       The X coordinate of the point to check.\n * @param  {number} y       The Y coordinate of the point to check.\n * @param  {number} x1      The X coordinate of the curve start point.\n * @param  {number} y1      The Y coordinate of the curve start point.\n * @param  {number} x2      The X coordinate of the curve end point.\n * @param  {number} y2      The Y coordinate of the curve end point.\n * @param  {number} cpx     The X coordinate of the curve control point.\n * @param  {number} cpy     The Y coordinate of the curve control point.\n * @param  {number} epsilon The precision (consider the line thickness).\n * @return {boolean}        True if (x,y) is on the curve segment,\n *                          false otherwise.\n */\nutils.isPointOnQuadraticCurve = function (x, y, x1, y1, x2, y2, cpx, cpy, epsilon) {\n    // Fails if the point is too far from the extremities of the segment,\n    // preventing for more costly computation:\n    var dP1P2 = utils.getDistance(x1, y1, x2, y2);\n    if (Math.abs(x - x1) > dP1P2 || Math.abs(y - y1) > dP1P2) {\n        return false;\n    }\n\n    var dP1 = utils.getDistance(x, y, x1, y1),\n        dP2 = utils.getDistance(x, y, x2, y2),\n        t = 0.5,\n        r = (dP1 < dP2) ? -0.01 : 0.01,\n        rThreshold = 0.001,\n        i = 100,\n        pt = utils.getPointOnQuadraticCurve(t, x1, y1, x2, y2, cpx, cpy),\n        dt = utils.getDistance(x, y, pt[0], pt[1]),\n        old_dt;\n\n    // This algorithm minimizes the distance from the point to the curve. It\n    // find the optimal t value where t=0 is the start point and t=1 is the end\n    // point of the curve, starting from t=0.5.\n    // It terminates because it runs a maximum of i interations.\n    while (i-- > 0 &&\n    t >= 0 && t <= 1 &&\n    (dt > epsilon) &&\n    (r > rThreshold || r < -rThreshold)) {\n        old_dt = dt;\n        pt = utils.getPointOnQuadraticCurve(t, x1, y1, x2, y2, cpx, cpy);\n        dt = utils.getDistance(x, y, pt[0], pt[1]);\n\n        if (dt > old_dt) {\n            // not the right direction:\n            // halfstep in the opposite direction\n            r = -r / 2;\n            t += r;\n        }\n        else if (t + r < 0 || t + r > 1) {\n            // oops, we've gone too far:\n            // revert with a halfstep\n            r = r / 2;\n            dt = old_dt;\n        }\n        else {\n            // progress:\n            t += r;\n        }\n    }\n\n    return dt < epsilon;\n}\n\n\nutils.getControlPos = function(x1,y1,x2,y2,count,order) {\n    // var dis = utils.getDistance(x1,y1,x2,y2);\n    // var factor = dis/8;\n    var factor = 20;\n\n    var ratio = (count)%2 == 1 ? 1 : -1;\n    ratio *= order ? 1 : -1;\n\n    factor *= ratio * ((count + 1) >> 1);\n\n    var norV = utils.normalize([y1-y2,x2-x1]);\n    return [norV[0]*factor+(x1+x2)/2,norV[1]*factor+(y1+y2)/2];\n};\n\n\nexport  default utils ;\n\n// window.utils = utils;\n\n\n// WEBPACK FOOTER //\n// ./src/util.js","\n'use strict';\n\nexport default class EventEmitter {\n    constructor(){\n        this.clearListeners();\n    }\n\n    on(type,cb){\n        if(!type || !cb) return;\n        this._listener[type] = this._listener[type] || [];\n\n        var listener = this._listener[type];\n        for(var i = 0,len = listener.length; i < len;i++){\n            if(cb == listener[i]) return;\n        }\n\n        this._listener[type].push(cb);\n        return this;\n    }\n\n    off(type,cb){\n        if(!type) return;\n        var listener;\n        if(!(listener = this._listener[type]) || listener.length < 1) return;\n\n        if(cb){\n            for(var i = 0,len = listener.length; i < len;i++){\n                if(cb == listener[i]){\n                    listener.splice(i,1);\n                    break;\n                }\n            }\n        }else {\n            this._listener[type] = [];\n        }\n    }\n\n    emit(type,args){\n        if(!type) return;\n        var listener,fn;\n        if(!(listener = this._listener[type]) || listener.length < 1) return;\n\n        listener = listener.slice();\n\n        for(var i = 0,len = listener.length;i< len;i++){\n            fn = listener[i];\n            fn.apply(null,args);\n        }\n    }\n\n    clearListeners(){\n        this._listener = {};\n    }\n\n\n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/base/EventEmitter.js","/**\n * Created by chengang on 17-2-16.\n */\n\n'use strict';\n\nimport EventEmitter from '../base/EventEmitter';\nimport timer from '../base/timer'\n\n/**\n * from d3-interpolate\n */\nfunction interpolateNumber(a, b) {\n    return a = +a, b -= a, function(t) {\n        return a + b * t;\n    };\n}\n\n\n\nexport  default class Tween extends  EventEmitter{\n\n    static list = [];\n\n    constructor(objs,type){\n        super();\n        if(!objs) throw 'must have a obj';\n\n        type = type || '';\n\n        this.objs = objs;\n        this.type = type;\n        this.interpolates = null;\n        this.timer = timer(this.timerHandle.bind(this));\n        this._duration = 0;\n\n        Tween.list.push(this);\n    }\n\n\n    timerHandle(elapsed) {\n        var t = elapsed / this._duration;\n\n        t = Math.min(t,1);\n\n        var obj,attr,attrInterpolater;\n        if(Array.isArray(this.interpolates)){\n            for(var i = 0,len = this.interpolates.length;i< len;i++){\n                obj = this.objs[i];\n                attrInterpolater = this.interpolates[i];\n                for(attr in attrInterpolater){\n                    obj[attr] = attrInterpolater[attr](t);\n                }\n            }\n        }else {\n            obj = this.objs;\n            attrInterpolater = this.interpolates;\n            for(attr in attrInterpolater){\n                obj[attr] = attrInterpolater[attr](t);\n            }\n        }\n\n        this.emit('change',[t]);\n\n        if(elapsed >=this._duration){\n            this.stop(true);\n        }\n\n    }\n\n\n    duration(time) {\n        this._duration = time;\n        return this;\n    }\n\n    to(toObjs) {\n        if(Array.isArray(toObjs) && toObjs.length !== this.objs.length){\n            console.error('toObjs lenght not eq objs length');\n            this.stop();\n            return this;\n        }\n\n        var obj,attr,attrInterpolater;\n        if(Array.isArray(toObjs)){\n            this.interpolates = [];\n            for(var i = 0,len = toObjs.length;i<len;i++){\n                obj = toObjs[i];\n                attrInterpolater = {};\n                for(attr in obj){\n                    attrInterpolater[attr] = interpolateNumber(this.objs[i][attr],obj[attr]);\n                }\n                this.interpolates.push(attrInterpolater);\n            }\n        }else {\n            obj = toObjs;\n            attrInterpolater = {};\n            for(attr in obj){\n                attrInterpolater[attr] = interpolateNumber(this.objs[attr],obj[attr]);\n            }\n            this.interpolates = attrInterpolater;\n        }\n\n        return this;\n\n    };\n\n    stop(emitEnd) {\n        if(this.timer){\n            this.timer.stop();\n            this.timer = null;\n            this.objs = null;\n            this.interpolates = null;\n\n            if(emitEnd) this.emit('end');\n\n            Tween.remove(this.objs);\n        }\n    }\n\n    static remove(obj,emitEnd){\n        var list = Tween.list;\n        Tween.list = [];\n        list.forEach(function (e) {\n            if(e.objs == obj){\n                e.stop(emitEnd);\n            }else {\n                Tween.list.push(e);\n            }\n        })\n    }\n\n    static removeByType(type,emitEnd){\n        var list = Tween.list;\n        Tween.list = [];\n        list.forEach(function (e) {\n            if(e.type === type){\n                e.stop(emitEnd);\n            }else {\n                Tween.list.push(e);\n            }\n        })\n    }\n\n    static removeAll(emitEnd){\n        Tween.list.forEach(function (e) {\n            e.stop(emitEnd);\n        })\n\n        Tween.list = [];\n    }\n\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/animation/tween.js","'use strict';\n\nimport util from '../util'\n\n\nexport var GLComType = {\n    FLOAT:{glType:'FLOAT',bytes:4},\n    BYTE:{glType:'BYTE',bytes:1},\n    SHORT:{glType:'SHORT',bytes:2},\n    UNSIGNED_BYTE:{glType:'UNSIGNED_BYTE',bytes:1},\n    UNSIGNED_SHORT:{glType:'UNSIGNED_SHORT',bytes:2},\n};\n\nexport var GlType = {\n    FLOAT:{components:1,glType:'FLOAT'},\n    FLOAT_VEC2:{components:2,glType:'FLOAT_VEC2'},\n    FLOAT_VEC3:{components:3,glType:'FLOAT_VEC3'},\n    FLOAT_VEC4:{components:4,glType:'FLOAT_VEC4'},\n    INT:{components:1,glType:'INT'},\n    INT_VEC2:{components:2,glType:'INT_VEC2'},\n    INT_VEC3:{components:3,glType:'INT_VEC3'},\n    INT_VEC4:{components:4,glType:'INT_VEC4'},\n    BOOL:{components:1,glType:'BOOL'},\n    BOOL_VEC2:{components:2,glType:'BOOL_VEC2'},\n    BOOL_VEC3:{components:3,glType:'BOOL_VEC3'},\n    BOOL_VEC4:{components:4,glType:'BOOL_VEC4'},\n    FLOAT_MAT2:{components:4,glType:'FLOAT_MAT2'},\n    FLOAT_MAT3:{components:9,glType:'FLOAT_MAT3'},\n    FLOAT_MAT4:{components:16,glType:'FLOAT_MAT4'},\n    SAMPLER_2D:{components:1,glType:'SAMPLER_2D'},\n    SAMPLER_CUBE:{components:1,glType:'SAMPLER_CUBE'},\n};\n\nfunction getType(gl,typeNum) {\n    var type = 'FLOAT';\n    for(var name in GlType){\n        if(gl[name] == typeNum) return name;\n    }\n    console.error('gl type not found');\n    return type;\n}\n\n\nexport  function getActiveAttributes (gl,program) {\n    var shaderAttrInfos = {};\n    var numAttribs = gl.getProgramParameter(program, gl.ACTIVE_ATTRIBUTES);\n    for (var i = 0; i < numAttribs; ++i) {\n        var attribInfo = gl.getActiveAttrib(program, i);\n        if (!attribInfo) {\n            continue;\n        }\n\n        shaderAttrInfos[attribInfo.name] = {};\n        shaderAttrInfos[attribInfo.name].type = getType(gl,attribInfo.type);\n        shaderAttrInfos[attribInfo.name].size = attribInfo.size;\n        shaderAttrInfos[attribInfo.name].location = gl.getAttribLocation(program, attribInfo.name);\n    }\n    return shaderAttrInfos;\n}\n\nexport function getActiveUniforms (gl,program) {\n    var shaderUniformInfos = {};\n    var numUniforms = gl.getProgramParameter(program, gl.ACTIVE_UNIFORMS);\n    for (var i = 0; i < numUniforms; ++i) {\n        var uniformInfo = gl.getActiveUniform(program, i);\n        if (!uniformInfo) {\n            continue;\n        }\n\n        var name = uniformInfo.name;\n        // remove the array suffix.\n        if (name.substr(-3) === \"[0]\") {\n            name = name.substr(0, name.length - 3);\n        }\n\n        shaderUniformInfos[name] = {};\n        shaderUniformInfos[name].type = getType(gl,uniformInfo.type);\n        shaderUniformInfos[name].size = uniformInfo.size;\n        shaderUniformInfos[name].location = gl.getUniformLocation(program, name);\n    }\n    return shaderUniformInfos;\n}\n\nexport function calTypeOffset(activeAttributes,config) {\n    config = config || {};\n    var offsetConfig = {\n        config:{},\n        strip:0\n    };\n    var type,num = 0;\n    for(var attr in activeAttributes){\n        type = activeAttributes[attr].type;\n        offsetConfig.config[attr] = {};\n        offsetConfig.config[attr].start = num;\n        offsetConfig.config[attr].components = GlType[type].components;\n        num += GlType[type].components;\n    }\n    offsetConfig.strip = num;\n    return offsetConfig;\n}\n\nexport function vertexAttribPointer(gl,activeAttributes,offsetConfig) {\n    // debugger\n    var config = offsetConfig.config;\n    var strip = offsetConfig.strip;\n    var err = [];\n    for(var attr in activeAttributes){\n        if(!(attr in config) || config[attr] == undefined){\n            err.push(`shader need attribute: ${attr}`);\n            continue;\n        }\n        gl.vertexAttribPointer(\n            activeAttributes[attr].location,\n            config[attr].components,\n            gl.FLOAT, false, strip*4, config[attr].start*4\n        );\n        gl.enableVertexAttribArray(activeAttributes[attr].location);\n    }\n    return err.length ? err.join('\\n') : null;\n}\n\nexport function checkAttrValid(config,data){\n\n    var type;\n    var err = [];\n    for(var attr in config){\n        if(!config.hasOwnProperty(attr)){\n            err.push('shader need attribute: ' + attr);\n            continue;\n        }\n\n        if(data[attr] == undefined){\n            err.push('attribute ['+attr+']: is undefined');\n            continue;\n        }\n\n        type = config[attr].type;\n        if(util.isArray(data[attr]) && data[attr].length != GlType[type].components*config[attr].size){\n            err.push('attribute ['+attr+']: size need ' + GlType[type].components);\n        }\n    }\n\n    return err.length ? err : null;\n}\n\nexport function calculateStrip(attributes) {\n    var strip = 0;\n    for(var attr in attributes){\n        strip += attributes[attr].components;\n    }\n    return strip;\n}\n\n\nvar uniformSetter = {\n    FLOAT:function (gl,location,v) {gl.uniform1f(location, v);} ,\n    FLOAT_VEC2:function (gl,location,v) {gl.uniform2fv(location, v);} ,\n    FLOAT_VEC3:function (gl,location,v) {gl.uniform3fv(location, v);} ,\n    FLOAT_VEC4:function (gl,location,v) {gl.uniform4fv(location, v);} ,\n    FLOAT_MAT2:function (gl,location,v) {gl.uniformMatrix2fv(location, false, v);} ,\n    FLOAT_MAT3:function (gl,location,v) {gl.uniformMatrix3fv(location, false, v);} ,\n    FLOAT_MAT4:function (gl,location,v) {gl.uniformMatrix4fv(location, false, v);} ,\n    SAMPLER_2D:function (gl,location,v) {\n        if(v.length) gl.uniform1iv(location, v);\n        else gl.uniform1i(location, v);\n    } ,\n};\nexport  function setUniforms(gl,activeUniforms,uniforms){\n    var type;\n    var err = [];\n    for(var attr in activeUniforms){\n        if(!(attr in uniforms) || uniforms[attr] == undefined){\n            err.push(`shader need uniform: ${attr}`);\n            continue;\n        }\n        type = activeUniforms[attr].type;\n        uniformSetter[type](gl,activeUniforms[attr].location,uniforms[attr]);\n    }\n    return err.length ? err.join('\\n') : null;\n}\n\n//webgl shader tool\nexport function loadShader(gl, shaderSource, shaderType, error) {\n    var compiled,\n        shader = gl.createShader(shaderType);\n\n    // Load the shader source\n    gl.shaderSource(shader, shaderSource);\n\n    // Compile the shader\n    gl.compileShader(shader);\n\n    // Check the compile status\n    compiled = gl.getShaderParameter(shader, gl.COMPILE_STATUS);\n\n    // If something went wrong:\n    if (!compiled) {\n        if (error) {\n            error('Error compiling shader \"' + shader + '\":' + gl.getShaderInfoLog(shader));\n        }\n\n        console.error('Error compiling shader \"' + shader + '\":' + gl.getShaderInfoLog(shader));\n        gl.deleteShader(shader);\n        return null;\n    }\n\n    return shader;\n};\n\nexport function loadProgram(gl, shaders, attribs, loc, error) {\n    var i,\n        linked,\n        program = gl.createProgram();\n\n    program.shaders = {};\n\n    for (i = 0; i < shaders.length; ++i)\n    {\n        gl.attachShader(program, shaders[i]);\n        program.shaders['shader'+i] = shaders[i];\n    }\n\n\n    if (attribs)\n        for (i = 0; i < attribs.length; ++i)\n            gl.bindAttribLocation(\n                program,\n                locations ? locations[i] : i,\n                opt_attribs[i]\n            );\n\n    gl.linkProgram(program);\n\n    // Check the link status\n    linked = gl.getProgramParameter(program, gl.LINK_STATUS);\n    if (!linked) {\n        if (error)\n            error('Error in program linking: ' + gl.getProgramInfoLog(program));\n        console.error('Error in program linking: ' + gl.getProgramInfoLog(program));\n        gl.deleteProgram(program);\n        return null;\n    }\n\n    return program;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/base/GLUtil.js","'use strict';\n\n\nvar mat3 = {};\n\n/**\n *\n * 返回一个单位矩阵\n */\nmat3.normalize = function () {\n    return [\n        1, 0, 0,\n        0, 1, 0,\n        0, 0, 1\n    ];\n};\n\n/**\n * 从dx ,dy 创建一个平移矩阵。\n * @param dx\n * @param dy\n *\n */\nmat3.matrixFromTranslate = function(dx, dy) {\n    return [\n        1, 0, 0,\n        0, 1, 0,\n        dx, dy, 1\n    ];\n};\n\n/**\n * 从angle 创建一个旋转矩阵。\n * @param angle (弧度值)\n */\nmat3.matrixFromRotation = function(angle) {\n    var cos = Math.cos(angle),\n        sin = Math.sin(angle);\n\n    return  [\n        cos, sin, 0,\n        -sin, cos, 0,\n        0, 0, 1\n    ];\n};\n\n/**\n * 从scalex ,scaley 创建一个缩放矩阵。\n * @param x\n * @param y\n */\nmat3.matrixFromScale = function(x,y) {\n    return  [\n        x, 0, 0,\n        0, y, 0,\n        0, 0, 1\n    ];\n};\n\n/**\n * 计算一个矩阵的逆矩阵。\n * @param a\n */\nmat3.invert = function (a) {\n    var l =  3,\n        a11 = a[0 * l + 0],\n        a12 = a[0 * l + 1],\n        a13 = a[0 * l + 2],\n        a21 = a[1 * l + 0],\n        a22 = a[1 * l + 1],\n        a23 = a[1 * l + 2],\n        a31 = a[2 * l + 0],\n        a32 = a[2 * l + 1],\n        a33 = a[2 * l + 2];\n\n    var del = a11*(a22*a33-a23*a32)-a12*(a21*a33-a23*a31)+a13*(a21*a32-a22*a31);\n\n    return [\n        (a22*a33-a23*a32)/del,(a13*a32-a12*a33)/del,(a12*a23-a13*a22)/del,\n        (a23*a31-a21*a33)/del,(a11*a33-a13*a31)/del,(a13*a21-a11*a23)/del,\n        (a21*a32-a22*a31)/del,(a12*a31-a11*a32)/del,(a11*a22-a12*a21)/del\n    ];\n}\n\n/**\n * 矩阵相乘，在a的基础上做b变换。\n * @param a\n * @param b\n */\nmat3.multiply = function(a, b) {\n    var l =  3,\n        a00 = a[0 * l + 0],\n        a01 = a[0 * l + 1],\n        a02 = a[0 * l + 2],\n        a10 = a[1 * l + 0],\n        a11 = a[1 * l + 1],\n        a12 = a[1 * l + 2],\n        a20 = a[2 * l + 0],\n        a21 = a[2 * l + 1],\n        a22 = a[2 * l + 2],\n        b00 = b[0 * l + 0],\n        b01 = b[0 * l + 1],\n        b02 = b[0 * l + 2],\n        b10 = b[1 * l + 0],\n        b11 = b[1 * l + 1],\n        b12 = b[1 * l + 2],\n        b20 = b[2 * l + 0],\n        b21 = b[2 * l + 1],\n        b22 = b[2 * l + 2];\n\n    return [\n        a00 * b00 + a01 * b10 + a02 * b20,\n        a00 * b01 + a01 * b11 + a02 * b21,\n        a00 * b02 + a01 * b12 + a02 * b22,\n        a10 * b00 + a11 * b10 + a12 * b20,\n        a10 * b01 + a11 * b11 + a12 * b21,\n        a10 * b02 + a11 * b12 + a12 * b22,\n        a20 * b00 + a21 * b10 + a22 * b20,\n        a20 * b01 + a21 * b11 + a22 * b21,\n        a20 * b02 + a21 * b12 + a22 * b22\n    ];\n};\n\n/**\n * 对点p进行a矩阵变换。\n * @param p\n * @param a\n */\nmat3.transformPoint = function (p,a) {\n    var x = p[0],\n        y = p[1];\n    var l =  3,\n        a00 = a[0 * l + 0],\n        a01 = a[0 * l + 1],\n        a02 = a[0 * l + 2],\n        a10 = a[1 * l + 0],\n        a11 = a[1 * l + 1],\n        a12 = a[1 * l + 2],\n        a20 = a[2 * l + 0],\n        a21 = a[2 * l + 1],\n        a22 = a[2 * l + 2];\n\n    return [x*a00+y*a10+a20,x*a01+y*a11+a21];\n}\n\n/**\n * 对向量v进行a矩阵变换。\n * @param v\n * @param a\n */\nmat3.rotateVector = function (v,a) {\n    var x = v[0],\n        y = v[1];\n    var l =  3,\n        a00 = a[0 * l + 0],\n        a01 = a[0 * l + 1],\n        a02 = a[0 * l + 2],\n        a10 = a[1 * l + 0],\n        a11 = a[1 * l + 1],\n        a12 = a[1 * l + 2],\n        a20 = a[2 * l + 0],\n        a21 = a[2 * l + 1],\n        a22 = a[2 * l + 2];\n\n    return [x*a00+y*a10,x*a01+y*a11];\n};\n\n/**\n * 计算多个矩阵的变换。\n * @param matrixs\n */\nmat3.multiMatrix = function (matrixs) {\n    return matrixs.reduce(function (pre,cur) {\n        return mat3.multiply(pre,cur);\n    })\n};\n\nexport default mat3;\n\n\n\n// WEBPACK FOOTER //\n// ./src/base/Matrix.js","\n'use strict';\n\n\nimport  utils  from '../util.js'\n// import  Quad from '../base/Quad'\nimport EventEmitter from '../base/EventEmitter'\n\nclass Graph extends EventEmitter{\n\n    constructor(options) {\n\n        super();\n\n        options = options || {};\n\n        // this.quad = new Quad();\n\n        this.read(options);\n\n    }\n\n    clear(){\n        /**\n         * node edge data\n         */\n        this.nodes = [];\n        this.edges = [];\n\n        /**\n         * node edge index\n         */\n        this.nodesIndex = {};\n        this.edgesIndex = {};\n\n        /**\n         *nodes degrees info\n         */\n        this.inEdgesIndex = {};\n        this.outEdgesIndex = {};\n        \n        this.curveGroup = null;\n    }\n\n    /**\n     * 读取 node ,edge 信息\n     * @param options\n     */\n    read(options) {\n\n        this.clear();\n\n        (options.nodes || []).forEach(function (e) {\n            if (!e.id) e.id = utils.uuid();\n            e.id += '';\n            this.nodesIndex[e.id] = e;\n            this.nodes.push(e);\n        }.bind(this));\n\n        (options.edges || []).forEach(function (e) {\n            if (!e.id) e.id = utils.uuid();\n\n            if (!e.source || !this.nodesIndex[e.source + ''])\n            {\n                // console.log(e);\n                console.error('some edge has not source id or not a node of the id') ;\n                return\n            }\n            if (!e.target || !this.nodesIndex[e.target + '']){\n                // console.log(e);\n                console.error('some edge has not target id or not a node of the id');\n                return\n            }\n\n            this.edgesIndex['' + e.id] = e;\n\n            e.source += '';\n            e.target += '';\n\n            this.inEdgesIndex[e.target] = this.inEdgesIndex[e.target] || [];\n            this.inEdgesIndex[e.target].push(e.id);\n\n            this.outEdgesIndex[e.source] = this.outEdgesIndex[e.source] || [];\n            this.outEdgesIndex[e.source].push(e.id);\n\n            this.edges.push(e);\n\n        }.bind(this));\n\n        this.createEdgeCurveCount();\n\n        this.emit('reset');\n\n        // this.quad.index(this.nodes);\n\n    }\n\n    createEdgeCurveCount(){\n        \n        var map = this.curveGroup = {};\n        \n        var source,target,attr;\n        this.edges.forEach(function (edge) {\n            source = this.nodesIndex[edge.source];\n            target = this.nodesIndex[edge.target];\n            attr = edge.source+'&'+edge.target;\n            if(!map[attr]) map[attr] = map[edge.target+'&'+edge.source] = {counter:0,source:edge.source};\n\n            edge._curveGroup = map[attr];\n\n            edge.curveCount = map[attr].counter;\n            map[attr].counter++;\n            edge.curveOrder = edge.source == map[attr].source;\n        }.bind(this));\n    }\n\n    /**\n     * add nodes\n     * @param nodes\n     */\n    addNode(nodes) {\n        nodes = nodes || [];\n\n        if(nodes.length == 0) return;\n\n        if (!utils.isArray(nodes)) nodes = [nodes];\n\n        var node;\n        for (var i = 0; i < nodes.length; i++) {\n            node = nodes[i];\n            if (!node.id) node.id = utils.uuid();\n            if (this.nodesIndex[node.id]) {\n                throw 'node has existed.'\n            }\n            this.nodes.push(node);\n            this.nodesIndex[node.id] = node;\n        }\n\n        var ids = nodes.map(function (e) {return e.id});\n        this.emit('add',['node',ids]);\n    }\n\n\n    /**\n     * remove node\n     * @param nodeid\n     */\n    removeNode(nodeids) {\n        if(!utils.isArray()) nodeids = [nodeids];\n\n        nodeids.forEach(function (nodeid) {\n            this._removeNode(nodeid);\n        }.bind(this));\n\n        this.emit('remove',['node',nodeids]);\n\n    }\n\n    /**\n     *\n     * @private\n     */\n    _removeNode(nodeid) {\n        if (!nodeid || !this.nodesIndex[nodeid]) return;\n\n        var nodes = this.nodes;\n        for (var i = 0; i < nodes.length; i++) {\n            if (nodes[i].id == nodeid) {\n                nodes.splice(i, 1);\n                break\n            }\n        }\n        var edges;\n        edges = this.inEdgesIndex[nodeid];\n        if (edges && edges.length > 0) {\n            edges = edges.slice();\n            edges.forEach(function (e) {\n                this.removeEdge(e);\n            }.bind(this));\n        }\n\n        edges = this.outEdgesIndex[nodeid];\n        if (edges && edges.length > 0) {\n            edges = edges.slice();\n            edges.forEach(function (e) {\n                this.removeEdge(e);\n            }.bind(this));\n        }\n\n        this.nodesIndex[nodeid] = null;\n        this.inEdgesIndex[nodeid] = null;\n        this.outEdgesIndex[nodeid] = null;\n    }\n\n\n    /**\n     * add edges ,\n     * @param edges\n     */\n    addEdge(edges) {\n        edges = edges || [];\n\n        if(edges.length  == 0) return;\n\n        if (!utils.isArray(edges)) edges = [edges];\n\n        var edge;\n        for (var i = 0; i < edges.length; i++) {\n            edge = edges[i];\n            if (!edge.id) edge.id = utils.uuid();\n            if (this.edgesIndex[edge.id]){\n                // debugger\n                throw 'edge has existed.';\n            }\n            if (!edge.source || !this.nodesIndex[edge.source + '']){\n                console.log(edge);\n                throw 'some edge has not source id or not a node of the id';\n            }\n            if (!edge.target || !this.nodesIndex[edge.target + '']) {\n                console.log(edge);\n                throw 'some edge has not target id or not a node of the id';\n            }\n\n            this.edges.push(edge);\n            this.edgesIndex[edge.id] = edge;\n\n            edge.source += '';\n            edge.target += '';\n\n            this.inEdgesIndex[edge.target] = this.inEdgesIndex[edge.target] || [];\n            this.inEdgesIndex[edge.target].push(edge.id);\n\n            this.outEdgesIndex[edge.source] = this.outEdgesIndex[edge.source] || [];\n            this.outEdgesIndex[edge.source].push(edge.id);\n        }\n\n        this.createEdgeCurveCount();\n\n        var ids = edges.map(function (e) {return e.id});\n        this.emit('add',['edge',ids]);\n    }\n\n\n    removeEdge(edgeids) {\n\n        if(!utils.isArray(edgeids)) edgeids = [edgeids];\n\n        edgeids.forEach(function (edgeid) {\n            this._removeEdge(edgeid);\n        }.bind(this));\n\n        this.emit('remove',['edge',edgeids]);\n    }\n\n    /**\n     *\n     * @private\n     */\n    _removeEdge(edgeid) {\n        if (!edgeid || !this.edgesIndex[edgeid]) return;\n\n        var edge = this.edgesIndex[edgeid], edges;\n        var outEdgesIndex, inEdgesIndex;\n\n\n        outEdgesIndex = this.outEdgesIndex[edge.source];\n        if (outEdgesIndex.length > 0) {\n            for (var i = 0; i < outEdgesIndex.length; i++) {\n                if (outEdgesIndex[i] == edgeid) {\n                    outEdgesIndex.splice(i, 1);\n                    break;\n                }\n            }\n        }\n        inEdgesIndex = this.inEdgesIndex[edge.target];\n        if (inEdgesIndex.length > 0) {\n            for (var i = 0; i < inEdgesIndex.length; i++) {\n                if (inEdgesIndex[i] == edgeid) {\n                    inEdgesIndex.splice(i, 1);\n                    break;\n                }\n            }\n        }\n\n\n        edges = this.edges;\n        for (var i = 0; i < edges.length; i++) {\n            if (edges[i].id == edgeid) {\n                edges.splice(i, 1);\n                break;\n            }\n        }\n\n        this.edgesIndex[edgeid] = null;\n    }\n\n\n\n    getNodes(){\n        return this.nodes;\n    }\n\n    setNodeData(ids,objs){\n        // console.time('setNodeData')\n        if(!utils.isArray(ids)){\n            ids = [ids];\n        }\n\n        var objIsArr = utils.isArray(objs);\n\n        var nodeDirtyArr = [];\n        var edgeDirtyArr = [];\n        var edgeIdArr = [];\n\n        ids.forEach(function (id,i) {\n            var node = this.nodesIndex[id];\n            var obj = objIsArr ? objs[i] : objs;\n            var updatePos = false;\n\n            if(obj.hasOwnProperty('x') || obj.hasOwnProperty('y')) updatePos = true;\n\n            for(var attr in obj){\n                node[attr] = obj[attr];\n            }\n            nodeDirtyArr.push(obj);\n\n            if(updatePos){\n                if (this.inEdgesIndex[id] && this.inEdgesIndex[id].length > 0) {\n                    this.inEdgesIndex[id].forEach(id => {\n                        edgeIdArr.push(id);\n                        edgeDirtyArr.push({source: true, target: true});\n                    });\n                }\n\n                if (this.outEdgesIndex[id] && this.outEdgesIndex[id].length > 0) {\n                    this.outEdgesIndex[id].forEach(id => {\n                        edgeIdArr.push(id);\n                        edgeDirtyArr.push({source: true, target: true});\n                    });\n                }\n            }\n        }.bind(this));\n\n        this.emit('change',['node',ids,nodeDirtyArr]);\n\n        edgeIdArr.length > 0 && this.emit('change',['edge',edgeIdArr,edgeDirtyArr]);\n\n        // console.timeEnd('setNodeData')\n    }\n\n    setEdgeData(ids,objs){\n\n        if(!utils.isArray(ids)){\n            ids = [ids];\n        }\n\n        var objIsArr = utils.isArray(objs);\n\n        var edgeDirtyArr = [];\n\n        ids.forEach(function (id,i) {\n            var edge = this.edgesIndex[id];\n            var obj = objIsArr? objs[i] : objs;\n\n            for(var attr in obj){\n                edge[attr] = obj[attr];\n            }\n            edgeDirtyArr.push(obj);\n        }.bind(this));\n\n\n        this.emit('change',['edge',ids,edgeDirtyArr])\n    }\n\n    // updateNodeQuad(id,oldpos){\n    //     var nodes = this.quad.point(oldpos.x,oldpos.y);\n    //     if(nodes.length > 0){\n    //         for(var i = 0,len = nodes.length;i<len;i++){\n    //             if(nodes[i].id == id){\n    //                 nodes.splice(i,1);\n    //                 break;\n    //             }\n    //         }\n    //         this.quad.insert(this.nodesIndex[id],this.quad.root);\n    //     }\n    // }\n}\n\nexport default Graph;\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/Graph.js","\n'use strict';\n\nimport util from '../../util'\nimport mat3 from '../../base/Matrix'\nimport EventEmitter from '../../base/EventEmitter'\nimport TextureLoader from './TextureLoader'\nimport TextureText from './TextureText'\nimport TextureIcon from './TextureIcon'\nimport initEvent from '../../core/Event'\nimport Tween from '../../animation/tween'\nimport {\n    loadProgram,\n    loadShader,\n    getActiveUniforms,\n    getActiveAttributes,\n    vertexAttribPointer,\n    setUniforms,\n    checkAttrValid,\n    calculateStrip\n} from '../../base/GLUtil'\n\nconst mouseType = {\n    MOVE:'move',\n    DEFAULT:'default',\n    POINTER:'pointer'\n};\n\nclass WebGLRender extends EventEmitter{\n    constructor(context,container) {\n        super();\n\n        //graphView obj\n        this.context = context;\n        //config\n        this.config = this.context.config;\n\n        //dom canvas\n        this.container = container;\n        //graph\n        this.graph = context.graph;\n\n        //render flag, render when  needUpdate is true;\n        this.needUpdate = true;\n        //sample Ratio,\n        this.sampleRatio = 1;\n\n        this._destroy = false;\n\n        this.gl = null;\n\n        //init webgl context and Extension\n        this.initGl();\n\n        // this.textureLoader = new TextureLoader();\n        //manage icon texture for node\n        this.textureIcon = new TextureIcon(this.config,this.gl,0);\n        //manager text texture for node ,edge\n        this.textureText = new TextureText(this.config,this.gl,1);\n\n        //enum mouse type\n        this.mouseType = mouseType;\n\n        // matrix from camera coordinate to webgl coordinate[-1 ,1]\n        this.projectMatrix = null;\n\n        // camera transform info\n        this.camera = {\n            scale:1,//scale\n            positionX:0,//position x\n            positionY:0,//position y\n            rotation:0//rotation,(not use now)\n        };\n\n        // gl frame buffer to save png(not use now)\n        this.saveDataFrame = null;\n        // gl texture\n        this.saveDataTex = null;\n\n        /**\n         ** render cache for context : graph ,node ,edge. for every node or edge , cache the render data for the\n         * relative layers, and if need , the vertex buffer of render layers are composed of the vertex data of the contexts,\n         *  the index buffer of render layers  are composed of the index data fo the contexts;\n         *\n         *  more info look at [updateCacheByData]\n         *\n         *  layers : relative layers of the context. example : 'node' 'nodeLabel' 'rectNode' for node context.\n         *  index : a map that store the layer info for each context, the key is the id of a node or a edge.\n         *\n         *      vertexStart: the start vertex num at the vertex buffer of render layer,\n         *      data.vertices: the vertex data array.\n         *      data.indices: the index data array.\n         *      oldVertexLength: the len of data.vertices in bytes.\n         *      oldIndexLength: the len of data.indices in bytes.\n         *\n         *  filters : context relative filters\n         *\n         *  update : data to update\n         *\n         *  example:\n         *  {\n         *     node:{\n         *       layers:['node','nodeLabel',...]\n         *       index:{\n         *             'nodeId1':{\n         *                      'layername1': {vertexStart:-1,data:{vertices:[...],indices:[...]},oldVertexLength:-1,oldIndexLength:-1}\n         *                      .....\n         *                  }\n         *               ....\n         *              }\n         *       filters:[filterNodeBySize,....]\n         *       }\n         *  }\n         *\n         */\n        this.renderCache = {\n            graph: {layers: [], index: {}, filters: [],update:{map:null,data:null}},\n            node: {layers: [], index: {}, filters: [],update:{map:null,data:null}},\n            edge: {layers: [], index: {}, filters: [],update:{map:null,data:null}}\n        };\n        // map for layers ,key is the layer name.\n        this.renderLayerMap = Object.create(null);\n\n        /**\n         * render layer config, default is the WebGLRender.defaultLayersConfig .  more info in file [defaultConfig/index.js]\n         * {\n         *   mainLayer: {boolean} the main name that the layer belong to.\n         *   enable: {boolean} render and update the layer or not\n         *   show: {boolean} render the layer or not ,  don't affect update the layer.\n         *   needResize: {boolean} need resize the vertex buffer of layer or not\n         *   program: {WebGLProgram} the vertex buffer is initialized or not.\n         *   tempVertex: temp data for vertex buffer.\n         *   tempIndex: temp data for index buffer.\n         *   cache:{boolean} vertex buffer cache flag.\n         *   indexCache:{boolean} index buffer cache flag.\n         *   check:{fun} check the node or the edge will be render at the layer\n         *   option:{obj} custom args for the layer, pass to [getRenderData , getUniforms] of the layer render.\n         *   filter:{array} layer filters.\n         * }\n         *\n         */\n        this.renderLayersConfig = this.config.renderLayersConfig || WebGLRender.defaultLayersConfig;\n\n\n        //register events to graph,event 'change' 'add' 'remove' etc.\n        this.initEvent();\n\n        //init textureIcon for node\n        this.initIconTexture();\n\n        //init textureText for node label and edge label\n        this.initTextTexture();\n\n\n        //init render layers info\n        this.initRenderLayer();\n\n        // this.updateLayerData();\n\n        // init mouse events\n        initEvent.call(this);\n\n    }\n\n    destroy(){\n\n        this.context = null;\n\n        this.graph = null;\n\n        this.textureIcon.destroy();\n        this.textureText.destroy();\n\n        this.container.parentNode.removeChild(this.container);\n        this.container = null;\n\n        this.renderCache = null;\n        this.renderLayerMap = null;\n        this.renderLayersConfig = null;\n\n        this.clearRenderMap();\n\n        this.clearListeners();\n\n        this._destroy = true;\n\n    }\n\n    /**\n     * init webgl info\n     */\n    initGl() {\n        //webgl　默认初始化 option\n        var option = {\n            preserveDrawingBuffer:true,\n            premultipliedAlpha:true,\n            alpha:true,\n            antialias:true\n        }\n\n        var canvas = this.container,gl;\n        \n        gl = canvas.getContext('experimental-webgl',option) || canvas.getContext('webgl',option);\n\n\n        if (!gl) throw 'browser not support WebGL!';\n\n\n        //加载　Extension\n        gl.getExtension('OES_standard_derivatives');\n        gl.getExtension('OES_element_index_uint');\n\n        this.gl = gl;\n    }\n\n    /**\n     * init event\n     */\n    initEvent(){\n        var _this = this;\n        //graph node or edge 属性改变会触发　change 事件，\n        this.graph.on('change',function (type,ids,dirtyAttrs) {\n            if(type =='node'){\n                updateTextureText(dirtyAttrs);\n                 _this.updateNodeRenderData(ids,dirtyAttrs);\n            }else if(type == 'edge'){\n                updateTextureText(dirtyAttrs);\n                _this.updateEdgeRenderData(ids,dirtyAttrs);\n            }\n\n        });\n\n        // clear缓存，重新计算 icon 和　text texture\n        this.graph.on('reset',function () {\n            _this.clearRenderCache();\n            _this.initIconTexture();\n            _this.initTextTexture();\n        });\n\n\n        //node or edge 增加时，　需要重新计算cache, 更新text texture.\n        this.graph.on('add',function (type,ids) {\n            if(!util.isArray(ids)) ids = [ids];\n\n            var objs = null;\n\n            if(type == 'node') objs = ids.map(function (e) {return _this.graph.nodesIndex[e]});\n            else objs = ids.map(function (e) {return _this.graph.edgesIndex[e]});\n\n            updateTextureText(objs);\n            _this.clearRenderCache();\n\n        });\n\n        // node or edge 移除时，　需要重新计算　index cache\n        this.graph.on('remove',function (type,ids) {\n            _this.forceRender();\n            var contextRelativeLayers = _this.renderCache[type].layers;\n            var  renderLayerMap = _this.renderLayerMap;\n\n            contextRelativeLayers.forEach(function (layer) {\n                renderLayerMap[layer].indexCache = false;// 重新计算index cache\n            });\n        });\n\n        //更新 text texture\n        function updateTextureText(objs) {\n            // debugger\n            var addtexts = getAddText(objs);\n            if(addtexts.length > 0){\n                // console.time('updateTextureText');\n                //是否需要　resize text texture\n                if(_this.textureText.needResize(addtexts.length)){\n                    //clear cache\n                    _this.clearRenderCache();\n                }\n                //add texts\n                _this.textureText.addTexts(addtexts);\n                _this.textureText.attachGl(_this.gl);\n                // console.timeEnd('updateTextureText');\n            }\n        }\n\n        function getAddText(objs) {\n            var infos = _this.textureText.textinfo.infos;\n            var char,len;\n            var texts = [];\n            var map = {};\n            objs.forEach(function (e) {\n                if(!e.label) return;\n                len = e.label.length;\n                for(var i = 0;i< len;i++){\n                    char = e.label.charAt(i);\n                    if(!infos[char] && !map[char]){\n                        texts.push(char);\n                        map[char] = true;\n                    }\n                }\n            });\n\n            return texts;\n        }\n\n    }\n\n    /**\n     * 初始化，text texture, 计算node.label 和　edge.label中的文字。\n     */\n    initTextTexture(){\n\n        console.time('initTextTexture')\n\n        //clear\n        this.textureText.clear();\n\n        var nodes = this.graph.nodes;\n        var edges = this.graph.edges;\n\n        // node label\n        var map = {};\n        var texts = [];\n        nodes.forEach(function (e) {\n            if(e.label){\n                var chars = e.label.split('');\n                chars.forEach(function (e) {\n                    if(e && !map[e]){\n                        map[e] = true;\n                        texts.push(e);\n                    }\n                })\n            }\n        });\n\n\n        //edge label\n        edges.forEach(function (e) {\n            if(e.label){\n                var chars = e.label.split('');\n                chars.forEach(function (e) {\n                    if(e && !map[e]){\n                        map[e] = true;\n                        texts.push(e);\n                    }\n                })\n            }\n        });\n\n        // add text\n        this.textureText.addTexts(texts);\n\n        console.timeEnd('initTextTexture')\n\n    }\n\n    /**\n     * 初始化 icon texture ,计算node.icon 中的 icon\n     */\n    initIconTexture(){\n\n        //clear\n        this.textureIcon.clear();\n\n        var nodes = this.graph.nodes;\n\n        //node icon\n        var map = {};\n        var icons = [];\n\n        if(this.config.textureIcons && this.config.textureIcons.length > 0) icons = this.config.textureIcons;\n        else{\n            nodes.forEach(function (e) {\n                if(e.icon){\n                    if(!map[e.icon]){\n                        map[e.icon] = true;\n                        icons.push(e.icon);\n                    }\n                }\n            });\n        }\n\n        //create icon texture\n        this.textureIcon.createIcons(icons);\n    }\n\n    /**\n     * 初始化render layer\n     */\n    initRenderLayer(){\n        var  renderLayerMap = this.renderLayerMap;\n        var gl = this.gl;\n        var program,strip = 0;\n\n        var _this = this;\n\n\n        this.renderLayersConfig.forEach(function (layer) {\n\n            layer.subLayers.forEach(function (subLayer) {\n\n                //default value\n                if(subLayer.enable == undefined) subLayer.enable = true;\n                if(subLayer.show == undefined) subLayer.show = true;\n                if(subLayer.option == undefined) subLayer.option = {};\n                if(subLayer.filters == undefined) subLayer.filters = [];\n\n                //layer map\n                renderLayerMap[subLayer.name] = subLayer;\n\n                //自定义layer ,没有下面的参数\n                if(subLayer.custom) return;\n\n                //create WebGLProgram\n                program = loadProgram(gl, [\n                    loadShader(gl, subLayer.render.shaderVert, gl.VERTEX_SHADER),\n                    loadShader(gl, subLayer.render.shaderFrag, gl.FRAGMENT_SHADER)\n                ]);\n\n                // attributes in shader\n                program.activeAttributes = getActiveAttributes(gl,program);\n                // uniforms in shader\n                program.activeUniforms = getActiveUniforms(gl,program);\n\n                //strip of a point in the render layer。\n                strip = subLayer.render.strip;\n\n                //如果不存在strip ,　从attributes　config 中计算\n                if(!subLayer.render.strip) strip = calculateStrip(subLayer.render.attributes);\n\n                //attributes offset in strip\n                program.offsetConfig = {config:subLayer.render.attributes,strip:strip};\n                program.uniforms = null;\n                //VBO buffer\n                program.vertexBuffer = gl.createBuffer();\n                //IBO buffer\n                program.indexBuffer = gl.createBuffer();\n                //IBO length\n                program.indexN = 0;\n\n                subLayer.mainLayer = layer.name;\n                subLayer.program = program;\n                subLayer.tempVertex = [];\n                subLayer.tempIndex = [];\n                subLayer.indexCache = false;\n                subLayer.needResize = false;\n\n                //layer check when create cache\n                if(subLayer.check == undefined) subLayer.check = function () {return true};\n\n                _this.renderCache[subLayer.context].layers.push(subLayer.name);\n\n            })\n        }.bind(this));\n    }\n\n    clearRenderMap(){\n        var renderLayerMap = this.renderLayerMap;\n        var gl = this.gl;\n        var layer ;\n\n        for(var name in renderLayerMap){\n            layer = renderLayerMap[name];\n\n            layer.option = null;\n            layer.filters = null;\n\n            if(layer.custom) continue;\n\n            layer.tempVertex = null;\n            layer.tempIndex = null;\n\n            layer.program.offsetConfig = null;\n            layer.program.activeAttributes = null;\n            layer.program.activeUniforms = null;\n            layer.program.uniforms = null;\n\n            for(var name1 in layer.program.shaders) gl.deleteShader(layer.program.shaders[name1]);\n\n            gl.deleteBuffer(layer.program.vertexBuffer);\n            gl.deleteBuffer(layer.program.indexBuffer);\n\n            gl.deleteProgram(layer.program);\n\n            layer.program = null;\n        }\n    }\n\n    /**\n     * prepare the render data and draw\n     */\n    render() {\n\n        if(this._destroy || !this.needUpdate) return;\n\n        // resize canvas width and height ,update projectMatrix\n\n        this.resizeCanvas();\n        // console.time('render');\n\n        this.updateChange();\n\n        //更新node 相关的render layer的　cache.\n\n        // console.time('updateContextCacheNode');\n        this.updateContextCache('node');\n        // console.timeEnd('updateContextCacheNode');\n\n        //更新edge 相关的render layer的　cache.\n\n        // console.time('updateContextCacheEdge');\n        this.updateContextCache('edge');\n        // console.timeEnd('updateContextCacheEdge');\n\n        //计算uniforms\n\n        // console.time('updateLayerUniformData');\n        this.updateLayerUniformData();\n        // console.timeEnd('updateLayerUniformData');\n\n        //resize vertex buffer(VBO).\n\n        // console.time('resizeLayerVertexData');\n        this.resizeLayerVertexData('node');\n        this.resizeLayerVertexData('edge');\n        // console.timeEnd('resizeLayerVertexData');\n\n        //update index buffer(IBO)\n        this.updateLayerIndex('node');//node first\n        this.updateLayerIndex('edge');\n\n        // console.time('draw');\n        try {\n            this.draw();\n        }catch (e) {\n            console.error(e);\n        }\n\n        // console.timeEnd('draw');\n        // console.timeEnd('render');\n\n        this.needUpdate = false;\n\n    }\n\n    /**\n     * set default render flags\n     */\n    _setFlag(){\n        var gl = this.gl;\n        // gl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA);\n        gl.blendFunc(gl.ONE, gl.ONE_MINUS_SRC_ALPHA);\n        // gl.blendFuncSeparate(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA,gl.SRC_ALPHA,gl.ONE_MINUS_SRC_ALPHA);\n        gl.enable(gl.BLEND);\n        gl.disable(gl.DEPTH_TEST);\n\n    }\n\n    _clear(){\n        var gl = this.gl;\n        var bgColor  = util.parseColor(this.config.defaultBackgroundColor);\n        gl.clearColor(bgColor.r/255,bgColor.g/255,bgColor.b/255,bgColor.a/255);\n\n        //clear viewport\n        gl.clear(gl.COLOR_BUFFER_BIT);\n    }\n\n    /**\n     * draw layer data\n     */\n    draw(){\n\n        var mainLayer, subLayers, layer, gl,err, renderLayerMap, program;\n        renderLayerMap = this.renderLayerMap;\n\n        gl = this.gl;\n        //clear\n\n        this._clear();\n\n       //emit event\n       this.emit('renderBefore',[this]);\n\n        for (var i = 0; i < this.renderLayersConfig.length; i++) {\n\n            mainLayer = this.renderLayersConfig[i];\n            subLayers = mainLayer.subLayers;\n\n            //for each layer\n            for (var j = 0; j < subLayers.length; j++) {\n\n                this._setFlag();\n\n                layer = subLayers[j].name;\n\n                if(!subLayers[j].enable || !subLayers[j].show) continue;\n\n                //custom render\n                if(subLayers[j].custom && subLayers[j].render){\n                    subLayers[j].render.call(subLayers[j],this,subLayers[j].option);\n                    continue;\n                }\n\n                //WebGLProgram\n                program = renderLayerMap[layer].program;\n\n                if(program.indexN == 0) continue;\n\n                //call renderBefore if exist\n                if(subLayers[j].render.renderBefore && util.isFunction(subLayers[j].render.renderBefore)){\n                    subLayers[j].render.renderBefore.call(subLayers[j],this,subLayers[j].option);\n                }\n\n                //gl call, use program\n                gl.useProgram(program);\n\n                //bind VBO IBO\n                gl.bindBuffer(gl.ARRAY_BUFFER, program.vertexBuffer);\n                gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, program.indexBuffer);\n\n                //set attributes offset and enable attributes location\n                if(err = vertexAttribPointer(gl, program.activeAttributes, program.offsetConfig)){\n                    throw new Error(`render layer[ ${layer} ] err:\\n ${err}`);\n                }\n\n                //set uniform values\n                if(err = setUniforms(gl, program.activeUniforms, program.uniforms)){\n                    throw new Error(`render layer[ ${layer} ] err:\\n ${err}`);\n                }\n\n                //draw data\n                gl.drawElements(gl.TRIANGLES, program.indexN, gl.UNSIGNED_INT, 0);\n\n                //call renderAfter if exist\n                if(subLayers[j].render.renderAfter && util.isFunction(subLayers[j].render.renderAfter)){\n                    subLayers[j].render.renderAfter.call(subLayers[j],this,subLayers[j].option);\n                }\n\n                //clear bind status\n                gl.bindBuffer(gl.ARRAY_BUFFER, null);\n                gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, null);\n\n\n            }\n        }\n\n        //emit event\n        this.emit('renderAfter',[this]);\n\n        // console.log('render count:',num);\n    }\n\n    /**\n     * update change\n     */\n    updateChange(){\n\n        //update node\n        var update,id,map;\n        update = this.renderCache.node.update;\n        if(update.data && update.data.length > 0){\n            map = update.map;\n            for(id in map) this.updateCacheByData('node',this.graph.nodesIndex[id],map[id]);\n\n            update.data = null;\n            update.map = null;\n        }\n\n        //update edge\n        update = this.renderCache.edge.update;\n        if(update.data && update.data.length > 0){\n            map = update.map;\n            for(id in map) this.updateCacheByData('edge',this.graph.edgesIndex[id],map[id]);\n\n            update.data = null;\n            update.map = null;\n        }\n\n    }\n\n    /**\n     * add change\n     */\n    addChange(context,id,changeData){\n        if(context != 'node' &&  context != 'edge' && context != 'graph') return;\n\n        var map,data,temp;\n        if(context === 'graph'){\n            //reserve\n        }else {\n            map = this.renderCache[context].update.map = this.renderCache[context].update.map || Object.create(null);\n            data = this.renderCache[context].update.data = this.renderCache[context].update.data || [];\n\n            if(!map[id]) map[id] = temp = {}, data.push(temp);\n            else temp = map[id];\n\n            for(var attr in changeData) temp[attr] = changeData[attr];\n        }\n    }\n\n    /**\n     * 计算cache chunk,\n     * @param context : node ,edge ,graph etc;\n     * @param data: a node or a edge obj,\n     * @param dirtyAttr : changed attributes\n     * @param needUpdateLayers : need update layers\n     */\n    updateCacheByData(context,data,dirtyAttr,needUpdateLayers){\n\n        var cacheIndex,temp,points,startBytes,strip;\n        var contextRelativeLayers = this.renderCache[context].layers;\n        var renderLayerMap = this.renderLayerMap;\n        var gl = this.gl;\n\n        //index map\n        cacheIndex = this.renderCache[context].index[data.id] =  this.renderCache[context].index[data.id]  || {};\n\n        needUpdateLayers = needUpdateLayers || contextRelativeLayers;\n\n        //update cache\n        needUpdateLayers.forEach(function(layer) {\n\n            if(!renderLayerMap[layer].check(data) || !renderLayerMap[layer].enable) return;\n\n            //dirtyAttr setData update,ignore update cache ,\n            if(dirtyAttr && !renderLayerMap[layer].cache) return;\n\n            //calculate cache\n            temp = renderLayerMap[layer].render.getRenderData({\n                dirtyAttr:dirtyAttr,//dirty attributes\n                oldData:cacheIndex[layer] ? cacheIndex[layer].data : null,//cache data, 可以看情况复用\n                data: data,//a node or a edge\n                config:this.config,\n                graph: this.graph,\n                textureText: this.textureText,\n                option: renderLayerMap[layer].option,//custom  args\n                // textureLoader: this.textureLoader,\n                textureIcon: this.textureIcon\n            });\n\n\n            strip = renderLayerMap[layer].program.offsetConfig.strip;\n\n            //cache 有效时，进行局部更新\n            if(renderLayerMap[layer].cache){\n                //updateNodeRenderData　updateEdgeRenderData　进行局部更新　主要执行这一部分\n\n                //no data\n                if(!temp){\n                    if(cacheIndex[layer].data){//need update index cache;\n                        renderLayerMap[layer].indexCache = false;\n                        cacheIndex[layer].data = null;\n                    }\n                    return;\n                }\n\n                //vertex size 和上一次不一致的时候，会resize vertex buffer\n                if(renderLayerMap[layer].needResize || (temp && temp.vertices.length !== cacheIndex[layer].oldVertexLength)){\n                    renderLayerMap[layer].indexCache = false;\n                    renderLayerMap[layer].needResize = true;//set resize flag\n                    cacheIndex[layer].data = temp;\n                    cacheIndex[layer].oldVertexLength = temp.vertices.length;\n                    cacheIndex[layer].oldIndexLength = temp.indices.length;\n                }else{\n\n                    //每个float占4个bytes\n                    startBytes = cacheIndex[layer].vertexStart * strip * 4;//float 4 bytes\n\n                    //bind vertex buffer,局部更新vertex buffer data\n                    gl.bindBuffer(gl.ARRAY_BUFFER, renderLayerMap[layer].program.vertexBuffer);\n                    gl.bufferSubData(gl.ARRAY_BUFFER, startBytes,new Float32Array(temp.vertices));\n\n                    cacheIndex[layer].data = temp;\n\n                    //如果indices size 和　上一次不一致，需要更新index buffer\n                    if(temp.indices.length !== cacheIndex[layer].oldIndexLength) renderLayerMap[layer].indexCache = false;\n                }\n\n            }else {//cache　无效时，　把数据保存到　temp array.\n\n                //updateContextCache 主要执行这一部分\n\n                //temp array中的point数\n                points = renderLayerMap[layer].tempVertex.length / strip;\n\n\n                /**\n                 * chunk info\n                 * vertexStart: 这个vertex chunk在vertex buffer中的第几个point，\n                 * oldVertexLength: vertex chunk size，\n                 * oldIndexLength: index chunk size，\n                 */\n                cacheIndex[layer] = {vertexStart:-1,data:null,oldVertexLength:-1,oldIndexLength:-1};\n\n                if(!temp) return;\n\n                //检查chunk中point 属性长度是否一致\n                if(!util.isInteger(temp.vertices.length/strip))\n                    throw new Error('points num not bound to a integer');\n\n                cacheIndex[layer].data = temp;//cache old data\n                cacheIndex[layer].vertexStart = points;\n                cacheIndex[layer].oldVertexLength = temp.vertices.length;\n                cacheIndex[layer].oldIndexLength = temp.indices.length;\n\n                //add vertex chunk to temp array\n                temp.vertices.forEach(function (e) {renderLayerMap[layer].tempVertex.push(e)});\n            }\n\n        }.bind(this))\n    }\n\n    /**\n     * 计算context 相关layer的cache.\n     * @param context : node ,edge ,graph etc.\n     */\n    updateContextCache(context){\n        if(context != 'node' &&  context != 'edge' && context != 'graph') return;\n\n        var datas,contextRelativeLayers,needUpdateLayers;\n        var gl = this.gl;\n        var  renderLayerMap = this.renderLayerMap;\n\n        if(context === 'graph'){\n            //reserve\n        }else {\n\n            //寻找需要计算cache　的layers\n            needUpdateLayers = [];\n            contextRelativeLayers = this.renderCache[context].layers;\n            contextRelativeLayers.forEach(function (layer) {\n                if(!renderLayerMap[layer].cache && renderLayerMap[layer].enable)\n                    needUpdateLayers.push(layer)\n            });\n\n            if(needUpdateLayers.length < 1) return;\n\n            datas = context == 'node' ? this.graph.nodes : this.graph.edges;\n            for(var i = 0,len = datas.length;i < len ; i++){\n                //create cache for a node or a edge\n                this.updateCacheByData(context,datas[i],null,needUpdateLayers);\n            }\n\n            //创建vertex buffer 从 temp array\n            needUpdateLayers.forEach(function (layer) {\n\n                //bind and crate buffer\n                gl.bindBuffer(gl.ARRAY_BUFFER, renderLayerMap[layer].program.vertexBuffer);\n                gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(renderLayerMap[layer].tempVertex), gl.DYNAMIC_DRAW);\n\n                //set flag\n                renderLayerMap[layer].cache = true;\n\n                renderLayerMap[layer].tempVertex = [];\n                // renderLayerMap[layer].tempIndex = [];\n            })\n        }\n\n    }\n\n    /**\n     * resize layer vertex buffer,\n     * @param context\n     */\n    resizeLayerVertexData(context){\n        if(context != 'node' &&  context != 'edge' && context != 'graph') return;\n\n        var datas,contextRelativeLayers,cacheIndex;\n        var data,needResizeLayer,points,strip,vertexLen;\n        var gl = this.gl;\n        var  renderLayerMap = this.renderLayerMap;\n\n        if(context === 'graph'){\n\n        }else {\n            datas = context == 'node' ? this.graph.nodes : this.graph.edges;\n            contextRelativeLayers = this.renderCache[context].layers;\n\n            //find need resize vertex layers\n            needResizeLayer = [];\n            contextRelativeLayers.forEach(function (layer) {\n                if(renderLayerMap[layer].needResize){\n                    needResizeLayer.push(layer);\n                    renderLayerMap[layer].tempVertex = [];\n                    renderLayerMap[layer].tempIndex = [];\n                }\n            });\n\n            if(needResizeLayer.length > 0){\n                for(var i = 0,len = datas.length;i < len ; i++){\n                    data = datas[i];\n\n                    cacheIndex = this.renderCache[context].index[data.id];\n\n                    //create temp array data from vertex chunk\n                    for(var layer in cacheIndex){\n                        if(!renderLayerMap[layer].needResize) continue;\n\n                        strip = renderLayerMap[layer].program.offsetConfig.strip;\n                        points = renderLayerMap[layer].tempVertex.length/strip;//points in tempVertex\n                        vertexLen = cacheIndex[layer].oldVertexLength;//vertex len\n\n                        //当data 为null时候　，oldVertexLength > 0，说明上一次这个chunk有数据，暂时保留chunk的位置，初始化为０\n                        if(vertexLen > 0){\n                            cacheIndex[layer].vertexStart = points;\n                            for(var j = 0;j< vertexLen;j++){\n                                renderLayerMap[layer].tempVertex.push(\n                                    cacheIndex[layer].data ?  cacheIndex[layer].data.vertices[j] : 0//no data fill with 0\n                                );\n                            }\n                        }\n                    }\n                }\n\n                //创建vertex buffer 从 temp array\n                needResizeLayer.forEach(function (layer) {\n\n                    gl.bindBuffer(gl.ARRAY_BUFFER, renderLayerMap[layer].program.vertexBuffer);\n                    gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(renderLayerMap[layer].tempVertex), gl.DYNAMIC_DRAW);\n\n                    renderLayerMap[layer].cache = true;\n                    renderLayerMap[layer].needResize = false;\n\n                    renderLayerMap[layer].tempVertex = [];\n                    // renderLayerMap[layer].tempIndex = [];\n                })\n\n            }\n\n\n        }\n\n    }\n\n    /**\n     * update index buffer.\n     * @param context : node ,edge ,graph etc.\n     */\n    updateLayerIndex(context){\n        if(context != 'node' &&  context != 'edge' && context != 'graph') return;\n\n        var datas,contextRelativeLayers,cacheIndex,data,needUpdateLayer,check,startPoint;\n        var gl = this.gl;\n        var  renderLayerMap = this.renderLayerMap;\n\n        if(context === 'graph'){\n            //reserve\n            //todo\n        }else {\n            datas = context == 'node' ? this.graph.nodes : this.graph.edges;\n            contextRelativeLayers = this.renderCache[context].layers;\n\n            //find need update layers\n            needUpdateLayer = [];\n            contextRelativeLayers.forEach(function (layer) {\n                if(!renderLayerMap[layer].indexCache) needUpdateLayer.push(layer);\n            })\n\n            if(needUpdateLayer.length > 0){\n                for(var i = 0,len = datas.length;i < len ; i++){\n                    data = datas[i];\n\n                    cacheIndex = this.renderCache[context].index[data.id];\n\n                    //如果contex是edge的时候，edge的source,target中一个别过滤了，这条edge也会被过滤。\n                    if(context == 'edge'){\n                        if(this.graph.nodesIndex[data.source].filter || this.graph.nodesIndex[data.target].filter){\n                            data.filter = true;\n                            continue;\n                        }\n                    }\n\n                    //context filters\n                    if(this.renderCache[context].filters && this.renderCache[context].filters.length){\n                        if(data.filter = this._checkFilters(this.renderCache[context].filters,data)) continue;\n                    }else data.filter = false;\n\n                    //crate temp array from index chunk data\n                    for(var layer in cacheIndex){\n                        if(renderLayerMap[layer].indexCache || !cacheIndex[layer].data) continue;\n\n                        //layer filters\n                        if(renderLayerMap[layer].filters && renderLayerMap[layer].filters.length){\n                            if(check = this._checkFilters(renderLayerMap[layer].filters,data)) continue;\n                        }\n\n                        startPoint = cacheIndex[layer].vertexStart;\n\n                        cacheIndex[layer].data.indices.forEach(function (id) {\n                            renderLayerMap[layer].tempIndex.push(id+startPoint);\n                        });\n                    }\n                }\n\n                //crate index buffer from temp array\n                needUpdateLayer.forEach(function (layer) {\n                    //bind and create buffer\n                    gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, renderLayerMap[layer].program.indexBuffer);\n                    gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, new Uint32Array(renderLayerMap[layer].tempIndex), gl.STATIC_DRAW);\n                    renderLayerMap[layer].program.indexN = renderLayerMap[layer].tempIndex.length;\n                    renderLayerMap[layer].tempIndex = [];\n                    renderLayerMap[layer].indexCache = true;//set flag\n                })\n            }\n\n\n        }\n\n    }\n\n    /**\n     * calculate uniforms every render frame.\n     */\n    updateLayerUniformData(){\n        var uniforms,err;\n        var renderLayerMap = this.renderLayerMap;\n\n        for(var layer in renderLayerMap){\n            if(renderLayerMap[layer].custom) continue;\n            uniforms = renderLayerMap[layer].render.getUniforms({\n                matrix: mat3.multiMatrix([this.getCameraMatrix(true), this.projectMatrix]),//matrix transform from camera to gl\n                camera: this.camera, //camera info\n                config: this.config,\n                option: renderLayerMap[layer].option, //custom args\n                sampleRatio: this.sampleRatio,\n                textureText: this.textureText,\n                textureIcon: this.textureIcon\n                // textureLoader: this.textureLoader,\n            });\n\n            if (err = checkAttrValid(renderLayerMap[layer].program.activeUniforms, uniforms)) {\n                throw err.join('\\n');\n            }\n\n            renderLayerMap[layer].program.uniforms = uniforms;\n        }\n    }\n\n    /**\n     * 局部更新node data\n     * @param ids: node ids\n     * @param dirtyAttrs: dirty attributes\n     */\n    updateNodeRenderData(ids,dirtyAttrs){\n\n        if(!util.isArray(ids)) ids = [ids];\n        if(!util.isArray(dirtyAttrs)) dirtyAttrs = [dirtyAttrs];\n\n        this.forceRender();\n\n        ids.forEach( function(id,i){\n            // this.updateCacheByData('node',this.graph.nodesIndex[id],dirtyAttrs[i]);\n            this.addChange('node',id,dirtyAttrs[i]);\n        }.bind(this));\n\n    }\n\n    /**\n     * 局部更新edge data\n     * @param ids: edge ids\n     * @param dirtyAttrs: dirty attributes\n     */\n    updateEdgeRenderData(ids,dirtyAttrs){\n        if(!Array.isArray(ids)) ids = [ids];\n        if(!Array.isArray(dirtyAttrs)) dirtyAttrs = [dirtyAttrs];\n\n        this.forceRender();\n\n        ids.forEach(function (id,i) {\n            // this.updateCacheByData('edge',this.graph.edgesIndex[id],dirtyAttrs[i]);\n            this.addChange('edge',id,dirtyAttrs[i]);\n        }.bind(this));\n    }\n\n    /**\n     * clear layer cache, if layers omitted, clear all layer cache.\n     * @param layers {string | [string]} :  layer name.\n     */\n    clearRenderCache(layers){\n        this.forceRender();\n        var _this = this;\n        if(layers){\n            if(!util.isArray(layers)) layers = [layers];\n            layers.forEach(function (layer) {\n                if(_this.renderLayerMap[layer].custom) return;\n\n                _this.renderLayerMap[layer].cache = false;\n                _this.renderLayerMap[layer].needResize = false;\n                _this.renderLayerMap[layer].indexCache = false;\n                _this.renderLayerMap[layer].program.indexN = 0;\n            });\n        }else {\n            for(var layer in _this.renderLayerMap){\n                if(_this.renderLayerMap[layer].custom) continue;\n\n                _this.renderLayerMap[layer].cache = false;\n                _this.renderLayerMap[layer].needResize = false;\n                _this.renderLayerMap[layer].indexCache = false;\n                _this.renderLayerMap[layer].program.indexN = 0;\n            }\n            _this.renderCache.graph.index = {};\n            _this.renderCache.node.index = {};\n            _this.renderCache.edge.index = {};\n        }\n    }\n\n    /**\n     *  disable layer，disable之后，不会render，layer data也不会更新\n     * @param layers {string | [string]}\n     */\n    disableRenderLayer(layers){\n        this.forceRender();\n\n        var renderLayerMap = this.renderLayerMap;\n\n        if(!util.isArray(layers)) layers = [layers];\n\n        layers.forEach(function (layer) {\n            if(renderLayerMap[layer]){\n                renderLayerMap[layer].enable = false;\n            }\n        });\n    }\n\n    /**\n     *  enable layer，enable之后，layer cache 会重新计算一次\n     * @param layers {string | [string]}\n     */\n    enableRenderLayer(layers){\n        this.forceRender();\n\n        var renderLayerMap = this.renderLayerMap;\n\n        if(!util.isArray(layers)) layers = [layers];\n\n        layers.forEach(function (layer) {\n            if(renderLayerMap[layer])\n            {\n                renderLayerMap[layer].enable = true;\n                renderLayerMap[layer].cache = false;\n                renderLayerMap[layer].indexCache = false;\n                renderLayerMap[layer].program.indexN = 0;\n            }\n        });\n    }\n\n    /**\n     * hide layer, 不会render　layer ,　但是layer cache data 会更新\n     * @param layers {string | [string]}\n     */\n    hideRenderLayer(layers){\n        this.forceRender();\n\n        var renderLayerMap = this.renderLayerMap;\n\n        if(!util.isArray(layers)) layers = [layers];\n        layers.forEach(function (layer) {\n            if(renderLayerMap[layer]){\n                renderLayerMap[layer].show = false;\n            }\n        });\n    }\n\n    /**\n     * show layer\n     * @param layers {string | [string]}\n     */\n    showRenderLayer(layers){\n        this.forceRender();\n\n        var renderLayerMap = this.renderLayerMap;\n\n        if(!util.isArray(layers)) layers = [layers];\n        layers.forEach(function (layer) {\n            if(renderLayerMap[layer]){\n                renderLayerMap[layer].show = true;\n            }\n        });\n    }\n\n    /**\n     * 对layer 触发一次layer filter 更新，重新计算index buffer\n     * @param layers {string | [string]}\n     */\n    updateByLayerFilter(layers){\n        if(!layers) return;\n\n        this.forceRender();\n\n        var renderLayerMap = this.renderLayerMap;\n        if(!util.isArray(layers)) layers = [layers];\n\n        layers.forEach(function (layer) {\n            if(!renderLayerMap[layer]) return;\n            renderLayerMap[layer].indexCache = false;\n        });\n    }\n\n    /**\n     * 对 context 相关的layer触发一次更新，重新计算index buffer\n     * @param context\n     */\n    updateByContextFilter(context){\n        var contextRelativeLayers = this.renderCache[context].layers;\n        var renderLayerMap = this.renderLayerMap;\n\n        this.forceRender();\n\n        contextRelativeLayers.forEach(function (layer) {\n            renderLayerMap[layer].indexCache = false;\n        });\n    }\n\n    /**\n     * set layer filter\n     * @param layer {string}\n     * @param filters {[fun]}\n     */\n    setLayerFilters(layer,filters){\n        var  renderLayerMap = this.renderLayerMap;\n        if(!renderLayerMap[layer]) return;\n\n        this.forceRender();\n        filters = filters || [];\n\n        if(!util.isArray(filters)) filters = [filters];\n\n        renderLayerMap[layer].indexCache = false;\n        renderLayerMap[layer].filters = filters;\n\n    }\n\n    /**\n     * get layer filter\n     * @param layer\n     */\n    getLayerFilters(layer){\n        return  this.renderLayerMap[layer] ?  this.renderLayerMap[layer].filters : null;\n    }\n\n    /**\n     * set context filter\n     * @param context\n     * @param filters\n     */\n    setContextFilters(context,filters){\n        this.forceRender();\n        filters = filters || [];\n\n        if(!util.isArray(filters)) filters = [filters];\n\n        var  renderLayerMap = this.renderLayerMap;\n        var  contextRelativeLayers = this.renderCache[context].layers;\n\n        contextRelativeLayers.forEach(function (layer) {\n            renderLayerMap[layer].indexCache = false;\n        });\n\n        this.renderCache[context].filters = filters;\n    }\n\n    /**\n     * get context filter\n     * @param context\n     * @returns {null}\n     */\n    getContextFilters(context){\n        return  this.renderCache[context] ?  this.renderCache[context].filters : null;\n    }\n\n    /**\n     * set layer custom args\n     * @param layer\n     * @param option\n     */\n    setLayerOption(layer,option){\n        var renderLayerMap = this.renderLayerMap;\n        if(!renderLayerMap[layer]) return;\n\n        this.forceRender();\n\n        for(var attr in option){\n            renderLayerMap[layer].option[attr] = option[attr];\n        }\n    }\n\n    /**\n     * set mouse type\n     * @param type\n     */\n    setMouseType(type){\n        // if(mouseType[type]){\n        this.container.style.cursor = type;\n        // }\n    }\n\n    /**\n     * get camera matrix ,\n     * @param isInvert\n     * @returns {*}\n     */\n    getCameraMatrix(isInvert){\n        var mat = mat3.multiMatrix([\n            mat3.matrixFromScale(this.camera.scale,this.camera.scale),\n            mat3.matrixFromRotation(this.camera.rotation),\n            mat3.matrixFromTranslate(this.camera.positionX,this.camera.positionY)\n        ]);\n        return isInvert  ? mat3.invert(mat) : mat;\n    }\n\n    /**\n     * resize render canvas and set viewport , update  projectMatrix\n     * @private\n     */\n    resizeCanvas() {\n        var canvas;\n        var multiplier = this.sampleRatio;\n        canvas =this.container;\n        var width = canvas.clientWidth * multiplier | 0;\n        var height = canvas.clientHeight * multiplier | 0;\n        if (canvas.width !== width || canvas.height !== height) {\n            canvas.width = width;\n            canvas.height = height;\n            this.gl.viewport(0, 0,canvas.width, canvas.height);\n        }\n        this.projectMatrix = mat3.matrixFromScale(2/(this.container.clientWidth),2/(this.container.clientHeight));\n    }\n\n    /**\n     * translate point from graph to camera\n     * @param pos obj {x:number,y:number}\n     * @returns {{x: number, y: number}}\n     */\n    graphToDomPos(pos){\n        var container = this.container;\n        var camPos =  mat3.transformPoint([pos.x,pos.y],this.getCameraMatrix(true));\n        return {x:camPos[0]+container.clientWidth/2,y:container.clientHeight/2-camPos[1]};\n    }\n\n    /**\n     * translate point from dom to camera\n     * @param pos obj {x:number,y:number}\n     * @returns {{x: number, y: number}}\n     */\n    domToCameraPos(pos){\n        var container = this.container;\n        return {x:pos.x-container.clientWidth/2,y:container.clientHeight/2-pos.y};\n    }\n\n    /**\n     * translate point from dom to camera\n     * @param pos obj {x:number,y:number}\n     * @returns {{x: number, y: number}}\n     */\n    cameraToGraphPos(pos,isVector){\n        var p = isVector ?\n            mat3.rotateVector([pos.x,pos.y],this.getCameraMatrix())\n            :\n            mat3.transformPoint([pos.x,pos.y],this.getCameraMatrix());\n        return {x:p[0],y:p[1]};\n    }\n\n    /**\n     * force render\n     */\n    forceRender(){\n        this.needUpdate = true;\n    }\n\n    /**\n     * zoom from a point\n     * @private\n     * @param ratio\n     * @param x\n     * @param y\n     * @param animation\n     */\n    zoomFromPosition(ratio,x,y,animation){\n        // debugger\n\n        var scale = this.camera.scale;\n        var positionX,positionY;\n\n        var newscale = ratio * scale;\n        if(newscale < this.config.zoomMin) newscale = this.config.zoomMin;\n        if(newscale > this.config.zoomMax) newscale = this.config.zoomMax;\n\n        if (x != null && y != null) {\n            var offset = mat3.rotateVector([x * (newscale - scale)/scale, y *(newscale - scale)/scale], this.getCameraMatrix());\n            positionX = this.camera.positionX - offset[0] ;\n            positionY = this.camera.positionY - offset[1];\n        }\n\n        if(animation){\n            this.zoomTo({\n                positionX:positionX,\n                positionY:positionY,\n                scale:newscale\n            },animation);\n        }else {\n            this.camera.positionX = positionX;\n            this.camera.positionY = positionY;\n            this.camera.scale = newscale;\n        }\n    }\n\n    /**\n     * zoom camera info\n     * @param option\n     * @param duration\n     */\n    zoomTo(option,duration){\n        Tween.removeByType('camera');\n\n        var _this = this;\n        if(duration){\n            new Tween(this.camera,'camera').to(option).duration(duration).on('change',function () {\n                _this.forceRender();\n            });\n        }else {\n            for (var attr in option) this.camera[attr] = option[attr];\n            this.forceRender();\n        }\n\n    }\n\n    saveData(){\n        // debugger\n        var gl = this.gl;\n\n        this.sampleRatio = 16;\n        var width = this.container.clientWidth*this.sampleRatio;\n        var height =  this.container.clientHeight*this.sampleRatio;\n\n        this.gl.viewport(0, 0,width,height);\n\n\n        if(!this.saveDataFrame){\n            this.saveDataFrame = gl.createFramebuffer();\n            gl.bindFramebuffer(gl.FRAMEBUFFER, this.saveDataFrame);\n            this.saveDataTex = gl.createTexture();\n            gl.activeTexture(gl.TEXTURE0);\n            gl.bindTexture(gl.TEXTURE_2D, this.saveDataTex);\n            gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA,width, height, 0, gl.RGBA, gl.UNSIGNED_BYTE, null);\n\n            gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, this.saveDataTex, 0);\n            gl.bindTexture(gl.TEXTURE_2D, null);\n\n        }\n\n        gl.bindFramebuffer(gl.FRAMEBUFFER, this.saveDataFrame);\n        this.render();\n        var pixels = new Uint8Array(width * height * 4);\n        gl.readPixels(0, 0, width, height, gl.RGBA, gl.UNSIGNED_BYTE, pixels);\n        // console.log(pixels);\n        gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n\n        this.sampleRatio = 1;\n        this.gl.viewport(0, 0,this.container.clientWidth, this.container.clientHeight);\n\n\n        var canvas = document.createElement('canvas');\n        canvas.width = width;\n        canvas.height = height;\n        var ctx = canvas.getContext('2d');\n        var imageData = ctx.createImageData(width, height);\n        for(var i = 0,len = imageData.data.length;i < len;i++)imageData.data[i] = pixels[i];\n        ctx.putImageData(imageData,0,0);\n\n        canvas.toBlob(function(blob) {\n            saveAs(blob, \"test.png\");\n        });\n\n    }\n\n    /**\n     * check filter\n     * @private\n     */\n    _checkFilters(filters, data) {\n        var filter = false;\n        for (var i = 0; i < filters.length; i++) {\n            if (filter = filters[i](data)) break;\n        }\n        return filter;\n    }\n\n\n}\n\nexport default WebGLRender;\n\n\n// WEBPACK FOOTER //\n// ./src/render/webgl/render.js","module.exports = \" precision mediump float;\\n\\nvarying vec2 v_texCoord;\\nvarying float size;\\nvarying vec4 label_color;\\n\\n\\nuniform sampler2D u_image;\\nuniform vec4 u_text_bg;\\nuniform float u_camera_scale;\\n\\n\\nvoid main() {\\n    vec4 color = label_color / 255.0;\\n    vec4 color_bg = u_text_bg/255.0;\\n\\n\\n    float cutoff = 0.76;\\n    float offset = 6.0/size * u_camera_scale;\\n\\n    offset = pow(offset,1.2);\\n\\n    offset = min((1.0-cutoff),offset);\\n\\n   float dist = texture2D(u_image, v_texCoord).r;\\n   float alpha = smoothstep(cutoff - offset, cutoff + offset, dist);\\n//   gl_FragColor = color *alpha;\\n   gl_FragColor = mix(color_bg,color,alpha);\\n}\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/render/webgl/label/glsl/edge-label-frag.glsl\n// module id = 7\n// module chunks = 0","module.exports = \"attribute vec2 a_position;\\nattribute vec2 a_uv;\\nattribute float a_size;\\nattribute vec4 a_color;\\n\\nuniform mat3 u_matrix;\\nuniform sampler2D u_image;\\n\\n\\nvarying vec2 v_texCoord;\\nvarying vec4 label_color;\\nvarying float size;\\n\\nvoid main() {\\ngl_Position = vec4((u_matrix*vec3(a_position,1)).xy,0,1);\\nv_texCoord = a_uv;\\nsize = a_size;\\nlabel_color = a_color;\\n}\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/render/webgl/label/glsl/edge-label-vert.glsl\n// module id = 8\n// module chunks = 0","\n'use strict';\n\nimport Graph from './Graph'\nimport WebGLRender from  '../render/webgl/render'\nimport utils from '../util'\n\nimport Tween from '../animation/tween'\nimport Selection from './Selection'\nimport layout from '../layout/index'\nimport defaultConfig from './config'\n\nexport  default  class Core {\n\n    static layout = layout;\n\n    constructor(option) {\n        option = option || {};\n\n        this.container = option.container;\n\n        this.config = utils.extend(option.config || {},defaultConfig);\n\n        this.graph = option.graph ? option.graph :  new Graph({\n            nodes: option.nodes,\n            edges: option.edges\n        });\n\n        this.debug = false;\n        this._destroy = false;\n\n        this.canvas = {};\n        this.initCanvas();\n\n        this.render = new WebGLRender(this, this.canvas.render);\n\n        this.selection = new Selection(this,this.canvas.mouse);\n\n        this.on = this.render.on.bind(this.render);\n        this.off = this.render.off.bind(this.render);\n\n        this._start();\n\n        this._initEvent();\n    }\n\n    destroy(){\n\n        if(this._destroy) return;\n\n        this.graph.clear();\n        this.graph.clearListeners();\n\n        this.render.destroy();\n\n        this.selection.destroy();\n\n        this._destroy = true;\n\n\n    }\n\n    initCanvas() {\n\n        this.container.style.position = 'relative';\n        this.canvas.render = this.createElement('canvas');\n        this.container.appendChild(this.canvas.render);\n\n        this.canvas.mouse = this.createElement('canvas');\n        this.canvas.mouse.style.display = 'none';\n        this.canvas.mouse.style.cursor = 'crosshair';\n\n        this.container.appendChild(this.canvas.mouse);\n    }\n    createElement(tag) {\n        var ele = document.createElement(tag);\n        ele.style.position = 'absolute';\n        ele.style.left = '0px';\n        ele.style.top = '0px';\n        ele.style.width = '100%';\n        ele.style.height = '100%';\n        ele.style.border = 'none';\n        ele.width = this.container.clientWidth;\n        ele.height = this.container.clientHeight;\n\n        ele.oncontextmenu = function (e) {\n            e.preventDefault();\n            return false;\n        };\n\n        return ele;\n    }\n    _start() {\n        var _this = this;\n        var frames = state();\n\n        function state() {\n            var n = -1, start = 0;\n            return function (time) {\n                n++;\n                time = time / 1000;\n                if ((time - start) > 1) {\n                    _this.debug && console.log('frames:'+n);\n                    n = -1;\n                    start = time;\n                }\n\n            }\n        }\n\n        function render(time) {\n\n            if(_this.render._destroy) return;\n\n            _this._render();\n            frames(time);\n            requestAnimationFrame(render)\n        }\n\n        requestAnimationFrame(render);\n    }\n    _render() {\n        this.resize();\n        if (this.render) {\n            // console.time('render')\n            // debugger\n            this.render.render();\n            // console.timeEnd('render')\n        }\n\n\n    }\n    _initEvent() {\n        var _this = this;\n        this.render.on('nodeMouseDown', function (node, e) {\n            // debugger\n            if (!_this.selection.isNodeSelected(node.id))\n                _this.selection.selectNodes(node.id,e.shiftKey);\n            else if(e.shiftKey) _this.selection.unSelectNode(node.id);\n        });\n    }\n    resize() {\n        if (this.canvas.mouse.width != this.container.clientWidth || this.canvas.mouse.height != this.container.clientHeight) {\n            this.canvas.mouse.width = this.container.clientWidth;\n            this.canvas.mouse.height = this.container.clientHeight;\n            this.render.forceRender();\n        }\n    }\n    getFitOptions(nodes) {\n        var x0 = Infinity, y0 = Infinity, x1 = -Infinity, y1 = -Infinity;\n        nodes.forEach(function (e) {\n            if (e.x < x0) x0 = e.x;\n            if (e.x > x1) x1 = e.x;\n            if (e.y < y0) y0 = e.y;\n            if (e.y > y1) y1 = e.y;\n        });\n\n        return {\n            scale:Math.max((x1-x0)/this.render.container.clientWidth,(y1-y0)/this.render.container.clientHeight),\n            positionX:(x0+x1)/2,\n            positionY:(y0+y1)/2,\n        }\n    }\n\n    fit(duration,option){\n        Tween.removeByType('camera');\n        option = option || this.getFitOptions(this.graph.nodes);\n        this.render.zoomTo(option,duration);\n    }\n    makeLayout(type,option,cb) {\n        option = option || {};\n\n        var _this = this;\n        var layout, data;\n        var layoutConfig = Core.layout;\n\n        var nodes = option.nodes;\n        var duration = option.duration;\n        var center = option.center;\n        var fit = option.fit;\n\n        Tween.removeByType('layout');\n\n        var edges = null;\n        if(nodes == null){\n            nodes =  this.graph.nodes;\n            edges =  this.graph.edges;\n        }else {\n            edges = getEdges(nodes);\n        }\n\n        if (!type || type == 'preset') {\n            this.graph.nodes.forEach(function (e) {\n                if (!('x' in e)) e.x = Math.random() * _this.render.gl.clientWidth;\n                if (!('y' in e)) e.y = Math.random() * _this.render.gl.clientWidth;\n            });\n            this.render.clearRenderCache();\n        } else if (layout = layoutConfig[type]) {\n\n            layout = new layoutConfig[type]();\n            data = layout.layout(nodes,edges,option);\n\n\n            if(center){\n                var bbox = utils.getBBox(nodes);\n                var bbox1 = utils.getBBox(data);\n\n                var offsetX = bbox.x+bbox.w/2 - (bbox1.x + bbox1.w/2);\n                var offsetY = bbox.y+bbox.h/2 - (bbox1.y + bbox1.h/2);\n\n                data.forEach(function (e) {\n                    e.x += offsetX;\n                    e.y += offsetY;\n                });\n            }\n\n            if(duration){\n                new Tween(nodes, 'layout').to(data).duration(duration)\n                    .on('change', function (t) {\n                        nodes.forEach(function (node) {\n                            _this.graph.setNodeData(node.id, {x: node.x, y: node.y});\n                        });\n                    })\n                    .on('end', cb);\n\n                fit && this.fit(duration,this.getFitOptions(data));\n            }else {\n                data.forEach(function (node,i) {\n                    _this.graph.setNodeData(nodes[i].id, {x: node.x, y: node.y});\n                });\n                fit && this.fit(null,this.getFitOptions(data));\n                cb&&cb();\n            }\n\n\n        }\n\n\n        function getEdges(nodes) {\n            var map = {};\n            var edges = [];\n            nodes.forEach(function (e) {\n                map[e.id] = true;\n            });\n\n            _this.graph.edges.forEach(function (e) {\n                if(map[e.source] && map[e.target])\n                    edges.push(e);\n            });\n\n            return edges;\n\n        }\n    }\n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/index.js","\n\nimport WebGLRender from './webgl/render'\nWebGLRender.node = {};\nWebGLRender.edge = {};\nWebGLRender.nodeLabel = {};\nWebGLRender.edgeLabel = {};\n\nimport node from './webgl/node/default/render'\nimport rect from './webgl/node/rect/render'\nWebGLRender.node.default = node;\nWebGLRender.node.rect = rect;\n\n\nimport NodeLabel from './webgl/label/NodeLabel'\nWebGLRender.nodeLabel.default = NodeLabel;\n\nimport edge from './webgl/edge/render'\nimport curve from './webgl/edge/curve/render'\nWebGLRender.edge.default = edge;\nWebGLRender.edge.curve = curve;\n\n\nimport EdgeLabel from './webgl/label/EdgeLabel'\nimport curveLabel from './webgl/label/curveLabel/render'\nWebGLRender.edgeLabel.default = EdgeLabel;\nWebGLRender.edgeLabel.curve = curveLabel;\n\n\nimport initDefaultConfig from  './webgl/defaultConfig/index'\ninitDefaultConfig(WebGLRender);\n\nexport default WebGLRender\n\n\n\n// WEBPACK FOOTER //\n// ./src/render/index.js","/**\n *from d3-timer\n */\n\n'use strict';\n\n\nvar frame = 0, // is an animation frame pending?\n    timeout = 0, // is a timeout pending?\n    interval = 0, // are any timers active?\n    pokeDelay = 1000, // how frequently we check for clock skew\n    taskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof requestAnimationFrame === \"function\" ? requestAnimationFrame : function (f) {\n            // setTimeout(f, 17);\n            setTimeout(f, 30);\n        };//\n\nexport function now() {\n    return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n    clockNow = 0;\n}\n\nexport function Timer() {\n    this._call = this._time = this._next = null;\n}\n\nTimer.prototype = timer.prototype = {\n    constructor: Timer,\n    restart: function (callback, delay, time) {\n        if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n        time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n        if (!this._next && taskTail !== this) {\n            if (taskTail) taskTail._next = this;\n            else taskHead = this;\n            taskTail = this;\n        }\n        this._call = callback;\n        this._time = time;\n        sleep();\n    },\n    stop: function () {\n        if (this._call) {\n            this._call = null;\n            this._time = Infinity;\n            sleep();\n        }\n    }\n};\n\nexport default  function timer(callback, delay, time) {\n    var t = new Timer;\n    t.restart(callback, delay, time);\n    return t;\n}\n\nexport function timerFlush() {\n    now(); // Get the current time, if not already set.\n    ++frame; // Pretend we’ve set an alarm, if we haven’t already.\n    var t = taskHead, e;\n    while (t) {\n        if ((e = clockNow - t._time) >= 0) t._call.call(null, e);\n        t = t._next;\n    }\n    --frame;\n}\n\nfunction wake() {\n    clockNow = (clockLast = clock.now()) + clockSkew;\n    frame = timeout = 0;\n    try {\n        timerFlush();\n    } finally {\n        frame = 0;\n        nap();\n        clockNow = 0;\n    }\n}\n\nfunction poke() {\n    var now = clock.now(), delay = now - clockLast;\n    if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n    var t0, t1 = taskHead, t2, time = Infinity;\n    while (t1) {\n        if (t1._call) {\n            if (time > t1._time) time = t1._time;\n            t0 = t1, t1 = t1._next;\n        } else {\n            t2 = t1._next, t1._next = null;\n            t1 = t0 ? t0._next = t2 : taskHead = t2;\n        }\n    }\n    taskTail = t0;\n    sleep(time);\n}\n\nfunction sleep(time) {\n    if (frame) return; // Soonest alarm already set, or will be.\n    if (timeout) timeout = clearTimeout(timeout);\n    var delay = time - clockNow;\n    if (delay > 24) {\n        if (time < Infinity) timeout = setTimeout(wake, delay);\n        if (interval) interval = clearInterval(interval);\n    } else {\n        if (!interval) interval = setInterval(poke, pokeDelay);\n        frame = 1, setFrame(wake);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/base/timer.js","\n'use strict';\n\nimport util from '../util'\n\n\n\nexport default function initEvent() {\n\n    var _this = this;\n    var mouseDown= false,\n        mouseMove = false,\n        disableMove = false,\n        //over info\n        overInfo = {\n            currentNode:null,\n            currentEdge:null,\n        };\n    var config = _this.context.config;\n\n    _this.context.overInfo = overInfo;\n\n\n    var events = {\n        // click:handlerWrap(_clickHandler),\n        mousemove:handlerWrap(_moveHandler),\n        mousedown:handlerWrap(_downHandler),\n        mouseup:handlerWrap(_upHandler),\n        mousewheel:handlerWrap(_wheelHandler),\n        DOMMouseScroll:handlerWrap(_wheelHandler),//firfox\n    };\n\n    for(var e in events)    this.container.addEventListener(e, events[e], false);\n\n    //custom simulate click event\n    events.click = handlerWrap(_clickHandler);\n\n    //some little situation maybe need the trigger function.\n    this.trigger = function (type,event) {\n        if(events[type]) events[type](event);\n    };\n\n    //handler\n    function _clickHandler(e) {\n        var graphPos = _this.cameraToGraphPos({x:e.cameraX,y:e.cameraY});\n        var edge ,node;\n\n       node = getNode(graphPos);\n       if(node){\n           _this.emit('nodeClick',[node,e]);\n       }else if(config.enableEdgeEvent && (edge = getEdge(graphPos))){\n           _this.emit('edgeClick',[edge,e]);\n       }else {\n           _this.emit('stageClick',[e]);\n       }\n\n    }\n\n    function _downHandler(e) {\n\n        disableDocSelect();\n\n        //right click\n\n        if(!mouseLeft(e)) return;\n\n        mouseDown = true;\n        disableMove = true;\n\n        var graphPos = _this.cameraToGraphPos({x:e.cameraX,y:e.cameraY});\n        var node = getNode(graphPos);\n        var nodeSelected = node ? _this.context.selection.isNodeSelected(node.id) : false;\n\n         handleDrag(!node);\n        // _this.forceRender();\n\n        function handleDrag(isCamera) {\n            var moveFlag = false;\n            var startx = graphPos.x,starty = graphPos.y;\n\n            if(!isCamera){\n                _this.emit('nodeMouseDown',[node,e]);\n            }\n\n            var onmousemove =docPosToRelativePos(_this.container,handlerWrap(function(e) {\n\n                if(!isCamera && !moveFlag){\n                    _this.emit('nodeDragStart',[node,e]);\n                    moveFlag = true;\n                }\n\n                _this.forceRender();\n\n                var graphPos = _this.cameraToGraphPos({x:e.cameraX,y:e.cameraY}),temp;\n                var offsetx = graphPos.x - startx;\n                var offsety = graphPos.y - starty;\n\n                if(isCamera){\n                    _this.camera.positionX -= offsetx;\n                    _this.camera.positionY -= offsety;\n                    _this.setMouseType(_this.mouseType.MOVE);\n                }else {\n\n                    if(nodeSelected){\n                        _this.context.selection.data.nodes.forEach(function (id) {\n                            temp = _this.context.graph.nodesIndex[id];\n                            _this.graph.setNodeData(id,{x:temp.x+offsetx,y:temp.y+offsety});\n                        });\n                    }else _this.graph.setNodeData(node.id,{x:node.x+offsetx,y:node.y+offsety});\n\n                    // fit(e);\n                }\n\n\n                if(isCamera){\n                    var newgraphPos = _this.cameraToGraphPos({x:e.cameraX,y:e.cameraY});\n                    startx = newgraphPos.x;\n                    starty = newgraphPos.y;\n                }else {\n                    startx = graphPos.x;\n                    starty = graphPos.y;\n                }\n                // console.timeEnd('move')\n            }));\n\n            var onmouseup = docPosToRelativePos(_this.container,handlerWrap(function(e) {\n\n                if(!isCamera && moveFlag) _this.emit('nodeDragEnd',[node,e]);\n\n                moveFlag = false;\n\n                clear();\n            }));\n\n            document.addEventListener('mousemove',onmousemove);\n            document.addEventListener('mouseup',onmouseup);\n\n\n            function clear() {\n                // _this.setMouseType(_this.mouseType.DEFAULT);\n                onmousemove&&document.removeEventListener('mousemove',onmousemove);\n                onmouseup&&document.removeEventListener('mouseup',onmouseup);\n\n                onmouseup = onmousemove = null;\n\n                disableMove = false;\n            }\n\n\n        }\n\n    }\n\n    function _moveHandler(e) {\n        if(mouseDown)   mouseMove = true;\n        \n        if(disableMove || !_this.config.enableOverEvent) return;\n\n        var graphPos = _this.cameraToGraphPos({x:e.cameraX,y:e.cameraY});\n        var node = getNode(graphPos);\n        var old;\n\n        if(node && node !== overInfo.currentNode){\n            old = overInfo.currentNode;\n            overInfo.currentNode = node;\n\n           if(old) _this.emit('nodeOut', [old,e]);\n           if(overInfo.currentEdge){\n               old = overInfo.currentEdge;\n               overInfo.currentEdge = null;\n               _this.emit('edgeOut',[old,e]);\n           }\n            _this.emit('nodeOver', [node,e]);\n\n        }else if(!node && overInfo.currentNode){\n            old = overInfo.currentNode;\n            overInfo.currentNode = null;\n            _this.emit('nodeOut', [old,e]);\n        }\n\n        var edge;\n        if(!node && config.enableEdgeEvent){\n            edge = getEdge(graphPos);\n            if(edge && edge !== overInfo.currentEdge){\n                old = overInfo.currentEdge;\n                overInfo.currentEdge = edge;\n\n                if(old) _this.emit('edgeOut',[old,e]);\n                _this.emit('edgeOver',[edge,e]);\n            }else if(!edge && overInfo.currentEdge){\n                old = overInfo.currentEdge;\n                overInfo.currentEdge = null;\n                _this.emit('edgeOut',[old,e]);\n            }\n        }\n\n        if(node || edge){\n            _this.setMouseType(_this.mouseType.POINTER);\n        }else {\n            _this.setMouseType(_this.mouseType.DEFAULT);\n        }\n\n    }\n\n    function _upHandler(e) {\n\n        //no move ,simulate click event\n        if(mouseDown && !mouseMove && mouseLeft(e)){\n            _clickHandler(e);\n        }\n\n        if (mouseRight(e)){\n            var graphPos = _this.cameraToGraphPos({x:e.cameraX,y:e.cameraY});\n            var node = getNode(graphPos);\n            var edge;\n            if(node){\n                _this.emit('nodeRightClick',[node,e]);\n            }else if(config.enableEdgeEvent && (edge = getEdge(graphPos))) {\n                _this.emit('edgeRightClick',[edge,e]);\n            }else {\n                _this.emit('stageRightClick',[e]);\n            }\n        }\n\n        mouseDown = false;\n        mouseMove = false;\n\n    }\n\n    function _wheelHandler(e) {\n        var value = (\n            (e.wheelDelta !== undefined && e.wheelDelta) ||\n            (e.detail !== undefined && -e.detail)\n        );\n\n        if(value == 0) return; // Mac OS maybe -0;\n\n\n        _this.forceRender();\n        var ratio = _this.config.zoomRatio;\n\n\n        if(value > 0){\n            _this.zoomFromPosition(1/ratio,e.cameraX,e.cameraY);\n            _this.emit('zoom',[1/ratio,_this.camera.scale,e])\n        }else {\n            _this.zoomFromPosition(ratio,e.cameraX,e.cameraY);\n            _this.emit('zoom',[ratio,_this.camera.scale,e])\n        }\n    }\n\n\n    //to camera pos\n    function handlerWrap(handle) {\n        return function (e) {\n\n            if(!config.enableMouseEvent) return;\n\n            var pos = _this.domToCameraPos({x: e.offsetX, y: e.offsetY});\n            e.cameraX = pos.x;\n            e.cameraY = pos.y;\n            handle(e);\n        }\n    }\n\n    function docPosToRelativePos(dom,handle) {\n        return function (e) {\n            var bbox = dom.getBoundingClientRect();\n            var newEvent = Object.create(null);\n\n            for(var attr in e)\n                if(e.hasOwnProperty(attr)) newEvent[attr] = e[attr];\n\n            newEvent.offsetX = e.clientX - bbox.left;\n            newEvent.offsetY = e.clientY - bbox.top;\n\n            handle(newEvent);\n        }\n    }\n\n\n    function disableDocSelect() {\n        var oldOnSelect = document.onselectstart;\n        document.onselectstart = function () { return false };\n\n        document.addEventListener('mouseup',onMouseUp);\n\n        function onMouseUp() {\n            document.onselectstart = oldOnSelect;\n            document.removeEventListener('mouseup',onMouseUp);\n        }\n    }\n\n\n    //default check function\n    function defaultNodeCheck(posx,posy,node) {\n        var check = false;\n        var dis,sizeX,sizeY,size;\n        if(node.type == 'rect'){\n            sizeX = util.getNodeSizeX(node) || config.defaultNodeSize;\n            sizeY = util.getNodeSizeY(node) || config.defaultNodeSize;\n            check = util.inRect(posx,posy,node.x-sizeX,node.y-sizeY,sizeX*2,sizeY*2);\n        }else {\n            dis = util.getDistance(posx, posy, node.x, node.y);\n            size = node.size || config.defaultNodeSize;\n            check = dis <= size;\n        }\n        return check;\n    }\n    function defaultEdgeCheck(posx,posy,edge) {\n        var check = false;\n        var source = _this.graph.nodesIndex[edge.source];\n        var target = _this.graph.nodesIndex[edge.target];\n        var ctrolP;\n\n        //line\n        if(edge.curveCount == 0){\n            check = util.inLine(posx,posy,source.x,source.y,target.x,target.y,(edge.size || config.defaultEdgeSize)/2);\n        }else {//curve\n            // debugger\n            ctrolP = util.getControlPos(source.x,source.y,target.x,target.y,edge.curveCount,edge.curveOrder);\n            check = util.isPointOnQuadraticCurve(\n                posx,posy,\n                source.x,source.y,\n                target.x,target.y,\n                ctrolP[0],ctrolP[1],\n                (edge.size || config.defaultEdgeSize) / 2\n            )\n        }\n\n        return check;\n    }\n\n    function checkInNode(posx,posy,node) {\n        if(_this.context.customNodeCheck && util.isFunction(_this.context.customNodeCheck)){\n            return _this.context.customNodeCheck(posx,posy,node,defaultNodeCheck);\n        }\n        else return defaultNodeCheck(posx,posy,node);\n    }\n    function checkInEdge(posx,posy,edge) {\n        if(_this.context.customEdgeCheck && util.isFunction(_this.context.customEdgeCheck)){\n            return _this.context.customEdgeCheck(posx,posy,edge,defaultEdgeCheck);\n        }\n        else return defaultEdgeCheck(posx,posy,edge);\n    }\n\n    function getNode(pos) {\n        // console.time('getNode')\n        var nodes = _this.graph.nodes;\n\n        var node, dis,check;\n        var findNode = null;\n\n        var selectNodes = _this.context.selection.getNodes();\n\n        var context  = _this.renderCache.node;\n\n        if(selectNodes.length > 0){\n            for(var i = selectNodes.length-1;i >= 0;i--){\n                node = selectNodes[i];\n\n                if(node.filter)continue;\n\n                if (checkInNode(pos.x,pos.y,node)) {\n                    findNode = node;\n                    break;\n                }\n            }\n        }\n\n\n        if (!findNode && nodes.length > 0) {\n            for (var i = nodes.length - 1; i >= 0; i--) {\n                node = nodes[i];\n\n                if(node.filter)continue;\n\n                if (checkInNode(pos.x,pos.y,node)) {\n                    findNode = node;\n                    break;\n                }\n            }\n        }\n        // console.timeEnd('getNode')\n        return findNode;\n    }\n    function getEdge(pos) {\n        // console.time('getEdge')\n        var edges = _this.graph.edges;\n\n        var findEdge = null;\n        var edge,check;\n\n        var context  = _this.renderCache.edge;\n\n\n        if (edges.length > 0) {\n            for (var i = edges.length - 1; i >= 0; i--) {\n                edge = edges[i];\n\n                if(edge.filter)continue;\n\n                if (checkInEdge(pos.x,pos.y,edge)) {\n                    findEdge = edge;\n                    break;\n                }\n            }\n        }\n        // console.timeEnd('getEdge')\n        return findEdge;\n    }\n\n\n    function mouseLeft(e) {return (e.which && e.which == 1) || (e.button && e.button == 0);}\n    function mouseRight(e) {return (e.which && e.which == 3) || (e.button && e.button == 2);}\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/Event.js","\n'use strict';\n\nimport  EventEmitter from '../base/EventEmitter'\nimport  utils from '../util'\n\nexport default class Selection extends EventEmitter{\n    constructor(context,canvas){\n        super();\n\n        this.context = context;\n\n        this.canvas = canvas;\n        this.ctx = this.canvas.getContext('2d');\n\n        this._mouseDownHandler = this.mouseDown.bind(this);\n        this.canvas.addEventListener('mousedown',this._mouseDownHandler);\n\n        this.flag = 0;// 0 rect 1 path\n        this.rect = null;\n        this.path = null;\n\n        this.data = {\n            edges:[],\n            nodes:[]\n        };\n\n        this.initGraphEvent();\n    }\n\n    destroy(){\n        this.context = null;\n\n        this.canvas.removeEventListener('mousedown',this._mouseDownHandler);\n        this.canvas.parentNode.removeChild(this.canvas);\n        this.canvas = null;\n\n        this.ctx = null;\n\n        this.rect = null;\n        this.path = null;\n\n        this.data = null;\n\n\n    }\n\n    enable(flag = 0){\n\n        this.flag  = flag;\n\n        this.canvas.style.display = 'block';\n        this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height);\n    }\n    render(){\n\n        var ctx = this.ctx;\n        var config = this.context.config;\n        ctx.clearRect(0,0,this.canvas.width,this.canvas.height);\n        ctx.fillStyle = config.selectionFillStyle;\n        ctx.strokeStyle= config.selectionStrokeStyle;\n        ctx.beginPath();\n\n        if(this.flag == 0){\n            var rect = this.rect;\n            ctx.rect(rect.x,rect.y,rect.w,rect.h);\n        }else if(this.flag == 1){\n            var first = this.path[0];\n            ctx.moveTo(first.x,first.y);\n            for(var i = 1;i<this.path.length;i++) ctx.lineTo(this.path[i].x,this.path[i].y);\n        }\n\n        ctx.closePath();\n        ctx.fill();\n        ctx.stroke();\n    }\n\n    disable(){\n        this.canvas.style.display = 'none';\n        this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height);\n    }\n    initGraphEvent(){\n        var _this = this;\n        var map,dataType;\n        this.context.graph.on('remove',function (type,ids) {\n            dataType = type == 'node' ? 'nodes' : 'edges';\n            if(utils.isArray(ids) && ids.length > 1){\n                map = {};\n                ids.forEach( id =>{ map[id] = true});\n                _this.data[dataType] = _this.data[dataType].filter( id => !map[id]);\n            }else {\n                ids = utils.isArray(ids) ? ids[0] : ids;\n                for(var i = 0;i<_this.data[dataType].length;i++){\n                    if(_this.data[dataType][i] == ids){\n                        _this.data[dataType].splice(i,1);\n                        break;\n                    }\n                }\n            }\n        });\n\n        this.context.graph.on('reset',function () {\n            _this.data = {\n                edges:[],\n                nodes:[]\n            };\n        })\n    }\n    mouseDown(e){\n        var _this = this;\n\n        if(this.flag == 0){\n            this.rect = {x:0, y:0, w:0, h:0};\n            this.rect.x = e.offsetX;\n            this.rect.y = e.offsetY;\n        }else if(this.flag == 1){\n            this.path = [];\n            this.path.push({x:e.offsetX,y:e.offsetY});\n        }\n\n\n\n        _this.emit('selectStart',[_this]);\n\n        document.addEventListener('mousemove',mouseMove);\n        document.addEventListener('mouseup',mouseUp);\n        function mouseMove(e) {\n\n\n            if(_this.flag == 0){\n                _this.rect.w = e.offsetX - _this.rect.x;\n                _this.rect.h = e.offsetY - _this.rect.y;\n            }else if(_this.flag == 1){\n                _this.path.push({x:e.offsetX,y:e.offsetY});\n            }\n\n            _this.render();\n        }\n        function mouseUp(e) {\n            mouseMove(e);\n\n            document.removeEventListener('mousemove',mouseMove);\n            document.removeEventListener('mouseup',mouseUp);\n            var nodesid = _this.filterNodes(_this.ctx);\n\n            _this.disable();\n            _this.selectNodes(nodesid);\n            _this.emit('selectEnd',[_this]);\n        }\n    }\n\n    selectNodes(nodesid,isAdd,sendMsg = true){\n        var _this = this;\n\n        if(!utils.isArray(nodesid)) nodesid = [nodesid];\n\n        if(isAdd){\n            nodesid.forEach(function (id) {\n                _this.context.graph.setNodeData(id,{selected:true});\n                _this.data.nodes.push(id);\n            });\n\n        }else {\n\n            _this.data.nodes.forEach(function (id) {\n                if(_this.context.graph.nodesIndex[id])\n                    _this.context.graph.setNodeData(id,{selected:false});\n            });\n\n            nodesid.forEach(function (id) {\n                _this.context.graph.setNodeData(id,{selected:true});\n            });\n\n            _this.data.nodes = nodesid;\n\n        }\n\n        sendMsg && _this.emit('select',['node',_this.getNodes()]);\n    }\n    selectEdges(edgesid,isAdd,sendMsg = true){\n        var _this = this;\n\n        if(!utils.isArray(edgesid)) edgesid = [edgesid];\n\n        if(isAdd){\n            edgesid.forEach(function (id) {\n                _this.context.graph.setEdgeData(id,{selected:true});\n                _this.data.edges.push(id);\n            });\n\n        }else {\n\n            _this.data.edges.forEach(function (id) {\n                if(_this.context.graph.edgesIndex[id])\n                    _this.context.graph.setEdgeData(id,{selected:false});\n            });\n\n            edgesid.forEach(function (id) {\n                _this.context.graph.setEdgeData(id,{selected:true});\n            });\n\n            _this.data.edges = edgesid;\n\n        }\n\n        sendMsg && _this.emit('select',['edge',_this.getEdges()]);\n    }\n\n    unSelectNode(nodesid){\n\n        if(this.data.nodes.length == 0 || !nodesid) return;\n\n        var _this = this;\n        if(!utils.isArray(nodesid)) nodesid = [nodesid];\n\n        var map = {};\n\n        nodesid.forEach(function (id) {\n            map[id] = true;\n        });\n\n        var newSelected = [];\n        this.data.nodes.forEach(function (id) {\n            if(map[id]) _this.context.graph.setNodeData(id,{selected:false});\n            else newSelected.push(id);\n        });\n\n        this.data.nodes = newSelected;\n\n        _this.emit('select',['node',_this.getNodes()]);\n    }\n\n    unSelectEdge(edgesid){\n\n        if(this.data.edges.length == 0 || !edgesid) return;\n\n        var _this = this;\n        if(!utils.isArray(edgesid)) edgesid = [edgesid];\n\n        var map = {};\n\n        edgesid.forEach(function (id) {\n            map[id] = true;\n        });\n\n        var newSelected = [];\n        this.data.edges.forEach(function (id) {\n            if(map[id]) _this.context.graph.setEdgeData(id,{selected:false});\n            else newSelected.push(id);\n        });\n\n        this.data.edges = newSelected;\n\n        _this.emit('select',['edge',_this.getEdges()]);\n    }\n\n    getNodes(){\n        return this.data.nodes.map( id => this.context.graph.nodesIndex[id]);\n    }\n    getEdges(){\n        return this.data.edges.map( id => this.context.graph.edgesIndex[id]);\n    }\n\n    isNodeSelected(id){\n        var nodes = this.data.nodes;\n        for(var i = 0;i< nodes.length;i++){\n            if(nodes[i] == id){\n                return true\n            }\n        }\n        return false;\n    }\n    isEdgeSelected(id){\n        var edges = this.data.edges;\n        for(var i = 0;i< edges.length;i++){\n            if(edges[i] == id){\n                return true\n            }\n        }\n        return false;\n    }\n\n    filterNodes(ctx){\n        var nodes = this.context.graph.nodes;\n        var selects = [];\n        var domPos;\n        nodes.forEach(function (node) {\n            domPos = this.context.render.graphToDomPos({x:node.x,y:node.y});\n            if(ctx.isPointInPath(domPos.x,domPos.y)) selects.push(node.id);\n        }.bind(this));\n\n        return selects;\n    }\n    delete(type){\n        var _this = this;\n\n        var clearNode = type === 'node';\n        var clearEdge = type === 'edge';\n\n        if(!type){\n            clearEdge = true;\n            clearNode = true;\n        }\n\n\n        if(clearNode){\n            var nodes = this.data.nodes;\n            this.data.nodes = [];\n            nodes.forEach(function (id) {\n                _this.context.graph.removeNode(id);\n            });\n        }\n\n        if(clearEdge){\n            var edges = this.data.edges;\n            this.data.edges = [];\n            edges.forEach(function (id) {\n                _this.context.graph.removeEdge(id);\n            });\n        }\n\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/core/Selection.js","'use strict';\n\nexport default {\n\n    //default\n    defaultBackgroundColor:'#ffffff',\n    defaultTextBgColor:'rgba(0,0,0,0)',\n    defaultNodeSelectedBorder:'#d4525f',\n    defaultEdgeSelectedColor:'#d4525f',\n\n    // node\n    defaultNodeSize:10,\n    defaultNodeColor:\"#3a82a8\",\n    defaultNodeIconColor:\"#ffffff\",\n    defaultNodeLabelColor:\"#474d57\",\n\n    //edge\n    defaultEdgeColor:\"rgba(100,100,100,0.3)\",\n    defaultEdgeSize:1.6,\n    defaultEdgeArrowSize:5,\n    defaultEdgeLabelColor:\"#474d57\",\n\n    zoomRatio:1.2,\n    zoomMin:0.05,\n    zoomMax:20,\n\n    textureIconWidth:1024,\n    textureIconHeight:1024,\n    textureIconFontFamily:'FontAwesome',\n\n    textureTextFontFamily:'Arial',\n    textureTextWidth:1024,\n    textureTextHeight:1024,\n\n    enableMouseEvent:true,\n    enableOverEvent:true,\n    enableEdgeEvent:true,\n    enableSelectEdge:false,\n\n    //selection\n    selectionFillStyle:'rgba(58, 75, 89, 0.3)',\n    selectionStrokeStyle:'#4b7598',\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/config.js","'use strict';\n\nimport util from '../util'\n\n\nvar defaultConfig = {\n    width: 40\n};\n\nfunction CircularLayout() {\n    this.nodes = null;\n    // this.links = null;\n    this.posSet = null;\n    this.depthPosSet = null;\n    this.drawnBiComps = null;\n    this.bc = null;\n    this.nodeHeights = {};\n    this.node2BiComp = {};\n\n    this.width = defaultConfig.width;\n\n}\n\nvar p = CircularLayout.prototype;\n\n//必须有的方法\np.layout = function (nodes, edges, option,cb) {\n\n    option = option || {};\n\n    if (option.width) this.width = option.width;\n\n    this.init(nodes, edges);\n\n    this.posSet = new Array(this.nodes.length);\n    this.depthPosSet = new Array(this.nodes.length);\n\n    this.bc = this.createBicconnects();\n    // var test = this.bc.filter(function (e) {\n    //     return e.length > 3;\n    // });\n\n    if(!this.bc){\n        console.log('layout err');\n        return null;\n    }\n\n    this.__layout(this.bc);\n\n    var data = this.nodes.map(function (e) {\n        return {x: e.x || 0, y: e.y || 0};\n    });\n\n    // if(cb){\n    //     cb(null,data);\n    // }\n\n    return data;\n};\np.init = function (nodes, edges) {\n    var oldNodes = nodes, oldLinks = edges;\n    var tempNodes = [], map = {}, temp;\n    oldNodes.forEach(function (e, i) {\n        temp = {\n            id: e.id,\n            _index: i,\n            links: []\n        };\n        tempNodes.push(temp);\n        map[temp.id] = temp;\n    })\n\n    var s, t;\n    oldLinks.forEach(function (e, i) {\n        s = map[e.source];\n        t = map[e.target];\n\n        s.links = s.links || [];\n        s.links.push(t._index);\n\n        t.links = t.links || [];\n        t.links.push(s._index);\n    });\n\n    this.nodes = tempNodes;\n};\np.createBicconnects = function () {\n    var nodes = this.nodes;\n    var states = new Array(this.nodes.length),\n        dfsn = new Array(this.nodes.length),\n        low = new Array(this.nodes.length),\n        edgesStack = [],\n        pre = new Array(this.nodes.length);\n\n    var biComponents = [];\n    var totalN = 0;\n\n    pre[0] = -1;\n    var num = 0;\n    for (var i = 0; i < this.nodes.length; i++) {\n        states[i] = 0;\n    }\n\n    dfs(0);\n\n    return totalN == nodes.length ?  biComponents : null;\n\n    function dfs(current) {\n        totalN++;\n        states[current] = 1;\n        low[current] = dfsn[current] = ++num;\n\n        var neigh;\n        var neighNodes = nodes[current].links;\n\n        for (var i = 0; i < neighNodes.length; i++) {\n            neigh = neighNodes[i];\n\n            if (states[neigh] == 0) {\n                pre[neigh] = current;\n                edgesStack.push({source: current, target: neigh});\n                dfs(neigh);\n                low[current] = Math.min(low[current], low[neigh]);\n\n                if ((pre[current] == -1 && nodes[current].links.length >= 2) || low[neigh] >= dfsn[current]) {\n//                        var children = nodes[current].links;\n//                        if(children.length >=2){\n                    var singleComponent = [];\n                    var map = {};\n                    singleComponent.push(edgesStack[edgesStack.length - 1].target);\n                    map[edgesStack[edgesStack.length - 1].target] = true;\n                    while (edgesStack[edgesStack.length - 1].source != current) {\n                        var edge = edgesStack.pop();\n                        if (!map[edge.source]) {\n                            singleComponent.push(edge.source);\n                            map[edge.source] = true;\n                        }\n                        if (!map[edge.target]) {\n                            singleComponent.push(edge.target);\n                            map[edge.target] = true;\n                        }\n                    }\n                    edgesStack.pop();\n                    if (!map[current]) {\n                        singleComponent.push(current);\n                        map[current] = true;\n                    }\n                    /*singleComponent.length > 2 && */\n                    biComponents.push(singleComponent);\n//                        }\n                }\n//                    states[neigh]\n            } else if (neigh != pre[current]) {\n                low[current] = Math.min(low[current], low[neigh]);\n            }\n        }\n\n\n    }\n};\np.__layout = function (biconncts) {\n\n\n    var max = -1;\n    var maxIndex = null;\n    var nodes = this.nodes;\n\n    biconncts.forEach(function (e, i) {\n        if (e.length > max) {\n            max = e.length;\n            maxIndex = i;\n        }\n    });\n\n    biconncts[maxIndex].forEach(function (e) {\n        nodes[e].delete = true;\n    });\n\n    for (var i = 0; i < biconncts.length; i++)\n        if (biconncts[i].length > 3) {\n            for (var j = 0; j < biconncts[i].length; j++) {\n                this.node2BiComp[biconncts[i][j]] = i;\n            }\n        }\n\n    var bc = biconncts[maxIndex];\n\n    this.drawnBiComps = new Array(bc.length);\n    this.drawnBiComps[maxIndex] = true;\n\n\n    var maxSize = bc.length;\n    var radius = (this.width * maxSize) / (Math.PI * 2);\n    var deltaAngle = (2 * Math.PI) / maxSize;\n    var angle = 0;\n\n    var startX = radius | 0;\n    var startY = radius | 0;\n\n\n    bc = this.sortInnerCircle(bc);\n\n    for (var i = 0; i < bc.length; i++) {\n        nodes[bc[i]].test = i;\n        nodes[bc[i]].x = startX + Math.cos(angle) * radius;\n        nodes[bc[i]].y = startY - Math.sin(angle) * radius;\n        this.posSet[bc[i]] = true;\n        angle += deltaAngle;\n    }\n\n    this.SetOuterCircle(maxIndex, radius, startX, startY, -1);\n};\np.sortInnerCircle = function (icNodes) {\n    var greedyNodes = [];\n    var modestNodes = [];\n\n    var forFunct = {};\n\n    for (var i = 0; i < icNodes.length; i++)\n        forFunct[icNodes[i]] = true;\n\n    for (var i = 0; i < icNodes.length; i++) {\n        var tmp = this.NoOfChildren(icNodes[i], forFunct);\n\n        if (tmp > 4)\n            greedyNodes.push(icNodes[i]);\n        else\n            modestNodes.push(icNodes[i]);\n    }\n\n    var toReturn = new Array(icNodes.length);\n    var gNo = greedyNodes.length;\n    var mNo = modestNodes.length;\n    var deltaM;\n    var deltaG;\n\n    if (gNo == 0) {\n        deltaM = mNo;\n        deltaG = 0;\n    } else if (mNo == 0) {\n        deltaG = gNo;\n        deltaM = 0;\n    } else if (gNo > mNo) {\n        deltaM = 1;\n        deltaG = (gNo / mNo) | 0;\n    } else {\n        deltaG = 1;\n        deltaM = (mNo / gNo ) | 0;\n    }\n\n    var x = 0;\n    var i, g, m;\n    for (g = 0, m = 0; g < greedyNodes.length && m < modestNodes.length;) {\n        for (i = 0; i < deltaG && g < greedyNodes.length; i++)\n            toReturn[x++] = greedyNodes[g++];\n\n        for (i = 0; i < deltaM && m < modestNodes.length; i++)\n            toReturn[x++] = modestNodes[m++];\n    }\n\n    while (g < greedyNodes.length)\n        toReturn[x++] = greedyNodes[g++];\n\n    while (m < modestNodes.length)\n        toReturn[x++] = modestNodes[m++];\n    return toReturn;\n\n};\np.NoOfChildren = function (nodeId, outerCircle) {\n    var toReturn = 0;\n    var nodes = this.nodes;\n    var links = nodes[nodeId].links;\n\n    for (var i = 0; i < links.length; i++) {\n        var currNeigh = links[i];\n\n        if (!this.posSet[currNeigh] && !outerCircle[currNeigh])\n            toReturn++;\n    }\n\n    if (toReturn > 7)\n        toReturn = 7;\n\n    return toReturn;\n};\np.SetOuterCircle = function (compIndex, innerCircleRadius, startX, startY, firstTouched) {\n    var nodes = this.nodes;\n    var outerNodesCount = 0;\n    var rnc = 0;\n    var iter;\n    var outerCircle = {};\n\n    for (var i = 0; i < this.bc[compIndex].length; i++) {\n        iter = nodes[this.bc[compIndex][i]].links;\n\n        for (var j = 0; j < iter.length; j++) {\n            var currNeighbour = iter[j];\n\n            if (!this.posSet[currNeighbour]) {\n                outerNodesCount += (this.NoOfChildren(currNeighbour, outerCircle) + 1);\n                outerCircle[currNeighbour] = true;\n                rnc++;\n            }\n        }\n    }\n\n    var outerRadius = 1.5 * innerCircleRadius;\n\n    // + 5 * nodeHorizontalSpacing;\n    var tryCount = ((2 * Math.PI * outerRadius) / 32) | 0;\n    var outerDeltaAngle = (2 * Math.PI) / tryCount;\n\n    if (tryCount < (1.2 * outerNodesCount)) {\n        outerRadius = (1.2 * 32 * outerNodesCount) / (2 * Math.PI);\n        outerDeltaAngle = (2 * Math.PI) / (1.2 * outerNodesCount);\n        outerNodesCount *= 1.2;\n    } else\n        outerNodesCount = tryCount;\n\n    if ((outerNodesCount > 10) && (firstTouched != -1))\n        outerNodesCount += 5;\n\n    // 5 places on outer circle for connection with other biconn. comp.\n    //System.out.println(\"tryCount = \" + tryCount);\n\n    // setting nodes on outer circle\n    outerNodesCount = outerNodesCount | 0;\n    var outerPositionsTaken = new Array(outerNodesCount);\n    var outerPositionsOwners = new Array(outerNodesCount);\n\n    for (var i = 0; i < outerPositionsTaken.length; i++) {\n        outerPositionsTaken[i] = -1;\n        outerPositionsOwners[i] = -1;\n    }\n\n    var pointX;\n    var pointY;\n    var theAngle;\n    var theAngleHlp;\n    var innerDeltaAngle;\n    innerDeltaAngle = (2 * Math.PI) / this.bc[compIndex].length;\n\n    if (firstTouched != -1) {\n        pointX = nodes[firstTouched].x;\n        pointY = nodes[firstTouched].y;\n        theAngle = Math.asin((startY - pointY) / Math.sqrt(((pointX - startX) * (pointX\n                - startX))\n                + ((pointY - startY) * (pointY\n                - startY))));\n        theAngleHlp = Math.acos((pointX - startX) / Math.sqrt(((pointX - startX) * (pointX\n                - startX))\n                + ((pointY - startY) * (pointY\n                - startY))));\n\n        if (theAngleHlp > (Math.PI / 2))\n            theAngle = Math.PI - theAngle;\n\n        if (theAngle < 0)\n            theAngle += (2 * Math.PI);\n\n        var idPos = ((theAngle / outerDeltaAngle) | 0) % outerPositionsTaken.length;\n        outerPositionsTaken[idPos] = (theAngle / innerDeltaAngle) | 0;\n        outerPositionsOwners[idPos] = -2; // must not be even moved because that node is coming from another bicomp.\n\n        if (outerPositionsTaken.length > 10) {\n            outerPositionsTaken[(idPos + 1) % outerPositionsTaken.length] = (theAngle / innerDeltaAngle) | 0;\n            outerPositionsTaken[(idPos + 2) % outerPositionsTaken.length] = 0 | (theAngle / innerDeltaAngle);\n            outerPositionsTaken[(idPos - 1 + outerPositionsTaken.length) % outerPositionsTaken.length] = 0 | (theAngle / innerDeltaAngle);\n            outerPositionsTaken[(idPos - 2 + outerPositionsTaken.length) % outerPositionsTaken.length] = 0 | (theAngle / innerDeltaAngle);\n\n            outerPositionsOwners[(idPos + 1) % outerPositionsOwners.length] = -2;\n            outerPositionsOwners[(idPos + 2) % outerPositionsOwners.length] = -2;\n            outerPositionsOwners[(idPos - 1 + outerPositionsOwners.length) % outerPositionsOwners.length] = -2;\n            outerPositionsOwners[(idPos - 2 + outerPositionsOwners.length) % outerPositionsOwners.length] = -2;\n        }\n    }\n\n    var addedNeighbours = {};\n\n    for (var i = 0; i < this.bc[compIndex].length; i++) {\n        iter = nodes[this.bc[compIndex][i]].links;\n\n        var currentNeighbour;\n        var noOfNeighbours = 0;\n\n        for (var j = 0; j < iter.length; j++) {\n            currentNeighbour = iter[j];\n\n            if (!this.posSet[currentNeighbour]) {\n                noOfNeighbours += (this.NoOfChildren(currentNeighbour, addedNeighbours) + 1);\n                addedNeighbours[currentNeighbour] = true;\n            }\n        }\n\n        if (noOfNeighbours == 0)\n            continue;\n\n        pointX = nodes[this.bc[compIndex][i]].x;\n        pointY = nodes[this.bc[compIndex][i]].y;\n\n        theAngle = Math.asin((startY - pointY) / Math.sqrt(((pointX - startX) * (pointX\n                - startX))\n                + ((pointY - startY) * (pointY\n                - startY))));\n        theAngleHlp = Math.acos((pointX - startX) / Math.sqrt(((pointX - startX) * (pointX\n                - startX))\n                + ((pointY - startY) * (pointY\n                - startY))));\n\n        if (theAngleHlp > (Math.PI / 2))\n            theAngle = Math.PI - theAngle;\n\n        if (theAngle < 0)\n            theAngle += (2 * Math.PI);\n\n//\t\t\titer = edgesFrom[this.bc[compIndex][i]].iterator();\n\n        var startPos = this.BestFreePositionsForAll(0 | ((theAngle / outerDeltaAngle)\n            - (noOfNeighbours / 2.0)), outerPositionsTaken,\n            outerPositionsOwners, noOfNeighbours,\n            0 | (theAngle / innerDeltaAngle), startX,\n            startY, outerDeltaAngle, outerRadius,\n            this.bc[compIndex].length);\n        var startAngle = startPos * outerDeltaAngle;\n\n        if (startAngle < 0)\n            continue;\n\n//\t\t\titer = nodes[this.bc[compIndex][i]].iterator();\n\n        for (var m = 0; m < iter.length; m++) {\n            currentNeighbour = iter[m];\n\n            if (!this.posSet[currentNeighbour]) {\n                this.posSet[currentNeighbour] = true;\n\n                var holeDepth = this.NoOfChildren(currentNeighbour, addedNeighbours);\n\n                for (var j = 0; j < (holeDepth / 2); j++) {\n                    outerPositionsOwners[(startPos) % outerPositionsOwners.length] = -3;\n                    // free but it must not be used (add. space for tree-like struct.)\n                    outerPositionsTaken[(startPos) % outerPositionsOwners.length] = 0 | (theAngle / innerDeltaAngle);\n                    startPos++;\n                    startAngle += outerDeltaAngle;\n\n                    if (startAngle > (2 * Math.PI))\n                        startAngle -= (2 * Math.PI);\n                }\n\n\n                nodes[currentNeighbour].x = startX + (Math.cos(startAngle) * outerRadius);\n                nodes[currentNeighbour].y = startY - (Math.sin(startAngle) * outerRadius);\n\n                outerPositionsOwners[(startPos) % outerPositionsOwners.length] = currentNeighbour;\n                outerPositionsTaken[(startPos) % outerPositionsOwners.length] = 0 | (theAngle / innerDeltaAngle);\n                startPos++;\n                startAngle += outerDeltaAngle;\n\n                if (startAngle > (2 * Math.PI))\n                    startAngle -= (2 * Math.PI);\n\n                for (var j = 0; j < (holeDepth / 2); j++) {\n                    outerPositionsOwners[(startPos) % outerPositionsOwners.length] = -3;\n                    outerPositionsTaken[(startPos) % outerPositionsOwners.length] = 0 | (theAngle / innerDeltaAngle);\n                    startPos++;\n                    startAngle += outerDeltaAngle;\n\n                    if (startAngle > (2 * Math.PI))\n                        startAngle -= (2 * Math.PI);\n                }\n            }\n        }\n    }\n\n    // laying out the rest of nodes\n    for (var i = 0; i < this.bc[compIndex].length; i++) {\n        iter = nodes[this.bc[compIndex][i]].links;\n\n        var currentNeighbour;\n\n        for (var m = 0; m < iter.length; m++) {\n            currentNeighbour = iter[m];\n\n            if (!addedNeighbours[currentNeighbour]) {\n                continue;\n            }\n\n            pointX = nodes[currentNeighbour].x;\n            pointY = nodes[currentNeighbour].y;\n\n            theAngle = Math.asin((startY - pointY) / Math.sqrt(((pointX - startX) * (pointX\n                    - startX))\n                    + ((pointY - startY) * (pointY\n                    - startY))));\n            theAngleHlp = Math.acos((pointX - startX) / Math.sqrt(((pointX - startX) * (pointX\n                    - startX))\n                    + ((pointY - startY) * (pointY\n                    - startY))));\n\n            if (theAngleHlp > (Math.PI / 2))\n                theAngle = Math.PI - theAngle;\n\n            if (theAngle < 0)\n                theAngle += (2 * Math.PI);\n\n            for (var j = 0; j < this.posSet.length; j++)\n                this.depthPosSet[j] = this.posSet[j];\n\n            this.EachNodeHeight(currentNeighbour);\n\n            this.DFSSetPos(currentNeighbour, theAngle, outerRadius - innerCircleRadius);\n        }\n    }\n};\np.BestFreePositionsForAll = function (idealPosition, outerPositionsTaken, outerPositionsOwners, noOfPos,\n                                      innerCirclePos, startX, startY,\n                                      outerDeltaAngle, outerRadius, innerCSize) {\n    var startPos = idealPosition;\n    var nodes = this.nodes;\n\n    if (idealPosition < 0)\n        startPos += outerPositionsTaken.length;\n\n    var i = 0;\n    var alreadyFound = 0;\n    var startOfAlFound = -1;\n    var found = false;\n    var goDown = false;\n    var goUp = false;\n\n    //An infinite loop occurs when there is no place in the outerPositionsTaken array where all the number\n    //of positions that we need (noOfPos) can fit contiguously. In such a case, an infinite loop occurs.\n    //Experiment: Create a count. If the count exceeds outPositionsTaken.length, then we have looked at every\n    //possible startPos. Set startPos to the best startPos (meaning, the most contingious spaces) and set found\n    //to true.\n\n    //Experiment: int goUpCount = 0;\n    var goUpCount = 0;\n    //Experiment: int biggestGap = 0;\n    var biggestGap = 0;\n    //Experiment: int bestStartPos;\n    var bestStartPos = 0;\n\n    while (!found && !(goUp && goDown)) {\n        //System.out.print(startPos + \" \");\n        for (i = startPos;\n             (i < (startPos + noOfPos))\n             && (outerPositionsTaken[i % outerPositionsTaken.length] == -1); i++) {\n        }\n\n        if (i < (startPos + noOfPos)) {\n            if (((outerPositionsTaken[i % outerPositionsTaken.length] > innerCirclePos)\n                && ((outerPositionsTaken[i % outerPositionsTaken.length] - innerCirclePos) < (0.7 * innerCSize)))\n                || ((innerCirclePos - outerPositionsTaken[i % outerPositionsTaken.length]) > (0.7 * innerCSize))) {\n                alreadyFound = (i - startPos + outerPositionsTaken.length) % outerPositionsTaken.length;\n                startOfAlFound = startPos;\n                startPos -= (noOfPos - alreadyFound);\n\n                if (startPos < 0)\n                    startPos += outerPositionsTaken.length;\n\n                goDown = true;\n            } else {\n                //Experiment: goUpCount++;\n                goUpCount++;\n                //Experiment: int thisGap = i - startPos;\n                var thisGap = i - startPos;\n                //Experiment: if( thisGap > biggestGap )\n                if (thisGap > biggestGap) {\n                    biggestGap = thisGap;\n                    bestStartPos = startPos;\n                }\n                //Experiment: if( count > outerPositionsTaken.length )\n                if (goUpCount > outerPositionsTaken.length * 3) {\n                    startPos = bestStartPos;\n                    found = true;\n                }\n                //Experiment: else\n                else {\n                    startPos = (i + 1) % outerPositionsTaken.length;\n                    goUp = true;\n                }\n            }\n        } else\n            found = true;\n    }\n\n    if (goUp && goDown) {\n        i = startOfAlFound - 1;\n\n        var j = i - 1;\n        var count = 0;\n        //System.out.print(j + \" \");\n\n        var index = (i % outerPositionsTaken.length + outerPositionsTaken.length) % outerPositionsTaken.length;\n        if (((outerPositionsTaken[index] > innerCirclePos)\n            && ((outerPositionsTaken[index] - innerCirclePos) < (0.7 * innerCSize)))\n            || ((innerCirclePos - outerPositionsTaken[index]) > (0.7 * innerCSize))) {\n            j--;\n            i--;\n        }\n\n        while (count < (noOfPos - alreadyFound)) {\n            //System.out.print(j + \" \");\n\n            if (outerPositionsTaken[(j + outerPositionsTaken.length) % outerPositionsTaken.length] == -1) {\n                // move all for one place left\n                //\tSystem.out.print(\" moving \");\n                if (outerPositionsOwners[(j + outerPositionsTaken.length) % outerPositionsTaken.length] == -2) {\n                    //System.out.println(\"BUUUUUUUUUUUUUUUUUUU\");\n\n                    return -1;\n                }\n\n                for (var k = j; k < (i - count); k++) {\n                    if (outerPositionsOwners[(k + 1 + outerPositionsTaken.length) % outerPositionsTaken.length] > 0) {\n                        nodes[outerPositionsOwners[(k + 1 + outerPositionsTaken.length) % outerPositionsTaken.length]].x = startX + (Math.cos(outerDeltaAngle * k) * outerRadius);\n                        nodes[outerPositionsOwners[(k + 1 + outerPositionsTaken.length) % outerPositionsTaken.length]].y = startY - (Math.sin(outerDeltaAngle * k) * outerRadius);\n                    }\n\n\n                    outerPositionsOwners[(k + outerPositionsTaken.length) % outerPositionsTaken.length] = outerPositionsOwners[(k + 1 + outerPositionsTaken.length) % outerPositionsTaken.length];\n                    outerPositionsTaken[(k + outerPositionsTaken.length) % outerPositionsTaken.length] = outerPositionsTaken[(k + 1 + outerPositionsTaken.length) % outerPositionsTaken.length];\n                }\n\n                count++;\n            }\n\n            j--;\n        }\n\n        startPos = (i - count + 1 + outerPositionsOwners.length) % outerPositionsOwners.length;\n    }\n\n    /*    for (i = startPos; i < startPos + noOfPos; i++)\n     {\n     outerPositionsTaken[i % outerPositionsTaken.length] = innerCirclePos;\n     }*/\n    return startPos;\n\n};\np.EachNodeHeight = function (nodeID) {\n    var nodes = this.nodes;\n    var links = nodes[nodeID].links;\n    var currentNeighbour;\n    var noOfChildren = 0;\n    var tmp = {};\n\n    for (var m = 0; m < links.length; m++) {\n        currentNeighbour = links[m];\n\n        if (!this.depthPosSet[currentNeighbour] && !tmp[currentNeighbour]) {\n            this.depthPosSet[currentNeighbour] = true;\n            tmp[currentNeighbour] = true;\n        }\n    }\n\n\n    for (var m = 0; m < links.length; m++) {\n        currentNeighbour = links[m];\n\n        if (tmp[currentNeighbour]) {\n            noOfChildren += this.EachNodeHeight(currentNeighbour);\n        }\n    }\n\n//\t\tif (this.nodeHeights[nodeID])\n//\t\t\tthis.nodeHeights.remove(Integer.valueOf(nodeID));\n\n    this.nodeHeights[nodeID] = noOfChildren;\n\n    return (noOfChildren + 1);\n};\np.DFSSetPos = function (nodeID, theAngle, theRadius) {\n    var component = this.node2BiComp[nodeID];\n    var nodes = this.nodes;\n    if (component != undefined && !this.drawnBiComps[component]) {\n        var comp = component;\n        var centerX = nodes[nodeID].x;\n        var centerY = nodes[nodeID].y;\n        var radius = (this.width * this.bc[comp].length) / (2 * Math.PI);\n        var deltaAngle = (2 * Math.PI) / this.bc[comp].length;\n        var currAngle = theAngle - Math.PI - deltaAngle;\n\n        if (currAngle < 0)\n            currAngle += (2 * Math.PI);\n\n        centerX += (Math.cos(theAngle) * radius * 4.0);\n        centerY -= (Math.sin(theAngle) * radius * 4.0);\n\n        this.drawnBiComps[comp] = true;\n\n        // sorting nodes on inner circle\n        this.bc[comp] = this.sortInnerCircle(this.bc[comp]);\n\n        /*if (this.bc[comp].length > 20)\n         this.bc[comp] = ReduceInnerCircleCrossings(this.bc[comp]);*/\n        var oneAtLeast = false;\n\n        for (var i = 0; i < this.bc[comp].length; i++) {\n            if (this.posSet[this.bc[comp][i]])\n                continue;\n\n\n            nodes[this.bc[comp][i]].x = centerX + (Math.cos(currAngle) * radius);\n            nodes[this.bc[comp][i]].y = centerY - (Math.sin(currAngle) * radius);\n\n            this.posSet[this.bc[comp][i]] = true;\n\n            oneAtLeast = true;\n            currAngle -= deltaAngle;\n\n            if (currAngle < 0)\n                currAngle += (2 * Math.PI);\n        }\n\n        if (oneAtLeast) {\n\n            nodes[nodeID].x += Math.cos(theAngle) * 3 * radius;\n            nodes[nodeID].y -= Math.sin(theAngle) * 3 * radius;\n\n\n            this.SetOuterCircle(comp, radius, centerX, centerY, nodeID);\n        }\n    } else {\n        var iter = nodes[nodeID].links;\n        var currentNeighbour;\n        var startAngle = theAngle + (Math.PI / 2);\n\n        if (startAngle > (2 * Math.PI))\n            startAngle -= (2 * Math.PI);\n\n        var neighboursCount = 0;\n        var min1 = 1000;\n        var min2 = 1000;\n        var max = -1;\n        var min1Id = -1;\n        var min2Id = -2;\n        var maxId = -3;\n        var tmp = {};\n\n        for (var m = 0; m < iter.length; m++) {\n            currentNeighbour = iter[m];\n\n            if (!this.posSet[currentNeighbour] && !tmp[currentNeighbour]) {\n                neighboursCount++;\n                tmp[currentNeighbour] = true;\n\n                if (this.nodeHeights[currentNeighbour] < min1) {\n                    min2 = min1;\n                    min2Id = min1Id;\n                    min1 = this.nodeHeights[currentNeighbour];\n                    min1Id = currentNeighbour;\n                } else if (this.nodeHeights[currentNeighbour] < min2) {\n                    min2 = this.nodeHeights[currentNeighbour];\n                    min2Id = currentNeighbour;\n                }\n\n                if (this.nodeHeights[currentNeighbour] >= max)//&& currentNeighbour != min2Id && currentNeighbour != min1Id)\n                {\n                    max = this.nodeHeights[currentNeighbour];\n                    maxId = currentNeighbour;\n                }\n            }\n        }\n\n        if (neighboursCount == 0)\n            return;\n\n        var deltaAngle = Math.PI / (neighboursCount + 1);\n\n        startAngle -= deltaAngle;\n\n        if (startAngle < 0)\n            startAngle += (2 * Math.PI);\n\n        var remStartAngle = startAngle;\n\n        if (neighboursCount > 2) {\n            deltaAngle = (2 * Math.PI) / neighboursCount;\n            startAngle = (theAngle + Math.PI) - ((3 * deltaAngle) / 2);\n\n            if (startAngle > (2 * Math.PI))\n                startAngle -= (2 * Math.PI);\n\n            remStartAngle = (theAngle + Math.PI) - (deltaAngle / 2);\n\n            if (remStartAngle > (2 * Math.PI))\n                remStartAngle -= (2 * Math.PI);\n        }\n\n        iter = nodes[nodeID].links;\n\n        var r = 72;\n        var rTry;\n\n        if (((this.width * neighboursCount) / (2 * Math.PI)) > r)\n            r = (this.width * neighboursCount) / (2 * Math.PI);\n\n        rTry = r;\n\n        var hlp = 100.0;\n        var startX = nodes[nodeID].x;\n        var startY = nodes[nodeID].y;\n\n        if (neighboursCount > 2) {\n            nodes[nodeID].x = startX + (Math.cos(theAngle) * r * ((min2 + 1) % 100));\n            nodes[nodeID].y = startY - (Math.sin(theAngle) * r * ((min2 + 1) % 100));\n\n            startX = nodes[nodeID].x;\n            startY = nodes[nodeID].y;\n\n            //System.out.println(\"theAngle = \" + theAngle + \", startAngle = \" + startAngle + \", remStartAngle = \" + remStartAngle + \", deltaAngle = \" + deltaAngle);\n            //System.out.println(\"min1Id = \" + min1Id + \", min2Id\" + min2Id + \", maxId\" + maxId);\n            setOffset(nodes[min1Id], startX + (Math.cos(remStartAngle) * r),\n                startY - (Math.sin(remStartAngle) * r));\n            nodes[min1Id].test = 'min1'\n            setOffset(nodes[min2Id], startX + (Math.cos(remStartAngle + deltaAngle) * r),\n                startY - (Math.sin(remStartAngle + deltaAngle) * r));\n            nodes[min2Id].test = 'min2'\n\n            if (this.nodeHeights[maxId] > 8)\n                r = 256;\n\n            setOffset(nodes[maxId],\n                startX + (Math.cos(remStartAngle - ((neighboursCount / 2) * deltaAngle)) * r),\n                startY - (Math.sin(remStartAngle - ((neighboursCount / 2) * deltaAngle)) * r));\n            nodes[maxId].test = 'maxId'\n\n            //System.out.println(\"Ugao za maxID \"\n            //                  + (remStartAngle - ((neighboursCount / 2) * deltaAngle)));\n        }\n\n        tmp = {};\n\n        for (var m = 0; m < iter.length; m++) {\n            currentNeighbour = iter[m];\n\n            if (!this.posSet[currentNeighbour] && !tmp[currentNeighbour]) {\n                if (this.nodeHeights[currentNeighbour] > 8)\n                    r = 256;\n                else\n                    r = rTry;\n\n                this.posSet[currentNeighbour] = true;\n                tmp[currentNeighbour] = true;\n\n                if (((currentNeighbour != min1Id) && (currentNeighbour != min2Id)\n                    && (currentNeighbour != maxId)) || (neighboursCount <= 2)) {\n                    setOffset(nodes[currentNeighbour], startX + (Math.cos(startAngle) * r),\n                        startY - (Math.sin(startAngle) * r));\n\n                    startAngle -= deltaAngle;\n\n                    if (startAngle < 0)\n                        startAngle += (2 * Math.PI);\n\n                    if (((Math.abs(startAngle\n                            - (remStartAngle - ((neighboursCount / 2) * deltaAngle))) < 0.0001)\n                        || (Math.abs(startAngle\n                            - (remStartAngle - ((neighboursCount / 2) * deltaAngle)\n                            + (2 * Math.PI))) < 0.0001)) && (neighboursCount > 2)) {\n                        startAngle -= deltaAngle;\n\n                        if (startAngle < 0)\n                            startAngle += (2 * Math.PI);\n                    }\n                }\n            }\n        }\n\n        iter = nodes[nodeID].links;\n\n        if (neighboursCount > 2) {\n            this.DFSSetPos(min1Id, remStartAngle, theRadius * Math.sin(deltaAngle / 2));\n            this.DFSSetPos(min2Id, remStartAngle + deltaAngle, theRadius * Math.sin(deltaAngle / 2));\n            this.DFSSetPos(maxId, remStartAngle - ((neighboursCount / 2) * deltaAngle),\n                theRadius * Math.sin(deltaAngle / 2));\n            hlp = remStartAngle;\n            remStartAngle -= deltaAngle;\n        }\n\n        for (var m = 0; m < iter.length; m++) {\n            currentNeighbour = iter[m];\n\n            if (tmp[currentNeighbour]) {\n                if (((currentNeighbour != min1Id) && (currentNeighbour != min2Id)\n                    && (currentNeighbour != maxId)) || (neighboursCount <= 2)) {\n                    this.DFSSetPos(currentNeighbour, remStartAngle,\n                        theRadius * Math.sin(deltaAngle / 2));\n\n                    remStartAngle -= deltaAngle;\n\n                    if (((remStartAngle == (hlp - ((neighboursCount / 2) * deltaAngle)))\n                        || (remStartAngle == (hlp - ((neighboursCount / 2) * deltaAngle)\n                        + (2 * Math.PI)))) && (neighboursCount > 2))\n                        startAngle -= deltaAngle;\n\n                    if (remStartAngle < 0)\n                        remStartAngle += (2 * Math.PI);\n                }\n            }\n        }\n    }\n};\n\nfunction setOffset(node, x, y) {\n    node.x = x;\n    node.y = y;\n}\n\nexport default CircularLayout;\n\n\n\n// WEBPACK FOOTER //\n// ./src/layout/CircularLayout.js","'use strict';\n\nimport util from '../util'\n\nvar defaultConfig = {\n    BBox:[1000, 1000],\n    linkDistance:10,\n    initIterations:20,\n    userIterations:0,\n    allIterations:2,\n};\n\nexport default class ColaLayout{\n    layout(nodes,edges,option){\n        if(!cola || !cola.Layout) throw 'please add cola lib first';\n\n        option = option || {};\n\n        this.option = util.extend(option,defaultConfig);\n\n        this.cola = new cola.Layout().convergenceThreshold(1e-4)\n            .size(this.option.BBox);\n\n        var data = this._init(nodes,edges);\n\n        this.cola.nodes(data.nodes)\n            .links(data.edges)\n            .symmetricDiffLinkLengths(this.option.linkDistance)\n            .start(this.option.initIterations,this.option.userIterations,this.option.allIterations,0,false);\n\n        return data.nodes.map(function (e) {\n            return {x:e.x,y:e.y};\n        })\n    }\n\n    _init(_nodes,_edges){\n        var nodes = [];\n        var edges = [];\n        var map = {};\n        _nodes.forEach(function (e,i) {\n            nodes.push({\n                width:100,\n                height:100\n            });\n            map[e.id] = i;\n        })\n\n        _edges.forEach(function (e, i) {\n            if (map.hasOwnProperty(e.source) && map.hasOwnProperty(e.target))\n                edges.push({\n                    source: map[e.source],\n                    target: map[e.target],\n                });\n        })\n\n        return {\n            nodes:nodes,\n            edges:edges\n        }\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/layout/ColaLayout.js","'use strict';\n\nimport util from '../util'\n\nvar defaultConfig = {\n    rankdir:'TB',\n    nodesep:10,\n    ranksep:40,\n    ranker:'longest-path'//network-simplex  longest-path tight-tree\n};\nexport default class DargeLayout{\n    layout(nodes,edges,option){\n        // debugger\n        if(!dagre || !dagre.graphlib) throw 'please add dagre lib first';\n        var g = new dagre.graphlib.Graph();\n\n        this.option = util.extend(option || {}, defaultConfig);\n\n        g.setGraph(this.option);\n\n        g.setDefaultEdgeLabel(function() { return {}; });\n\n        nodes.forEach(function (e) {\n            g.setNode(e.id,{width:20,height:20});\n        });\n\n        edges.forEach(function (e) {\n            g.setEdge(e.source,e.target);\n        });\n\n        dagre.layout(g);\n\n        var data = g.nodes().map(function (e) {\n            var d = g.node(e);\n            return {x:d.x,y:-1*d.y};\n        });\n\n        return data;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/layout/DargeLayout.js","'use strict';\n\nimport util from '../util'\n\nvar defaultConfig = {\n    BBox:[1000, 1000],\n    flowAxis:'y',\n    flowSeparation:30,\n    linkDistance:30,\n    initIterations:10,\n    userIterations:0,\n    allIterations:2,\n};\n\nexport default class FlowLayout{\n    layout(nodes,edges,option){\n        if(!cola || !cola.Layout) throw 'please add cola lib first';\n\n        option = option || {};\n\n        this.option = util.extend(option,defaultConfig);\n\n        this.cola = new cola.Layout().convergenceThreshold(1e-4)\n            .size(this.option.BBox);\n\n        var data = this._init(nodes,edges);\n\n        this.cola.nodes(data.nodes)\n            .links(data.edges)\n            .flowLayout(this.option.flowAxis, this.option.flowSeparation)\n            .symmetricDiffLinkLengths(this.option.linkDistance)\n            .start(this.option.initIterations,this.option.userIterations,this.option.allIterations,0,false);\n\n        return data.nodes.map(function (e) {\n            return {x:e.x,y:-1*e.y};\n        })\n    }\n\n    _init(_nodes,_edges){\n\n        // var filterEdge = this._filterEdge(nodes,edges);\n\n        var nodes = [];\n        var edges = [];\n        var map = {};\n        _nodes.forEach(function (e,i) {\n            nodes.push({\n                width:100,\n                height:100\n            });\n            map[e.id] = i;\n        })\n\n        _edges.forEach(function (e,i) {\n            edges.push({\n                source:map[e.source],\n                target:map[e.target],\n            });\n        })\n\n        return {\n            nodes:nodes,\n            edges:edges\n        }\n    }\n\n    _filterEdge(nodes,edges){\n        var filterEdges = [];\n\n        var flag = {};\n        var first = nodes[0];\n\n        breadFirst(first);\n\n        return filterEdges;\n\n        function breadFirst(node) {\n            // debugger\n            flag[node.id] = true;\n\n            var nodes = [];\n\n            var edges = graph.inEdgesIndex[node.id],edge;\n            if(edges && edges.length > 0){\n                edges.forEach(function (e) {\n                    edge = graph.edgesIndex[e];\n                    if(!flag[edge.source]) {\n                        filterEdges.push(edge);\n                        nodes.push(graph.nodesIndex[edge.source]);\n                    }\n                });\n            }\n\n            edges = graph.outEdgesIndex[node.id];\n            if(edges && edges.length > 0){\n                edges.forEach(function (e) {\n                    edge = graph.edgesIndex[e];\n                    if(!flag[edge.target]) {\n                        filterEdges.push(edge);\n                        nodes.push(graph.nodesIndex[edge.target]);\n                    }\n                });\n            }\n\n            nodes.forEach(function (e) {\n                breadFirst(e);\n            })\n\n        }\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/layout/FlowLayout.js","\n'use strict';\n\nimport util from '../util'\n\nvar defaultConfig = {\n    forceManyBody:-50,\n    forceLink:100,\n    forceCollide:20,\n    iterations:100\n};\n\nfunction id(d) {\n    return d.id;\n}\n\n\nexport default class ForceD3Layout{\n    layout(nodes,edges,option){\n        if(!d3 || !d3.forceSimulation) throw 'please add d3 lib first';\n\n        this.option = util.extend(option || {},defaultConfig);\n\n        var data = this._init(nodes,edges);\n\n        this.simulation = d3.forceSimulation(data.nodes)\n            .force(\"charge\", d3.forceManyBody(this.option.forceManyBody))\n            .force(\"link\", d3.forceLink(data.edges).id(id).distance(this.option.forceLink))\n            .force(\"collide\",d3.forceCollide(this.option.forceCollide))\n            .force(\"center\", d3.forceCenter());\n\n        this.simulation.stop();\n\n        var n = this.option.iterations;\n        while (n--) this.simulation.tick();\n\n\n        return data.nodes.map(function (e) {\n            return {x:e.x,y:e.y};\n        })\n    }\n\n    _init(_nodes,_edges){\n        var nodes = [];\n        var edges = [];\n        _nodes.forEach(function (e,i) {\n            nodes.push({\n                id:e.id\n            });\n        });\n\n        _edges.forEach(function (e, i) {\n            edges.push({\n                source:e.source,\n                target:e.target,\n            });\n        });\n\n        return {\n            nodes:nodes,\n            edges:edges\n        }\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/layout/ForceD3Layout.js","'use strict';\n\nimport util from '../util'\n\nvar defaultConfig = {\n    offsetX:50,\n    offsetY:50,\n};\n\nexport default class Grid{\n    layout(_nodes,_edges,option){\n\n        var nodes = [];\n\n        this.option = util.extend(option || {},defaultConfig);\n\n        var width = this.option.offsetX;\n        var height = this.option.offsetY;\n\n        var num = (Math.sqrt(_nodes.length) | 0) + 1;\n\n        var nx,ny;\n\n        _nodes.forEach(function (e,id) {\n            nx = (id % num) | 0;\n            ny = (id / num) | 0;\n            nodes.push({\n                x:  nx * width,\n                y:  ny * height,\n            });\n        });\n\n        return nodes;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/layout/Grid.js","/**\n * Created by chengang on 17-2-20.\n */\n\nimport CircularLayout from './CircularLayout'\nimport ColaLayout from './ColaLayout'\nimport FlowLayout from './FlowLayout'\nimport DargeLayout from './DargeLayout'\nimport ForceD3Layout from './ForceD3Layout'\nimport Grid from './Grid'\n\nexport default {\n    circular:CircularLayout,\n    d3force:ForceD3Layout,\n    cola:ColaLayout,\n    flow:FlowLayout,\n    darge:DargeLayout,\n    grid:Grid,\n}\n\n\n// WEBPACK FOOTER //\n// ./src/layout/index.js","'use strict';\n\nvar INF = 1e20;\n\nexport  default  function TextSDF(fontSize, buffer, radius, cutoff, fontFamily) {\n    this.fontSize = fontSize || 24;\n    this.buffer = buffer === undefined ? 3 : buffer;\n    this.cutoff = cutoff || 0.25;\n    this.fontFamily = fontFamily || 'sans-serif';\n    this.radius = radius || 8;\n    var size = this.size = this.fontSize + this.buffer * 2;\n\n    this.canvas = document.createElement('canvas');\n    this.canvas.width = this.canvas.height = size;\n\n    this.ctx = this.canvas.getContext('2d');\n    this.ctx.font = fontSize + 'px ' + this.fontFamily;\n    this.ctx.textBaseline = 'middle';\n    this.ctx.fillStyle = 'black';\n\n    // temporary arrays for the distance transform\n    this.gridOuter = new Float64Array(size * size);\n    this.gridInner = new Float64Array(size * size);\n    this.f = new Float64Array(size);\n    this.d = new Float64Array(size);\n    this.z = new Float64Array(size + 1);\n    this.v = new Int16Array(size);\n\n    // hack around https://bugzilla.mozilla.org/show_bug.cgi?id=737852\n    this.middle = Math.round((size / 2) * (navigator.userAgent.indexOf('Gecko/') >= 0 ? 1.2 : 1));\n\n    this.cache = {\n        map:{},\n        len:0\n    };\n}\n\nTextSDF.prototype.draw = function (char) {\n    var cache = this.cache;\n\n    if(cache.map[char]) return cache.map[char];\n\n    this.ctx.clearRect(0, 0, this.size, this.size);\n    this.ctx.fillText(char, this.buffer, this.middle);\n\n    var charSize = (this.ctx.measureText(char).width+1)|0;\n    var imgData = this.ctx.getImageData(0, 0, this.size, this.size);\n    var data = imgData.data;\n\n    for (var i = 0; i < this.size * this.size; i++) {\n        var a = data[i * 4 + 3] / 255; // alpha value\n        this.gridOuter[i] = a === 1 ? 0 : a === 0 ? INF : Math.pow(Math.max(0, 0.5 - a), 2);\n        this.gridInner[i] = a === 1 ? INF : a === 0 ? 0 : Math.pow(Math.max(0, a - 0.5), 2);\n    }\n\n    edt(this.gridOuter, this.size, this.size, this.f, this.d, this.v, this.z);\n    edt(this.gridInner, this.size, this.size, this.f, this.d, this.v, this.z);\n\n    for (i = 0; i < this.size * this.size; i++) {\n        var d = this.gridOuter[i] - this.gridInner[i];\n        var c = Math.max(0, Math.min(255, Math.round(255 - 255 * (d / this.radius + this.cutoff))));\n        data[4 * i + 0] = c;\n        data[4 * i + 1] = c;\n        data[4 * i + 2] = c;\n        data[4 * i + 3] = 255;\n    }\n\n    var data = {\n        data:imgData,\n        charWidth:charSize+this.buffer*2\n    };\n\n    this.addCache(char,data);\n\n    return data;\n};\n\nTextSDF.maxCacheSize = 1024;\n\nTextSDF.prototype.addCache = function (key,data) {\n    var maxSize = TextSDF.maxCacheSize;\n    var cache = this.cache;\n    if(cache.len < maxSize && !cache.map[key]){\n        cache.map[key] = data;\n        cache.len++;\n    }\n};\n\nTextSDF.prototype.clearCache = function () {\n    var cache = this.cache;\n    cache.len = 0;\n    cache.map = {};\n};\n\n// 2D Euclidean distance transform by Felzenszwalb & Huttenlocher https://cs.brown.edu/~pff/dt/\nfunction edt(data, width, height, f, d, v, z) {\n    for (var x = 0; x < width; x++) {\n        for (var y = 0; y < height; y++) {\n            f[y] = data[y * width + x];\n        }\n        edt1d(f, d, v, z, height);\n        for (y = 0; y < height; y++) {\n            data[y * width + x] = d[y];\n        }\n    }\n    for (y = 0; y < height; y++) {\n        for (x = 0; x < width; x++) {\n            f[x] = data[y * width + x];\n        }\n        edt1d(f, d, v, z, width);\n        for (x = 0; x < width; x++) {\n            data[y * width + x] = Math.sqrt(d[x]);\n        }\n    }\n}\n\n// 1D squared distance transform\nfunction edt1d(f, d, v, z, n) {\n    v[0] = 0;\n    z[0] = -INF;\n    z[1] = +INF;\n\n    for (var q = 1, k = 0; q < n; q++) {\n        var s = ((f[q] + q * q) - (f[v[k]] + v[k] * v[k])) / (2 * q - 2 * v[k]);\n        while (s <= z[k]) {\n            k--;\n            s = ((f[q] + q * q) - (f[v[k]] + v[k] * v[k])) / (2 * q - 2 * v[k]);\n        }\n        k++;\n        v[k] = q;\n        z[k] = s;\n        z[k + 1] = +INF;\n    }\n\n    for (q = 0, k = 0; q < n; q++) {\n        while (z[k + 1] < q) k++;\n        d[q] = (q - v[k]) * (q - v[k]) + f[v[k]];\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/render/webgl/TextSDF.js","/**\n * Created by chengang on 17-4-7.\n */\n\nimport EventEmitter from '../../base/EventEmitter'\n\nexport default class TextureIcon extends EventEmitter{\n    constructor(config,gl,unit){\n        super();\n\n        this.gl = gl;\n        this.unit = unit || 0;\n\n        this.textureIconWidth = config.textureIconWidth;\n        this.textureIconHeight = config.textureIconHeight;\n\n        this.fontSize = 60;\n        this.fontFamily = config.textureIconFontFamily;\n\n        this.border = 2;\n        this.width = 70;//char width\n        this.height = 80;\n        this.startx =this.border+this.width/2;\n        this.starty =this.border+this.height/2;\n\n        this.canvas = null;\n        this.iconinfo = null;\n        this.icons = [];\n        this.iconsToCreate = [];\n\n        this.texture  = null;\n\n        this.fontLoaded  = true;\n\n        this._init();\n    }\n\n    _init(){\n        this.canvas = document.createElement('canvas');\n\n        this.canvas.width  = this.textureIconWidth;\n        this.canvas.height  = this.textureIconHeight;\n\n        var ctx = this.canvas.getContext(\"2d\");\n\n        ctx.fillStyle = \"#000000\";\n        ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);\n\n        ctx.font = `${this.fontSize}px ${this.fontFamily}`;\n        ctx.textAlign = \"center\";\n        ctx.textBaseline = \"middle\";\n        ctx.fillStyle = \"#ff0000\";\n\n        this.iconinfo =  {\n            fontSize:this.fontSize,\n            img:this.canvas,\n            width:this.width,\n            height:this.height,\n            infos:{}\n        };\n\n        this.ctx = ctx;\n\n    }\n\n    createIcons(icons) {\n\n        icons = icons || this.iconsToCreate;\n\n        if(!this.fontLoaded){\n            icons.forEach(function (e) {\n                this.iconsToCreate.push(e);\n            }.bind(this));\n            return;\n        }\n\n        for (var i = 0; i < icons.length; i++) {\n            this.createIcon(icons[i]);\n        }\n        this.computeAlpha();\n\n        this.attachGl();\n\n\n        // document.body.appendChild(this.canvas);\n        // this.updateGPUTexture();\n    }\n\n    createIcon(icon){\n\n        var ctx = this.ctx,\n            c = this.canvas;\n\n        if(this.iconinfo && this.iconinfo.infos[icon]) return;\n\n        if(this.startx + this.width + this.border > c.width){\n            this.startx = this.border;\n            this.starty += this.height + this.border;\n\n            if(this.starty + this.height > c.height){\n                console.warn('icon texture no space');\n                return;\n            }\n        }\n\n\n        ctx.fillText(icon, this.startx, this.starty);\n        this.iconinfo.infos[icon] = {\n            uvs:[\n                (this.startx-this.width/2)/c.width, (this.starty - this.height/2)/c.height,\n                (this.startx + this.width/2)/c.width, (this.starty + this.height/2)/c.height,\n            ],\n            width:this.width/this.width\n        };\n\n        this.icons.push(icon);\n\n        this.startx += this.width + this.border;\n    }\n\n\n    computeAlpha() {\n\n        var ctx = this.ctx;\n\n        var imgData = ctx.getImageData(0, 0, ctx.canvas.width, ctx.canvas.height);\n        for (var i = 0; i < imgData.data.length; i += 4) {\n            imgData.data[i + 3] = imgData.data[i];\n        }\n        ctx.putImageData(imgData,0,0);\n    }\n\n    attachGl(){\n\n        var gl = this.gl;\n\n        gl.activeTexture(gl.TEXTURE0+this.unit);\n        this.createTexture(this.icons.length == 0);\n        gl.bindTexture(gl.TEXTURE_2D,this.texture);\n    }\n\n    addIcons(icons){\n        var char;\n        var map = {};\n        for(var i = 0,len = icons.length;i< len;i++){\n            char = icons[i];\n            if(!this.iconinfo.infos[char] && !map[char]){\n                if(this.fontLoaded){\n                    this.createIcon(char);\n                }else {\n                    this.iconsToCreate.push(char);\n                }\n                map[char] = true;\n            }\n        }\n        this.updateGPUTexture();\n    }\n\n    createTexture(empty){\n\n        var gl = this.gl;\n\n        if(!this.texture) this.texture = gl.createTexture();\n\n        gl.activeTexture(gl.TEXTURE0+ this.unit);\n        gl.bindTexture(gl.TEXTURE_2D, this.texture);\n\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\n\n        if(empty)gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, 4, 4, 0, gl.RGBA, gl.UNSIGNED_BYTE, null);\n        else gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, this.iconinfo.img);\n    }\n\n    clear(){\n        this.startx =this.border+this.width/2;\n        this.starty =this.border+this.height/2;\n        this.icons = [];\n        this.iconsToCreate = [];\n        this.iconinfo.infos = {};\n\n        var ctx = this.ctx;\n        ctx.save();\n        ctx.fillStyle = \"#000000\";\n        ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);\n        ctx.restore();\n    }\n\n    destroy(){\n\n        if(this.texture) this.gl.deleteTexture(this.texture);\n\n        this.ctx = null;\n        this.gl = null;\n        this.canvas = null;\n        this.iconinfo = null;\n        this.icons = [];\n        this.iconsToCreate = [];\n        this.texture  = null;\n\n    }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/render/webgl/TextureIcon.js","'use strict';\n\nimport EventEmitter from '../../base/EventEmitter'\n\nexport  default  class  TextureLoader extends EventEmitter {\n    constructor(){\n        super();\n        this.cache = {};\n        this.textures = [];\n        // this.defaultTexture = this.createTexture();\n        this.texturesIndex = [0,1,2,3,4,5,6,7,8,9];\n        // this.updateGPUTexture();\n    }\n\n    loadImgs(urls){\n        if(Array.isArray(urls)){\n            urls.forEach(function (url) {\n                this._load(url);\n            }.bind(this));\n        }else {\n            this._load(urls);\n        }\n    }\n\n    _load(url){\n        if(!this.cache[url]){\n            var image = document.createElement('IMG');\n            // image.setAttribute('crossOrigin', imgCrossOrigin);\n            image.src = url;\n            image.onload = function() {\n                var tx = this.createTexture(image);\n                this.cache[url] = this.textures.length;//index\n                this.textures.push(tx);\n                this.updateGPUTexture();\n                this.emit('load',[url]);\n            }.bind(this);\n        }\n    }\n\n    attachGl(gl){\n        this.defaultTexture = this.createTexture(gl);\n        this.texturesIndex.forEach(function (e) {\n            gl.activeTexture(gl['TEXTURE'+e]);\n            if(e > this.textures.length - 1){\n                gl.bindTexture(gl.TEXTURE_2D, this.defaultTexture);\n            }else {\n                gl.bindTexture(gl.TEXTURE_2D, this.textures[e]);\n            }\n        }.bind(this));\n    }\n\n    createTexture(gl,img){\n        var texture = gl.createTexture();\n        gl.activeTexture(gl.TEXTURE0);\n        gl.bindTexture(gl.TEXTURE_2D, texture);\n\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n\n        if(img)gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, img);\n        else gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, 2, 2, 0, gl.RGBA, gl.UNSIGNED_BYTE, null);\n\n        return texture;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/render/webgl/TextureLoader.js","\n\nimport EventEmitter from '../../base/EventEmitter'\nimport TextSDF from './TextSDF'\n\nexport default class TextureText extends EventEmitter{\n    constructor(config,gl,unit){\n        super();\n\n        this.border = 2;\n\n        this.gl = gl;\n\n        this.unit = unit || 1;\n        this.fontSize = 48;\n        this.fontFamily = config.textureTextFontFamily;\n\n        this.textureTextWidth = config.textureTextWidth;\n        this.textureTextHeight = config.textureTextHeight;\n\n        this.canvas = null;\n        this.textinfo = null;\n        this.texture = null;\n\n        this.startx = this.border;\n        this.starty = this.border;\n\n        this.texts = [];\n\n        this.sdf = new TextSDF(this.fontSize, this.fontSize/8, this.fontSize/3,null,this.fontFamily);\n\n        this.init();\n\n        // test();\n    }\n\n    init(){\n        this.canvas = document.createElement('canvas');\n        this.ctx = this.canvas.getContext(\"2d\");\n        this.resize(this.textureTextWidth,this.textureTextHeight);\n    }\n\n    resize(width,height){\n        var ctx = this.ctx;\n        this.canvas.width = width;\n        this.canvas.height = height;\n\n        ctx.fillStyle = \"#000000\";\n        ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);\n\n        ctx.font = `bold ${this.fontSize}px ${this.fontFamily}`;\n        ctx.textAlign = \"left\";\n        ctx.textBaseline = \"top\";\n        ctx.fillStyle = \"#ff0000\";\n\n        this.textinfo =  {\n            fontSize:this.fontSize,\n            img:this.canvas,\n            width:this.canvas.width,\n            height:this.canvas.height,\n            infos:{}\n        };\n\n        this.startx = this.border;\n        this.starty = this.border;\n\n        this.texts = [];\n    }\n\n    needResize(num){\n        var width = this.canvas.width;\n        var height = this.canvas.height;\n\n        var size = this.sdf.size + 2;\n\n        //leave column of no use in y\n        var leaveNumY = Math.floor((height - this.starty - size - this.border) / size);\n        //num of char in a row\n        var numN = Math.floor((width - 2*this.border) / size);\n        // total num\n        var leaveNum = leaveNumY * numN /*+ (width - this.startx - this.border) / this.sdf.size*/;\n\n        return  leaveNum <= num;\n    }\n\n    getSize(totalN){\n        var width = this.canvas.width;\n        var height = this.canvas.height;\n        var numY,numN,totalNum;\n        var size = this.sdf.size + 2;\n\n        do{\n            if(width <= height)width *= 2;\n            else height *= 2;\n\n            numY = Math.floor((height - 2 * this.border) / size);\n            numN = Math.floor((width - 2*this.border) / size);\n            totalNum = numY * numN;\n        }while (totalNum < totalN);\n\n        return {width:width,height:height};\n\n    }\n\n    addTexts(texts) {\n\n        if(!texts || texts.length < 1) return;\n\n        var oldTexts,resizeInfo;\n        if(this.needResize(texts.length)){\n            oldTexts = this.texts;\n// debugger\n            resizeInfo = this.getSize(texts.length + this.texts.length);\n            this.resize(resizeInfo.width,resizeInfo.height);\n\n            texts.forEach(e => oldTexts.push(e));\n\n            texts = oldTexts;\n\n        }\n\n\n        var c = this.canvas;\n        var ctx = this.ctx;\n\n        var startx =this.startx;\n        var starty =this.starty;\n        var infos = this.textinfo.infos, charWidth,data;\n\n\n        for (var i = 0; i < texts.length; i++) {\n\n            if(this.textinfo && infos[texts[i]]) continue;\n\n            data = this.sdf.draw(texts[i]);\n            charWidth = data.charWidth;\n\n            if(startx + charWidth > c.width){\n                startx = this.border;\n                starty += this.sdf.size;\n                if((starty + this.sdf.size) > this.canvas.height) console.error('texture text height err')\n            }\n\n            ctx.putImageData(data.data, startx, starty,0,0,charWidth,this.sdf.size);\n\n            infos[texts[i]] = {\n                uvs:[\n                    startx/c.width, starty/c.height,\n                    (startx + charWidth)/c.width, (starty + this.sdf.size)/c.height,\n                ],\n                width:charWidth/this.sdf.size\n            };\n\n            this.texts.push(texts[i]);\n\n            startx += charWidth;\n        }\n\n        this.startx = startx;\n        this.starty = starty;\n\n        // document.body.appendChild(c);\n        // c.style.position = 'absolute';\n        // c.style.top = '100px';\n\n        this.attachGl();\n\n    }\n\n    attachGl(){\n        var gl = this.gl;\n\n        gl.activeTexture(gl.TEXTURE0+this.unit);\n        this.createTexture();\n        gl.bindTexture(gl.TEXTURE_2D, this.texture);\n    }\n\n    createTexture(){\n        var gl = this.gl;\n\n        if(!this.texture) this.texture = gl.createTexture();\n\n        gl.activeTexture(gl.TEXTURE0+this.unit);\n        gl.bindTexture(gl.TEXTURE_2D, this.texture);\n\n        //NEAREST LINEAR\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\n\n        gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, this.textinfo.img);\n    }\n\n    clear(){\n        this.resize(this.canvas.width,this.canvas.height);\n    }\n\n    destroy(){\n\n        if(this.texture) this.gl.deleteTexture(this.texture);\n\n\n        this.canvas = null;\n        this.textinfo = null;\n        this.texture = null;\n        this.gl = null;\n        this.texts = [];\n\n        this.sdf.clearCache();\n\n        this.sdf =null;\n\n\n    }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/render/webgl/TextureText.js","'use strict';\n\nimport util from '../../../util'\nimport {\n    loadShader,loadProgram,\n    vertexAttribPointer,\n    setUniforms\n} from '../../../base/GLUtil'\n\n\nimport vert from './vert.glsl'\nimport frag from './frag.glsl'\n\n\n\nfunction renderLayerData({data,cacheIndex,gl,layers,renderLayerMap}) {\n\n    var temp,program,startPoint;\n    var layerIndexMap = {};\n    var _this = this;\n\n    data.forEach(function (e) {\n        if(e.filter) return;\n        layers.forEach(function (layer) {\n            if(!cacheIndex[e.id][layer] || !cacheIndex[e.id][layer].data || !renderLayerMap[layer].enable || !renderLayerMap[layer].show) return;\n\n            layerIndexMap[layer] = layerIndexMap[layer] || [];\n            temp = cacheIndex[e.id][layer].data.indices;\n\n            startPoint = cacheIndex[e.id][layer].vertexStart;\n\n            temp && temp.forEach(function (index) {\n                layerIndexMap[layer].push(index+startPoint);\n            });\n        });\n    });\n\n    layers.forEach(function (layer) {\n        if (!layerIndexMap[layer] || layerIndexMap[layer].length == 0) return;\n\n        program = renderLayerMap[layer].program;\n\n        gl.useProgram(program);\n\n        gl.bindBuffer(gl.ARRAY_BUFFER, program.vertexBuffer);\n        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, _this.indexBuffer);\n\n        vertexAttribPointer(gl, program.activeAttributes, program.offsetConfig);\n        setUniforms(gl, program.activeUniforms,program.uniforms);\n\n        gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, new Uint32Array(layerIndexMap[layer]), gl.STATIC_DRAW);\n        gl.drawElements(gl.TRIANGLES, layerIndexMap[layer].length, gl.UNSIGNED_INT, 0);\n\n    });\n}\nfunction renderBg(gl,grayBg,option) {\n    var color = util.parseColor(option.bgColor || 'rgba(255,255,255,0.8)');\n    gl.useProgram(grayBg.program);\n\n    gl.bindBuffer(gl.ARRAY_BUFFER, grayBg.vertexBuffer);\n    gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, grayBg.indexBuffer);\n\n    gl.vertexAttribPointer(\n        grayBg.positionLocation,\n        2,\n        gl.FLOAT, false, 0,0\n    );\n    gl.enableVertexAttribArray(grayBg.positionLocation);\n\n    gl.uniform4f(grayBg.bgLocation,color.r,color.g,color.b,color.a);\n\n    gl.drawElements(gl.TRIANGLES, 6, gl.UNSIGNED_INT, 0);\n}\n\nexport default  function nodeOverCustom(render,option) {\n    var renderLayerMap = render.renderLayerMap;\n    var gl = render.gl;\n\n    option = option || {};\n\n    if(!this.indexBuffer) this.indexBuffer = gl.createBuffer();\n\n    if(!this.grayBg){\n        this.grayBg = {};\n        this.grayBg.program = loadProgram(gl, [\n            loadShader(gl, vert, gl.VERTEX_SHADER),\n            loadShader(gl, frag, gl.FRAGMENT_SHADER)\n        ]);\n        this.grayBg.vertexBuffer = gl.createBuffer();\n        this.grayBg.indexBuffer = gl.createBuffer();\n\n        this.grayBg.positionLocation = gl.getAttribLocation(this.grayBg.program, 'a_position');\n        this.grayBg.bgLocation = gl.getUniformLocation(this.grayBg.program, 'u_bg_color');\n\n        gl.bindBuffer(gl.ARRAY_BUFFER, this.grayBg.vertexBuffer);\n        gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([-1,-1,-1,1,1,-1,1,1]), gl.STATIC_DRAW);\n\n        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.grayBg.indexBuffer);\n        gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, new Int32Array([0,1,2,1,2,3]), gl.STATIC_DRAW);\n\n    }\n\n    var edgesid,selectedNodes;\n    var overNode = render.context.overInfo.currentNode;\n    var overNodes = [] ,overEdges = [];\n    var graph = render.context.graph;\n\n    selectedNodes = render.context.selection.getNodes();\n\n    if(overNode && !(option && option.over === false)){\n\n        if(edgesid = graph.inEdgesIndex[overNode.id]){\n            edgesid.forEach(function (id) {\n                overEdges.push(graph.edgesIndex[id]);\n                overNodes.push(graph.nodesIndex[graph.edgesIndex[id].source]);\n            });\n        }\n\n        if(edgesid = graph.outEdgesIndex[overNode.id]){\n            edgesid.forEach(function (id) {\n                overEdges.push(graph.edgesIndex[id]);\n                overNodes.push(graph.nodesIndex[graph.edgesIndex[id].target]);\n            });\n        }\n\n        overNodes.push(overNode);\n\n        //draw gray background\n        renderBg(gl,this.grayBg,option);\n\n        if(overEdges.length){\n            renderLayerData.call(this,{\n                data:overEdges,\n                cacheIndex:render.renderCache.edge.index,\n                gl,\n                layers:['edge','edgeCurve','edgeLabel','edgeCurveLabel'],\n                renderLayerMap\n            });\n        }\n\n        renderLayerData.call(this,{\n            data:overNodes,\n            cacheIndex:render.renderCache.node.index,\n            gl,\n            layers:['node','rectNode'],\n            renderLayerMap\n        });\n\n        if(selectedNodes.length){\n            renderLayerData.call(this,{\n                data:selectedNodes,\n                cacheIndex:render.renderCache.node.index,\n                gl,\n                layers:['node','rectNode'],\n                renderLayerMap\n            });\n\n        }\n\n        renderLayerData.call(this,{\n            data:overNodes,\n            cacheIndex:render.renderCache.node.index,\n            gl,\n            layers:['nodeLabel'],\n            renderLayerMap\n        });\n\n    }else {\n        if(selectedNodes.length){\n            renderLayerData.call(this,{\n                data:selectedNodes,\n                cacheIndex:render.renderCache.node.index,\n                gl,\n                layers:['node','rectNode'],\n                renderLayerMap\n            });\n\n        }\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/render/webgl/defaultConfig/customOverRender.js","\nimport nodeOverCustom from './customOverRender'\n\nfunction layerCheckDefault() {\n    return function (data) {\n        return !data.type || data.type == 'default';\n    }\n}\nfunction layerCheck(type) {\n    return function (data) {\n        return data.type == type;\n    }\n}\n\nfunction edgeCount(count,not) {\n    return　function (data) {\n        var check = (!data.type || data.type == 'default') && data.curveCount == count;\n        return not ? !check : check;\n    }\n}\n\nexport default function (WebGLRender) {\n    WebGLRender.defaultLayersConfig = [\n        {\n            name:'base',\n            subLayers:[\n                {name:'nodeLabel',context:'node',render:WebGLRender.nodeLabel.default},\n                {name:'edge',context:'edge',render:WebGLRender.edge.default,check:edgeCount(0)},\n                {name:'edgeCurve',context:'edge',render:WebGLRender.edge.curve,check:edgeCount(0,true)},\n\n                {name:'edgeLabel',context:'edge',render:WebGLRender.edgeLabel.default,check:edgeCount(0)},\n                {name:'edgeCurveLabel',context:'edge',render:WebGLRender.edgeLabel.curve,check:edgeCount(0,true)},\n\n                {name:'node',context:'node',render:WebGLRender.node.default,check:layerCheckDefault()},\n                {name:'rectNode',context:'node',render:WebGLRender.node.rect,check:layerCheck('rect')},\n\n\n                {name:'nodeOver',custom:true,render:nodeOverCustom,option:{over:false}},\n            ]\n        },\n    ];\n};\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/render/webgl/defaultConfig/index.js","\n'use strict'\n\nimport util from '../../../../util'\n\nimport vert from './vert.glsl'\nimport frag from './frag.glsl'\n\n\n\nexport default {\n    shaderVert: vert,\n    shaderFrag: frag,\n    attributes: {\n        a_position: {components:2,start:0},\n        a_uv: {components:2,start:2},\n        a_dis: {components:1,start:4},\n        a_flag: {components:1,start:5},\n        a_color: {components:4,start:6},\n        a_dashed:{components:1,start:10},\n        a_size:{components:1,start:11},\n        a_end_ratio:{components:1,start:12},\n        a_start_ratio:{components:1,start:13},\n    },\n    getUniforms({matrix, camera, sampleRatio, textureLoader}){\n        return {\n            u_matrix:matrix,\n            u_camera_scale:camera.scale\n        }\n    },\n    getRenderData({data,config, textureLoader, textureIcon,graph}){\n        var target = graph.nodesIndex[data.target];\n        var source = graph.nodesIndex[data.source];\n\n        var defaultSize = config.defaultNodeSize;\n\n        var renderData = [];\n        var indices = [];\n\n        // var dx = target.x - source.x;\n        // var dy = target.y - source.y;\n\n        var dis = util.getDistance(source.x,source.y,target.x,target.y);\n        var tNodeW,tNodeH,sNodeW,sNodeH,targetSize,sourceSize;\n        sNodeW = util.getNodeSizeX(source) || defaultSize;\n        sNodeH = util.getNodeSizeY(source) || defaultSize;\n        tNodeW = util.getNodeSizeX(target) || defaultSize;\n        tNodeH = util.getNodeSizeY(target) || defaultSize;\n\n        if(source.type == 'rect'){\n            sourceSize = Math.sqrt(Math.pow(sNodeW,2)+Math.pow(sNodeH,2));\n        }else {\n            sourceSize = sNodeW;\n        }\n\n        if(target.type == 'rect'){\n            targetSize = Math.sqrt(Math.pow(tNodeW,2)+Math.pow(tNodeH,2));\n        }else {\n            targetSize = tNodeW;\n        }\n        \n        var size = (data.size || config.defaultEdgeSize)/2;\n        var aSize = data.arrowSize || config.defaultEdgeArrowSize;\n        var vX, vY;\n\n        // var tX = target.x - targetSize / dis * dx;\n        // var tY = target.y - targetSize / dis * dy;\n        var tX = target.x;\n        var tY = target.y;\n\n\n        var ctrlP = util.getControlPos(source.x,source.y,tX,tY,data.curveCount,data.curveOrder);\n\n        //arrow\n        var dis1 = util.getDistance(tX,tY,ctrlP[0],ctrlP[1]);\n\n        var startPosRatio = sourceSize/dis1*0.5;\n        var arrowPosRatio = (1 - (targetSize + aSize)/dis1)*0.5 + 0.5;\n\n        var arrowPos = util.getPointOnQuadraticCurve(arrowPosRatio,source.x,source.y,tX,tY,ctrlP[0],ctrlP[1]);\n        var aTangent = util.getPointTangentOnQuadraticCurve(arrowPosRatio,source.x,source.y,tX,tY,ctrlP[0],ctrlP[1]);\n\n        vX =aTangent[0]*aSize;\n        vY =aTangent[1]*aSize;\n\n        var arrowX = arrowPos[0],\n            arrowY = arrowPos[1];\n\n\n        //curve\n        var color ;\n        if(data.selected){\n            color = util.parseColor(config.defaultEdgeSelectedColor);\n        }else {\n            color = util.parseColor(data.color||source.color || config.defaultEdgeColor);\n        }\n\n        var scalePos = scaleTrangles([source.x,source.y,ctrlP[0],ctrlP[1],tX,tY]);\n        var scaleUV = scaleTrangles([1,1,0.5,0,0,0]);\n\n\n        var dashed = data.dashed ? 1:0;\n        // debugger\n        //curve\n        addData(renderData,[scalePos[0],scalePos[1],scaleUV[0],scaleUV[1],dis,0,color.r,color.g,color.b,color.a,dashed,size,arrowPosRatio,startPosRatio]);\n        addData(renderData,[scalePos[2],scalePos[3],scaleUV[2],scaleUV[3],dis,0,color.r,color.g,color.b,color.a,dashed,size,arrowPosRatio,startPosRatio]);\n        addData(renderData,[scalePos[4],scalePos[5],scaleUV[4],scaleUV[5],dis,0,color.r,color.g,color.b,color.a,dashed,size,arrowPosRatio,startPosRatio]);\n\n        addIndices(indices,[0,1,2]);\n\n        //arrow\n        addData(renderData,[arrowX+vX,arrowY+vY,0,0,0,1,color.r,color.g,color.b,color.a,dashed,size,arrowPosRatio,startPosRatio]);\n        addData(renderData,[arrowX + vY * 0.6,arrowY - vX * 0.6,0,0,0,1,color.r,color.g,color.b,color.a,dashed,size,arrowPosRatio,startPosRatio]);\n        addData(renderData,[arrowX - vY * 0.6,arrowY + vX * 0.6,0,0,0,1,color.r,color.g,color.b,color.a,dashed,size,arrowPosRatio,startPosRatio]);\n\n        addIndices(indices,[3,4,5]);\n\n        return {\n            vertices:renderData,\n            indices:indices,\n        };\n    }\n\n}\n\nfunction addData(arr,attrData) {\n    for(var i = 0;i< attrData.length;i++){\n        arr.push(attrData[i]);\n    }\n}\n\nfunction addIndices(indices,attrIndex) {\n    attrIndex.forEach(function (data) {\n        indices.push(data);\n    });\n}\n\n\nfunction scaleTrangles(points, scale) {\n    scale = scale || 1.4;\n    var p1_x = points[0],\n        p1_y = points[1],\n        p2_x = points[2],\n        p2_y = points[3],\n        p3_x = points[4],\n        p3_y = points[5];\n\n    var avg_x = (p1_x + p2_x + p3_x) / 3,\n        avg_y = (p1_y + p2_y + p3_y) / 3;\n\n    var p1_x_new = avg_x + (p1_x - avg_x) * scale,\n        p1_y_new = avg_y + (p1_y - avg_y) * scale,\n        p2_x_new = avg_x + (p2_x - avg_x) * scale,\n        p2_y_new = avg_y + (p2_y - avg_y) * scale,\n        p3_x_new = avg_x + (p3_x - avg_x) * scale,\n        p3_y_new = avg_y + (p3_y - avg_y) * scale;\n\n    return [p1_x_new, p1_y_new, p2_x_new, p2_y_new, p3_x_new, p3_y_new];\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/render/webgl/edge/curve/render.js","/**\n * Created by chengang on 17-3-31.\n */\n\nimport util from '../../../util'\n\nimport edgeVert from './glsl/default-vert.glsl'\nimport edgeFrag from './glsl/default-frag.glsl'\n\n\nexport default {\n    shaderVert: edgeVert,\n    shaderFrag: edgeFrag,\n    attributes: {\n        a_position: {components:2,start:0},\n        a_normal:{components:2,start:2},\n        a_size: {components:1,start:4},\n        a_color: {components:4,start:5},\n        a_dis: {components:1,start:9},\n        a_dashed: {components:1,start:10},\n        a_flag: {components:1,start:11},\n        a_u: {components:1,start:12},\n    },\n    renderBefore(render,option){\n        var gl = render.gl;\n\n\n        // gl.clearDepth(1.0);\n        // gl.clear(gl.DEPTH_BUFFER_BIT);\n        // //\n        // gl.enable(gl.DEPTH_TEST);\n        // gl.depthFunc(gl.LESS);\n        //\n        // gl.enable(gl.BLEND);\n        // gl.blendFunc(gl.ONE, gl.ONE_MINUS_SRC_ALPHA);\n\n    },\n    getUniforms({matrix, camera, sampleRatio, textureLoader}){\n        return {\n            u_matrix:matrix\n        }\n    },\n    getRenderData({data,config, textureLoader, textureIcon,graph}){\n        var target = graph.nodesIndex[data.target];\n        var source = graph.nodesIndex[data.source];\n        var dx = target.x - source.x;\n        var dy = target.y - source.y;\n        var norV = util.normalize([dx,dy]);\n        var dashed = data.dashed ? 1:0;\n\n\n        var defaultSize = config.defaultNodeSize;\n\n        var size = (data.size || config.defaultEdgeSize)/2,\n            arrowSize = data.arrowSize || config.defaultEdgeArrowSize;\n        var crossVector = util.normalize([-dy,dx]);\n\n        //arrow\n        var tNodeW,tNodeH,sNodeW,sNodeH,targetSize,sourceSize;\n        sNodeW = util.getNodeSizeX(source) || defaultSize;\n        sNodeH = util.getNodeSizeY(source) || defaultSize;\n        tNodeW = util.getNodeSizeX(target) || defaultSize;\n        tNodeH = util.getNodeSizeY(target) || defaultSize;\n\n        if(source.type == 'rect'){\n            sourceSize = Math.sqrt(Math.pow(sNodeW,2)+Math.pow(sNodeH,2));\n        }else {\n            sourceSize = sNodeW;\n        }\n\n        if(target.type == 'rect'){\n            targetSize = Math.sqrt(Math.pow(tNodeW,2)+Math.pow(tNodeH,2));\n        }else {\n            targetSize = tNodeW;\n        }\n\n        var dis = util.getDistance(source.x,source.y,target.x,target.y);\n        var arrowX = target.x - (targetSize + arrowSize)/dis * dx;\n        var arrowY = target.y - (targetSize + arrowSize)/dis * dy;\n\n        var color ;\n        if(data.selected){\n            color = util.parseColor(config.defaultEdgeSelectedColor);\n        }else {\n            color = util.parseColor(data.color||source.color || config.defaultEdgeColor);\n        }\n\n\n        var renderData = [];\n        var indices = [];\n\n        addData(renderData,[source.x+norV[0]*sourceSize,source.y+norV[1]*sourceSize,crossVector[0],crossVector[1],size,color.r,color.g,color.b,color.a,dis,dashed,0,0]);\n        addData(renderData,[source.x+norV[0]*sourceSize,source.y+norV[1]*sourceSize,-crossVector[0],-crossVector[1],size,color.r,color.g,color.b,color.a,dis,dashed,0,0]);\n        addData(renderData,[arrowX,arrowY,crossVector[0],crossVector[1],size,color.r,color.g,color.b,color.a,dis,dashed,0,1]);\n        addData(renderData,[arrowX,arrowY,-crossVector[0],-crossVector[1],size,color.r,color.g,color.b,color.a,dis,dashed,0,1]);\n\n        addIndices(indices,[0,1,2,1,2,3]);\n        //arrow\n        addData(renderData,[arrowX,arrowY,crossVector[0],crossVector[1],arrowSize/2,color.r,color.g,color.b,color.a,dis,dashed,1,0]);\n        addData(renderData,[arrowX,arrowY,-crossVector[0],-crossVector[1],arrowSize/2,color.r,color.g,color.b,color.a,dis,dashed,1,0]);\n        addData(renderData,[arrowX,arrowY,arrowSize/dis * dx,arrowSize/dis * dy,1,color.r,color.g,color.b,color.a,dis,dashed,1,0]);\n\n        addIndices(indices,[4,5,6]);\n\n        return {\n            vertices:renderData,\n            indices:indices,\n        };\n    }\n\n}\n\nfunction addData(arr,attrData) {\n    for(var i = 0;i< attrData.length;i++){\n        arr.push(attrData[i]);\n    }\n}\n\nfunction addIndices(indices,attrIndex) {\n    attrIndex.forEach(function (data) {\n        indices.push(data);\n    });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/render/webgl/edge/render.js","/**\n * Created by chengang on 17-4-7.\n */\n\nimport util from '../../../util'\nimport mat3 from '../../../base/Matrix'\n\nimport vert from './glsl/edge-label-vert.glsl'\nimport frag from './glsl/edge-label-frag.glsl'\n\n\nexport default {\n    shaderVert: vert,\n    shaderFrag: frag,\n    attributes: {\n        a_position: {components:2,start:0},\n        a_uv:{components:2,start:2},\n        a_size: {components:1,start:4},\n        a_color: {components:4,start:5}\n    },\n    getUniforms({matrix, camera,config, sampleRatio, textureLoader,textureText}){\n        var color = util.parseColor(config.defaultTextBgColor);\n        return {\n            u_matrix:matrix,\n            u_camera_scale:camera.scale,\n            u_image:textureText.unit,\n            u_text_bg:[color.r, color.g, color.b, color.a],\n        }\n    },\n    getRenderData({data,config, textureLoader, textureIcon,textureText,graph}){\n        var target = graph.nodesIndex[data.target];\n        var source = graph.nodesIndex[data.source];\n\n        if(!data.label) return null;\n\n        var defaultSize = config.defaultNodeSize;\n        var labelColor = util.parseColor(data.labelColor || config.defaultEdgeLabelColor);\n\n        // debugger\n        var str = data.label.split('');\n\n        var renderData = [];\n        var indices = [];\n\n        var ratio  = 0.33;\n        var size = data.fontSize ||  Math.max(util.getNodeSizeX(source) || defaultSize,util.getNodeSizeY(source) || defaultSize)*ratio;\n        var infos = textureText.textinfo.infos,\n            charWidth = size,\n            charHeight = size,\n            char,uv,width;\n\n        var totalWidht = 0;\n        for(var i = 0;i< str.length;i++) {\n            char = str[i];\n            if (!infos[char]) {\n                continue;\n            }\n            totalWidht +=infos[char].width * charWidth\n        }\n\n        var dx = target.x - source.x;\n        var dy = target.y - source.y;\n\n        var angle = util.getAngle(1,0,dx,dy);\n\n        angle = dy < 0 ? Math.PI-angle:angle;\n        angle = angle > Math.PI/2 ? angle + Math.PI: angle;\n\n        var centerX = (source.x + target.x)/2, centerY = (source.y + target.y)/2;\n        var startx = totalWidht/2 * -1;\n        var starty =  charHeight/2;\n        var x1,y1,x2,y2;\n\n\n        var points = 0;\n        for(var i = 0;i< str.length;i++){\n            char = str[i];\n            if(!infos[char]){\n                console.log('no text texture info');\n                continue;\n            }\n\n            width = infos[char].width * charWidth;\n            uv = infos[char].uvs;\n            x1 = uv[0],y1 = uv[1],x2 = uv[2],y2 = uv[3];\n\n            addData(renderData,[startx,starty,x1,y1,width,labelColor.r,labelColor.g,labelColor.b,labelColor.a],centerX,centerY,angle);\n            addData(renderData,[startx,starty-charHeight,x1,y2,width,labelColor.r,labelColor.g,labelColor.b,labelColor.a],centerX,centerY,angle);\n            addData(renderData,[startx+width,starty,x2,y1,width,labelColor.r,labelColor.g,labelColor.b,labelColor.a],centerX,centerY,angle);\n            addData(renderData,[startx+width,starty-charHeight,x2,y2,width,labelColor.r,labelColor.g,labelColor.b,labelColor.a],centerX,centerY,angle);\n\n            addIndices(indices,[\n                points+0,points+1,points+2,\n                points+1,points+2,points+3\n            ]);\n\n            startx += width*7/8;\n            points += 4;\n        }\n\n        return {\n            vertices:renderData,\n            indices:indices,\n        };\n    }\n\n}\n\nfunction addData(arr,attrData,centerX,centerY,angle) {\n    var rotate = mat3.transformPoint([attrData[0],attrData[1]],mat3.matrixFromRotation(angle));\n    attrData[0] = rotate[0] + centerX;\n    attrData[1] = rotate[1] + centerY;\n    for(var i = 0;i< attrData.length;i++){\n        arr.push(attrData[i]);\n    }\n}\n\n\nfunction addIndices(indices,attrIndex) {\n    attrIndex.forEach(function (data) {\n        indices.push(data);\n    });\n}\n\n\n// WEBPACK FOOTER //\n// ./src/render/webgl/label/EdgeLabel.js","/**\n * Created by chengang on 17-4-7.\n */\nimport vert from './glsl/node-label-vert.glsl'\nimport frag from './glsl/label-frag.glsl'\nimport util from '../../../util'\n\n\nexport default {\n    shaderVert: vert,\n    shaderFrag: frag,\n    attributes: {\n        a_position: {components:2,start:0},\n        a_uv:{components:2,start:2},\n        a_size: {components:1,start:4},\n        a_color: {components:4,start:5},\n    },\n    getUniforms({matrix, camera, sampleRatio, textureLoader,textureText}){\n        return {\n            u_matrix:matrix,\n            u_camera_scale:camera.scale,\n            u_image:textureText.unit,\n        }\n    },\n    getRenderData({data,config, textureLoader, textureIcon,textureText,graph}){\n        // debugger\n        if(!data.label) return null;\n\n        var defaultSize = config.defaultNodeSize;\n        var labelColor = util.parseColor(data.labelColor || config.defaultNodeLabelColor);\n\n        var str = data.label.split('');\n\n        var renderData = [];\n        var indices = [];\n\n        var labelSizeRatio = 0.4;\n        var sizeX = util.getNodeSizeX(data) || defaultSize,sizeY = util.getNodeSizeY(data) || defaultSize;\n        var size = Math.max(sizeX,sizeY);\n        var infos = textureText.textinfo.infos,\n            charWidth = size * labelSizeRatio,\n            charHeight = size * labelSizeRatio,\n            char,uv,width;\n\n        var lines = getLines(str,20,infos,charWidth);\n\n        var x1,y1,x2,y2,startx,starty;\n        var points = 0;\n\n        lines.forEach(function (line,i) {\n            startx = line.lineWidth/2 * -1 + data.x;\n            starty = data.y - sizeY - i * charHeight * 7/8;\n            line.forEach(function (char) {\n                if(!infos[char]) return;\n\n                width = infos[char].width * charWidth;\n                uv = infos[char].uvs;\n                x1 = uv[0],y1 = uv[1],x2 = uv[2],y2 = uv[3];\n\n                addData(renderData,[startx,starty,x1,y1,width,labelColor.r,labelColor.g,labelColor.b,labelColor.a]);\n                addData(renderData,[startx,starty-charHeight,x1,y2,width,labelColor.r,labelColor.g,labelColor.b,labelColor.a]);\n                addData(renderData,[startx+width,starty,x2,y1,width,labelColor.r,labelColor.g,labelColor.b,labelColor.a]);\n                addData(renderData,[startx+width,starty-charHeight,x2,y2,width,labelColor.r,labelColor.g,labelColor.b,labelColor.a]);\n\n                addIndices(indices,[\n                    points+0,points+1,points+2,\n                    points+1,points+2,points+3\n                ]);\n\n                startx += width*7/8;\n                points += 4;\n            });\n        });\n\n        return renderData.length > 0 ? {vertices:renderData, indices:indices} : null;\n    }\n\n}\n\n\nfunction getLines(str,lineChars,infos,charWidth) {\n    var lines = [];\n    var line = [];\n    var lineWidth = 0;\n    str.forEach(function (char) {\n        if(line.length >= lineChars){\n\n            line.lineWidth = lineWidth;\n            lines.push(line);\n\n            line = [];\n            lineWidth = 0;\n        }\n\n        if (!infos[char]) return;\n\n        lineWidth +=infos[char].width * charWidth * 7/8;\n        line.push(char);\n    });\n\n    if(lineWidth > 0){\n        line.lineWidth = lineWidth;\n        lines.push(line);\n    }\n\n    return lines;\n}\n\n\nfunction addData(arr,attrData) {\n    for(var i = 0;i< attrData.length;i++){\n        arr.push(attrData[i]);\n    }\n}\n\n\nfunction addIndices(indices,attrIndex) {\n    attrIndex.forEach(function (data) {\n        indices.push(data);\n    });\n}\n\n\n// WEBPACK FOOTER //\n// ./src/render/webgl/label/NodeLabel.js","/**\n * Created by chengang on 17-4-7.\n */\n\nimport util from '../../../../util'\nimport mat3 from '../../../../base/Matrix'\n\nimport vert from './../glsl/edge-label-vert.glsl'\nimport frag from './../glsl/edge-label-frag.glsl'\n\nexport default {\n    shaderVert: vert,\n    shaderFrag: frag,\n    attributes: {\n        a_position: {components:2,start:0},\n        a_uv:{components:2,start:2},\n        a_size: {components:1,start:4},\n        a_color: {components:4,start:5},\n    },\n    getUniforms({matrix, camera,config, sampleRatio, textureLoader,textureText}){\n        var color = util.parseColor(config.defaultTextBgColor);\n        return {\n            u_matrix:matrix,\n            u_camera_scale:camera.scale,\n            u_image:textureText.unit,\n            u_text_bg:[color.r, color.g, color.b, color.a],\n        }\n    },\n    getRenderData({data,config, textureLoader, textureIcon,textureText,graph}){\n        var target = graph.nodesIndex[data.target];\n        var source = graph.nodesIndex[data.source];\n\n        if(!data.label) return null;\n\n        var defaultSize = config.defaultNodeSize;\n        var labelColor = util.parseColor(data.labelColor || config.defaultEdgeLabelColor);\n\n        // debugger\n        var str = data.label.split('');\n\n        var renderData = [];\n        var indices = [];\n\n        var ratio  = 0.33;\n        var size = data.fontSize ||  Math.max(util.getNodeSizeX(source)||defaultSize,util.getNodeSizeY(source)||defaultSize)*ratio\n        var infos = textureText.textinfo.infos,\n            charWidth = size,\n            charHeight = size,\n            char,uv,width;\n\n        var totalWidht = 0;\n        for(var i = 0;i< str.length;i++) {\n            char = str[i];\n            if (!infos[char]) {\n                console.log(1);\n                continue;\n            }\n            totalWidht +=infos[char].width * charWidth\n        }\n\n        var dx = target.x - source.x;\n        var dy = target.y - source.y;\n\n        //curve\n        var dis = util.getDistance(source.x,source.y,target.x,target.y);\n        var tSize = Math.max(util.getNodeSizeX(target),util.getNodeSizeY(target));\n\n        var tX = target.x;\n        var tY = target.y;\n\n        var ctrlP = util.getControlPos(source.x,source.y,tX,tY,data.curveCount,data.curveOrder);\n\n        var tangent = util.getPointTangentOnQuadraticCurve(0.5,source.x,source.y,tX,tY,ctrlP[0],ctrlP[1]);\n\n        dx = tangent[0],dy = tangent[1];\n\n        var angle = util.getAngle(1,0,dx,dy);\n\n\n        angle = dy < 0 ? Math.PI-angle:angle;\n        angle = angle > Math.PI/2 ? angle + Math.PI: angle;\n\n        var center = util.getPointOnQuadraticCurve(0.5,source.x,source.y,tX,tY,ctrlP[0],ctrlP[1]);\n\n\n        var centerX = center[0], centerY = center[1];\n        var startx = totalWidht/2 * -1;\n        var starty =  charHeight/2;\n        var x1,y1,x2,y2;\n\n\n        var points = 0;\n        for(var i = 0;i< str.length;i++){\n            char = str[i];\n            if(!infos[char]){\n                console.log('no text texture info');\n                continue;\n            }\n\n            width = infos[char].width * charWidth;\n            uv = infos[char].uvs;\n            x1 = uv[0],y1 = uv[1],x2 = uv[2],y2 = uv[3];\n\n            addData(renderData,[startx,starty,x1,y1,width,labelColor.r,labelColor.g,labelColor.b,labelColor.a],centerX,centerY,angle);\n            addData(renderData,[startx,starty-charHeight,x1,y2,width,labelColor.r,labelColor.g,labelColor.b,labelColor.a],centerX,centerY,angle);\n            addData(renderData,[startx+width,starty,x2,y1,width,labelColor.r,labelColor.g,labelColor.b,labelColor.a],centerX,centerY,angle);\n            addData(renderData,[startx+width,starty-charHeight,x2,y2,width,labelColor.r,labelColor.g,labelColor.b,labelColor.a],centerX,centerY,angle);\n\n            addIndices(indices,[\n                points+0,points+1,points+2,\n                points+1,points+2,points+3\n            ]);\n\n            startx += width*7/8;\n            points += 4;\n        }\n        \n        return {\n            vertices:renderData,\n            indices:indices,\n        };\n    }\n\n}\n\nfunction addData(arr,attrData,centerX,centerY,angle) {\n    var rotate = mat3.transformPoint([attrData[0],attrData[1]],mat3.matrixFromRotation(angle));\n    attrData[0] = rotate[0] + centerX;\n    attrData[1] = rotate[1] + centerY;\n    for(var i = 0;i< attrData.length;i++){\n        arr.push(attrData[i]);\n    }\n}\n\n\nfunction addIndices(indices,attrIndex) {\n    attrIndex.forEach(function (data) {\n        indices.push(data);\n    });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/render/webgl/label/curveLabel/render.js","/**\n * Created by chengang on 17-3-28.\n */\n\nimport utils from '../../../../util'\nimport nodeVert from './default-vert.glsl'\nimport nodeFrag from './default-frag.glsl'\n\nexport default {\n    shaderVert: nodeVert,\n    shaderFrag: nodeFrag,\n    attributes: {\n        a_position: {components:2,start:0},\n        a_color: {components:4,start:2},\n        a_uv:{components:2,start:6},\n        a_selected: {components:1,start:8},\n        a_flag: {components:1,start:9},\n        a_size: {components:1,start:10},\n        a_showicon: {components:1,start:11},\n        a_center: {components:2,start:12},\n        a_icon_color: {components:4,start:14},\n    },\n    getUniforms({matrix, camera,config, sampleRatio, textureLoader,textureIcon}){\n        var color = utils.parseColor(config.defaultNodeSelectedBorder);\n        return {\n            u_matrix:matrix,\n            u_camera_scale:camera.scale,\n            // u_textures:textureLoader.texturesIndex,\n            u_borderColor: [color.r, color.g, color.b, color.a],\n            u_sample_ratio:sampleRatio,\n            u_icons_texture:textureIcon.unit,\n        }\n    },\n    getRenderData({data,config, textureIcon,oldData,dirtyAttr}){\n        //reuse old data\n        if(oldData && dirtyAttr\n            && Object.keys(dirtyAttr).length == 2\n            && dirtyAttr.hasOwnProperty('x')\n            && dirtyAttr.hasOwnProperty('y')\n        ){\n            // debugger\n            var offset = 18;\n            var oldVertices = oldData.vertices;\n            for(var i = 0;i< oldVertices.length;i+=offset){\n                oldVertices[i+12] = data.x;//x\n                oldVertices[i+13] = data.y;//y\n            }\n            return {\n                vertices:oldVertices,\n                indices:oldData.indices\n            };\n        }\n\n        /**\n         * width height selected color iconOrImg uv center\n         */\n\n        //init data\n        data.size = data.size || config.defaultNodeSize;\n\n        var isSelected = data.selected ? 1.0 : 0.0;//selected flag\n        var color = utils.parseColor(data.color || config.defaultNodeColor);//node color\n\n        var iColor = utils.parseColor(data.iconColor || config.defaultNodeIconColor);//icon color\n        var hasIcon = data.icon && textureIcon.iconinfo.infos[data.icon], uvs;\n\n        uvs = hasIcon ? textureIcon.iconinfo.infos[data.icon].uvs : [0,0];\n        hasIcon = hasIcon ? 1:0;\n\n        var vertices = [];\n        var indices = [];\n\n        var points = 0;\n        var bgScale = 1.35;\n\n        // debugger\n\n        //background\n        addData(vertices,[-1*data.size*bgScale,+1*data.size*bgScale,color.r,color.g,color.b,color.a,0,0,isSelected,0,data.size,hasIcon,data.x,data.y,iColor.r,iColor.g,iColor.b,iColor.a]);\n        addData(vertices,[+1*data.size*bgScale,+1*data.size*bgScale,color.r,color.g,color.b,color.a,1,0,isSelected,0,data.size,hasIcon,data.x,data.y,iColor.r,iColor.g,iColor.b,iColor.a]);\n        addData(vertices,[-1*data.size*bgScale,-1*data.size*bgScale,color.r,color.g,color.b,color.a,0,1,isSelected,0,data.size,hasIcon,data.x,data.y,iColor.r,iColor.g,iColor.b,iColor.a]);\n        addData(vertices,[+1*data.size*bgScale,-1*data.size*bgScale,color.r,color.g,color.b,color.a,1,1,isSelected,0,data.size,hasIcon,data.x,data.y,iColor.r,iColor.g,iColor.b,iColor.a]);\n\n        addIndices(indices,[\n            points+0,points+1,points+2,\n            points+1,points+2,points+3\n        ]);\n        points += 4;\n\n\n        //base\n        addData(vertices,[-1*data.size,+1*data.size,color.r,color.g,color.b,color.a,0,0,isSelected,1,data.size,hasIcon,data.x,data.y,iColor.r,iColor.g,iColor.b,iColor.a]);\n        addData(vertices,[+1*data.size,+1*data.size,color.r,color.g,color.b,color.a,1,0,isSelected,1,data.size,hasIcon,data.x,data.y,iColor.r,iColor.g,iColor.b,iColor.a]);\n        addData(vertices,[-1*data.size,-1*data.size,color.r,color.g,color.b,color.a,0,1,isSelected,1,data.size,hasIcon,data.x,data.y,iColor.r,iColor.g,iColor.b,iColor.a]);\n        addData(vertices,[+1*data.size,-1*data.size,color.r,color.g,color.b,color.a,1,1,isSelected,1,data.size,hasIcon,data.x,data.y,iColor.r,iColor.g,iColor.b,iColor.a]);\n\n        addIndices(indices,[\n            points+0,points+1,points+2,\n            points+1,points+2,points+3\n        ]);\n        points += 4;\n\n        //icon\n        var iconInfo = data.icon ? getIconInfo(data) : {left:-1*data.size,top:data.size,right:data.size,bottom:-1*data.size};\n        addData(vertices,[iconInfo.left,iconInfo.top,color.r,color.g,color.b,color.a,uvs[0],uvs[1],isSelected,2,data.size,hasIcon,data.x,data.y,iColor.r,iColor.g,iColor.b,iColor.a]);\n        addData(vertices,[iconInfo.right,iconInfo.top,color.r,color.g,color.b,color.a,uvs[2],uvs[1],isSelected,2,data.size,hasIcon,data.x,data.y,iColor.r,iColor.g,iColor.b,iColor.a]);\n        addData(vertices,[iconInfo.left,iconInfo.bottom,color.r,color.g,color.b,color.a,uvs[0],uvs[3],isSelected,2,data.size,hasIcon,data.x,data.y,iColor.r,iColor.g,iColor.b,iColor.a]);\n        addData(vertices,[iconInfo.right,iconInfo.bottom,color.r,color.g,color.b,color.a,uvs[2],uvs[3],isSelected,2,data.size,hasIcon,data.x,data.y,iColor.r,iColor.g,iColor.b,iColor.a]);\n\n        addIndices(indices,[\n            points+0,points+1,points+2,\n            points+1,points+2,points+3\n        ]);\n        points += 4;\n\n        \n        \n        return {\n            vertices:vertices,\n            indices:indices,\n        };\n    }\n\n}\n\nfunction addData(vertices,attrData) {\n    attrData.forEach(function (data) {\n        vertices.push(data);\n    });\n}\n\nfunction addIndices(indices,attrIndex) {\n    attrIndex.forEach(function (data) {\n        indices.push(data);\n    });\n}\n\nfunction getIconInfo(data) {\n    var icon = data.icon;\n    var defaultConfig = {content:'',offsetX:0,offsetY:0,scale:0.65};\n    icon = utils.isString(icon) ? utils.extend({content:icon},defaultConfig) : utils.extend(icon,defaultConfig);\n\n    var size = data.size;\n\n    return {\n        left: size * -1 * icon.scale + icon.offsetX,\n        right: size * icon.scale + icon.offsetX,\n        top: size  * icon.scale + icon.offsetY,\n        bottom: size * -1 * icon.scale + icon.offsetY,\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/render/webgl/node/default/render.js","/**\n * Created by chengang on 17-3-28.\n */\n\nimport utils from '../../../../util'\nimport vert from './vert.glsl'\nimport frag from './frag.glsl'\n\n\nexport default {\n    shaderVert: vert,\n    shaderFrag: frag,\n    attributes: {\n        a_position: {components: 2, start: 0},\n        a_color: {components: 4, start: 2},\n        a_uv: {components: 2, start: 6},\n        a_img: {components: 1, start: 8},\n        a_selected: {components: 1, start: 9},\n        a_flag: {components: 1, start: 10},\n        a_showicon: {components: 1, start: 11},\n        a_icon_color: {components:4,start:12},\n    },\n    getUniforms({matrix, camera,config, sampleRatio,textureLoader,textureIcon}){\n        var color = utils.parseColor(config.defaultNodeSelectedBorder);\n        return {\n            u_matrix: matrix,\n            u_camera_scale: camera.scale,\n            // u_textures:textureLoader.texturesIndex,\n            u_borderColor: [color.r, color.g, color.b, color.a],\n            u_sample_ratio: sampleRatio,\n            u_icons_texture: textureIcon.unit,\n        }\n    },\n    getRenderData({data, config, textureLoader, textureIcon, graph}){\n\n        var color = utils.parseColor(data.color || config.defaultNodeColor);\n        var iColor = utils.parseColor(data.iconColor || config.defaultNodeIconColor);\n\n        var img = -1;\n        if (data.img && textureLoader.cache.hasOwnProperty(data.img))\n            img = textureLoader.cache[data.img];\n\n        var sizeX = data.width = data.width || data.size || config.defaultNodeSize;\n        var sizeY = data.height = data.height || data.size || config.defaultNodeSize;\n        var iconSize = Math.min(sizeX, sizeY);\n        var bgSize = Math.max(sizeX, sizeY) * 1.414;\n        var isSelected = data.selected ? 1.0 : 0.0;\n\n        var hasIcon = data.icon && textureIcon.iconinfo.infos[data.icon], uvs;\n        uvs = hasIcon ? textureIcon.iconinfo.infos[data.icon].uvs : [0, 0];\n        hasIcon = hasIcon ? 1 : 0;\n\n        var renderData = [];\n        var indices = [];\n\n        var points = 0;\n        var bgScale = 1;\n\n\n        addData(renderData, [data.x - bgSize * bgScale, data.y + bgSize * bgScale, color.r, color.g, color.b, color.a, 0, 0, img, isSelected, 0, hasIcon,iColor.r,iColor.g,iColor.b,iColor.a]);\n        addData(renderData, [data.x + bgSize * bgScale, data.y + bgSize * bgScale, color.r, color.g, color.b, color.a, 1, 0, img, isSelected, 0, hasIcon,iColor.r,iColor.g,iColor.b,iColor.a]);\n        addData(renderData, [data.x - bgSize * bgScale, data.y - bgSize * bgScale, color.r, color.g, color.b, color.a, 0, 1, img, isSelected, 0, hasIcon,iColor.r,iColor.g,iColor.b,iColor.a]);\n        addData(renderData, [data.x + bgSize * bgScale, data.y - bgSize * bgScale, color.r, color.g, color.b, color.a, 1, 1, img, isSelected, 0, hasIcon,iColor.r,iColor.g,iColor.b,iColor.a]);\n\n        addIndices(indices, [\n            points + 0, points + 1, points + 2,\n            points + 1, points + 2, points + 3\n        ]);\n        points += 4;\n\n\n        //base\n        addData(renderData, [data.x - sizeX, data.y + sizeY, color.r, color.g, color.b, color.a, 0, 0, img, isSelected, 1, hasIcon,iColor.r,iColor.g,iColor.b,iColor.a]);\n        addData(renderData, [data.x + sizeX, data.y + sizeY, color.r, color.g, color.b, color.a, 1, 0, img, isSelected, 1, hasIcon,iColor.r,iColor.g,iColor.b,iColor.a]);\n        addData(renderData, [data.x - sizeX, data.y - sizeY, color.r, color.g, color.b, color.a, 0, 1, img, isSelected, 1, hasIcon,iColor.r,iColor.g,iColor.b,iColor.a]);\n        addData(renderData, [data.x + sizeX, data.y - sizeY, color.r, color.g, color.b, color.a, 1, 1, img, isSelected, 1, hasIcon,iColor.r,iColor.g,iColor.b,iColor.a]);\n\n        addIndices(indices, [\n            points + 0, points + 1, points + 2,\n            points + 1, points + 2, points + 3\n        ]);\n        points += 4;\n\n\n        var scale = 0.85;\n        //icon\n\n        var iconInfo = data.icon ? getIconInfo(data) : {left:-1*data.size,top:data.size,right:data.size,bottom:-1*data.size};\n        addData(renderData, [data.x + iconInfo.left, data.y + iconInfo.top, color.r, color.g, color.b, color.a, uvs[0], uvs[1], -2, isSelected, 2, hasIcon,iColor.r,iColor.g,iColor.b,iColor.a]);\n        addData(renderData, [data.x + iconInfo.right, data.y + iconInfo.top, color.r, color.g, color.b, color.a, uvs[2], uvs[1], -2, isSelected, 2, hasIcon,iColor.r,iColor.g,iColor.b,iColor.a]);\n        addData(renderData, [data.x + iconInfo.left, data.y + iconInfo.bottom, color.r, color.g, color.b, color.a, uvs[0], uvs[3], -2, isSelected, 2, hasIcon,iColor.r,iColor.g,iColor.b,iColor.a]);\n        addData(renderData, [data.x + iconInfo.right, data.y + iconInfo.bottom, color.r, color.g, color.b, color.a, uvs[2], uvs[3], -2, isSelected, 2, hasIcon,iColor.r,iColor.g,iColor.b,iColor.a]);\n\n        addIndices(indices, [\n            points + 0, points + 1, points + 2,\n            points + 1, points + 2, points + 3\n        ]);\n        points += 4;\n\n\n        return {\n            vertices: renderData,\n            indices: indices,\n        };\n    }\n\n}\n\nfunction addData(arr, attrData) {\n    for (var i = 0; i < attrData.length; i++) {\n        arr.push(attrData[i]);\n    }\n}\n\n\nfunction addIndices(indices, attrIndex) {\n    attrIndex.forEach(function (data) {\n        indices.push(data);\n    });\n}\n\nfunction getIconInfo(data) {\n    var icon = data.icon;\n    var defaultConfig = {content:'',offsetX:0,offsetY:0,scale:0.65};\n    icon = utils.isString(icon) ? utils.extend({content:icon},defaultConfig) : utils.extend(icon,defaultConfig);\n\n    var size = Math.min(data.width,data.height);\n\n    return {\n        left: size * -1 * icon.scale + icon.offsetX,\n        right: size * icon.scale + icon.offsetX,\n        top: size  * icon.scale + icon.offsetY,\n        bottom: size * -1 * icon.scale + icon.offsetY,\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/render/webgl/node/rect/render.js","module.exports = \" precision mediump float;\\n\\nvec4 color = vec4(0.8,0.8,0.8,0.8);\\n\\n\\nuniform vec4 u_bg_color;\\n\\n\\nvoid main() {\\n    vec4 color = u_bg_color / 255.0;\\n    color = vec4(color.rgb * color.a,color.a);\\n   gl_FragColor = color;\\n}\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/render/webgl/defaultConfig/frag.glsl\n// module id = 35\n// module chunks = 0","module.exports = \"attribute vec2 a_position;\\n//attribute vec2 a_uv;\\n\\n//varying vec2 v_texCoord;\\n//varying float size;\\n\\nvoid main() {\\ngl_Position = vec4(a_position,0,1);\\n//v_texCoord = a_uv;\\n}\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/render/webgl/defaultConfig/vert.glsl\n// module id = 36\n// module chunks = 0","module.exports = \"#ifdef GL_OES_standard_derivatives\\n#extension GL_OES_standard_derivatives : enable\\n#endif\\n\\nprecision mediump float;\\nvarying vec4 color;\\nvarying vec2 uv;\\nvarying float dis;\\nvarying float flag;\\nvarying float dashed;\\nvarying float size;\\nvarying float end_ratio;\\nvarying float start_ratio;\\n\\nuniform float u_camera_scale;\\n\\n\\n\\nvoid main(){\\n        float width = size / u_camera_scale;\\n        float blur = clamp(0.6,0.05,width*1.0) ;\\n        width = width + blur;\\n        float blur_ratio = blur / width;\\n        float scale = 1.0;\\n\\n        if(flag > -0.5 && flag < 0.5){//curve\\n                vec2 px = dFdx(uv);\\n                vec2 py = dFdy(uv);\\n\\n                float fx = 2.0 * uv.x * px.x - px.y;\\n                float fy = 2.0 * uv.y * py.x - py.y;\\n\\n                float sd = (uv.x * uv.x - uv.y) / sqrt(fx * fx + fy * fy);\\n\\n                float alpha = 1.0 - abs(sd) / width;\\n                if (alpha < 0.0 || uv.x < end_ratio || uv.x > start_ratio) discard;\\n\\n                float n = 800.0/dis;\\n                float dot = mod(uv.x*100.0,n);\\n                if(dashed > 0.5 && dot > n*0.5 && dot < n) discard;\\n\\n                if(alpha < blur_ratio) scale = smoothstep(0.0,blur_ratio,alpha);\\n\\n                gl_FragColor = color*scale;\\n\\n        }else if(flag > 0.5 && flag < 1.5){//arrow\\n                gl_FragColor = color;\\n        }\\n\\n\\n}\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/render/webgl/edge/curve/frag.glsl\n// module id = 37\n// module chunks = 0","module.exports = \"attribute vec2 a_position;\\n//attribute vec2 a_normal;\\nattribute vec4 a_color;\\n//attribute float a_size;\\nattribute vec2 a_uv;\\nattribute float a_dis;\\nattribute float a_dashed;\\nattribute float a_flag;\\nattribute float a_size;\\nattribute float a_end_ratio;\\nattribute float a_start_ratio;\\n\\nuniform mat3 u_matrix;\\n\\nvarying vec4 color;\\nvarying vec2 uv;\\nvarying float dis;\\nvarying float dashed;\\nvarying float flag;\\nvarying float size;\\nvarying float end_ratio;\\nvarying float start_ratio;\\n\\nvoid main() {\\n\\n//vec2 pos  = a_position + a_normal * a_size;\\ngl_Position = vec4((u_matrix*vec3(a_position,1)).xy,0,1);\\nuv = a_uv;\\ndis = a_dis;\\nflag = a_flag;\\ncolor = a_color/255.0;\\ncolor = vec4(color.rgb * color.a,color.a);\\ndashed = a_dashed;\\nsize = a_size;\\nend_ratio = 1.0 - a_end_ratio;\\nstart_ratio = 1.0 - a_start_ratio;\\n}\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/render/webgl/edge/curve/vert.glsl\n// module id = 38\n// module chunks = 0","module.exports = \"precision mediump float;\\nvarying vec4 color;\\nvarying float dis;\\nvarying float dashed;\\nvarying float flag;\\nvarying float u;\\n\\n\\nvoid main(){\\n\\nif(flag > -0.5 && flag < 0.5){//edge\\n    float n = 800.0/dis;\\n    float dot = mod(u*100.0,n);\\n    if(dashed > 0.5 && dot > n*0.5 && dot < n) discard;\\n}\\n\\n//gl_FragColor = vec4(u,u,u,1)*0.5;\\ngl_FragColor = vec4(color.rgb * color.a,color.a);\\n\\n}\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/render/webgl/edge/glsl/default-frag.glsl\n// module id = 39\n// module chunks = 0","module.exports = \"attribute vec2 a_position;\\nattribute vec2 a_normal;\\nattribute vec4 a_color;\\nattribute float a_size;\\nattribute float a_dis;\\nattribute float a_dashed;\\nattribute float a_flag;\\nattribute float a_u;\\n\\nuniform mat3 u_matrix;\\n\\nvarying vec4 color;\\nvarying float dis;\\nvarying float dashed;\\nvarying float flag;\\nvarying float u;\\n\\nvoid main() {\\n\\nvec2 pos  = a_position + a_normal * a_size;\\ngl_Position = vec4((u_matrix*vec3(pos,1)).xy,0.5,1);\\ndis = a_dis;\\ndashed = a_dashed;\\nflag = a_flag;\\ncolor = a_color/255.0;\\nu = a_u;\\n}\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/render/webgl/edge/glsl/default-vert.glsl\n// module id = 40\n// module chunks = 0","module.exports = \" precision mediump float;\\n\\n//vec4 color = vec4(77, 72, 91,255);\\n\\nvarying vec2 v_texCoord;\\nvarying float size;\\nvarying vec4 label_color;\\n\\n\\nuniform sampler2D u_image;\\nuniform float u_camera_scale;\\n\\n\\nvoid main() {\\n    vec4 color = label_color / 255.0;\\n\\n    float cutoff = 0.72;\\n    float offset = 6.0/size * u_camera_scale;\\n\\n    offset = pow(offset,1.4);\\n\\n    offset = min((1.0-cutoff),offset);\\n\\n   float dist = texture2D(u_image, v_texCoord).r;\\n   float alpha = smoothstep(cutoff - offset, cutoff + offset, dist);\\n   gl_FragColor = color *alpha;\\n//   gl_FragColor =  vec4(0, 1,0,1);\\n}\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/render/webgl/label/glsl/label-frag.glsl\n// module id = 41\n// module chunks = 0","module.exports = \"attribute vec2 a_position;\\nattribute vec2 a_uv;\\nattribute float a_size;\\nattribute vec4 a_color;\\n\\nuniform mat3 u_matrix;\\nuniform sampler2D u_image;\\n\\n\\nvarying vec2 v_texCoord;\\nvarying float size;\\nvarying vec4 label_color;\\n\\nvoid main() {\\ngl_Position = vec4((u_matrix*vec3(a_position,1)).xy,0,1);\\nv_texCoord = a_uv;\\nsize = a_size;\\nlabel_color = a_color;\\n}\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/render/webgl/label/glsl/node-label-vert.glsl\n// module id = 42\n// module chunks = 0","module.exports = \"//#ifdef GL_OES_standard_derivatives\\n//#extension GL_OES_standard_derivatives : enable\\n//#endif\\n\\n precision mediump float;\\n\\nvarying vec4 color;\\nvarying float selected;\\nvarying vec2 uv;\\nvarying float flag;\\nvarying float size;\\nvarying float showicon;\\nvarying vec4 icon_color;\\n\\n\\nuniform sampler2D u_icons_texture;\\nuniform vec4 u_borderColor;\\nuniform float u_sample_ratio;\\n\\nvec4 borderColor = u_borderColor/255.0;\\n\\nvoid main()\\n{\\n   float r = 0.0;\\n   float alpha = 1.0;\\n   float blur = min(0.05,4.0/size) ;\\n   float border = min(0.75,0.06*size) ;\\n\\n    if(flag > 0.5 && flag < 1.5) //flag =1 base\\n    {\\n        vec4 nodecolor = color;\\n        vec2 cxy = 2.0 * uv - 1.0;\\n        r = length(cxy);\\n\\n        if(r > 1.0 ){\\n            discard;\\n        }\\n\\n        if(r > 1.0-blur){\\n            alpha = 1.0 -  smoothstep(1.0-blur, 1.0, r) ;\\n         }\\n\\n\\n         if( selected > 0.5  && r > border && r < border + blur){\\n            nodecolor = mix(nodecolor,borderColor,smoothstep(border, border + blur, r));\\n        }\\n\\n         if( selected > 0.5  &&  r >= border + blur){\\n            nodecolor = borderColor;\\n         }\\n\\n          gl_FragColor = nodecolor * alpha;\\n\\n    }else if(flag > 1.5 && flag < 2.5) {//flag =2 icon\\n        if(showicon < 0.5) discard;\\n        gl_FragColor = texture2D(u_icons_texture,uv).w * icon_color;\\n    }else if((flag > -0.5 && flag < 0.5)){//flat = 0 selected bg\\n\\n    //    float scale = 1.35;\\n    //    float border_start = 1.0/1.35;\\n    //    float border_end = border_start * 1.1;\\n\\n        if(selected < 0.5) discard;//selected = 0 ingore\\n\\n        vec2 cxy = 2.0 * uv - 1.0;\\n        r = length(cxy);\\n\\n        if(r > 1.0 ){\\n            gl_FragColor = vec4(0,0,0,0);\\n        }else{\\n    //         if(r >= border_start && r <= border_end){\\n    //                 gl_FragColor = vec4(borderColor.rgb,0.75);\\n    //         }else{\\n                     r = smoothstep(0.7,1.0,r);\\n                     gl_FragColor = vec4(borderColor.rgb,0.65)*(1.0-r);\\n    //         }\\n        }\\n    }\\n\\n}\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/render/webgl/node/default/default-frag.glsl\n// module id = 43\n// module chunks = 0","module.exports = \"\\n precision mediump float;\\nattribute vec2 a_position;\\nattribute vec4 a_color;\\nattribute vec4 a_icon_color;\\nattribute vec2 a_uv;\\nattribute float a_selected;\\nattribute float a_flag;\\nattribute float a_size;\\nattribute float a_showicon;\\nattribute vec2 a_center;\\n\\nuniform mat3 u_matrix;\\nuniform float u_camera_scale;\\nuniform float u_sample_ratio;\\n\\nvarying vec4 color;\\nvarying vec4 icon_color;\\nvarying float selected;\\nvarying vec2 uv;\\nvarying float flag;\\nvarying float size;\\nvarying float showicon;\\n\\n\\nvoid main() {\\n\\n    float zindex = 0.1;\\n\\n    if(a_selected > 0.5) zindex = 0.05;\\n\\n\\n    gl_Position = vec4((u_matrix*vec3((a_position+a_center),1)).xy,zindex,1);\\n    color = a_color/255.0;\\n    selected = a_selected;\\n    uv = a_uv;\\n    flag = a_flag;\\n\\n    size = a_size / u_camera_scale ;\\n    showicon = a_showicon;\\n\\n    icon_color = a_icon_color/255.0;\\n}\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/render/webgl/node/default/default-vert.glsl\n// module id = 44\n// module chunks = 0","module.exports = \"//#ifdef GL_OES_standard_derivatives\\n//#extension GL_OES_standard_derivatives : enable\\n//#endif\\n\\n precision mediump float;\\n\\nvarying vec4 color;\\nvarying vec4 icon_color;\\nvarying float img;\\nvarying float selected;\\nvarying vec2 uv;\\nvarying float flag;\\nvarying float showicon;\\n\\n\\n//uniform sampler2D u_textures[10];\\nuniform sampler2D u_icons_texture;\\nuniform vec4 u_borderColor;\\nuniform float u_sample_ratio;\\n\\n\\nvec4 borderColor = u_borderColor/255.0;\\n\\nvoid main()\\n{\\n   float r = 0.0, alpha = 1.0,\\n   blur = 0.05 ,\\n   border = 0.75 ;\\n\\n\\nif(flag > 0.5 && flag < 1.5) //flag =1\\n{\\n    vec4 nodecolor = color;\\n    vec2 cxy = 2.0 * uv - 1.0;\\n    cxy = abs(cxy);\\n\\n\\n//     if( selected > 0.5  && r > border && r < border + blur){\\n//        nodecolor = mix(nodecolor,borderColor,smoothstep(border, border + blur, r));\\n//    }\\n\\n     if(  selected > 0.5 && (cxy.x > 0.65  ||  cxy.y > 0.65)){\\n        nodecolor = borderColor;\\n     }\\n\\n      gl_FragColor = nodecolor * alpha;\\n\\n}else if(flag > 1.5 && flag < 2.5) {//flag =2\\n    if(showicon < 0.5) discard;\\n    gl_FragColor = texture2D(u_icons_texture,uv).w * icon_color;\\n}else if((flag > -0.5 && flag < 0.5)){//flat = 0 selected background\\n\\n    if(selected < 0.5) discard;\\n\\n     vec2 cxy = 2.0 * uv - 1.0;\\n     r = length(cxy);\\n\\n     if(r > 1.0 ){\\n         discard;\\n     }\\n\\n     r = smoothstep(0.6,1.0,r);\\n\\n      gl_FragColor = vec4(borderColor.rgb,0.8)*(1.0-r);\\n }\\n\\n\\n}\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/render/webgl/node/rect/frag.glsl\n// module id = 45\n// module chunks = 0","module.exports = \"\\n precision mediump float;\\nattribute vec2 a_position;\\nattribute vec4 a_color;\\nattribute vec4 a_icon_color;\\nattribute float a_img;\\nattribute vec2 a_uv;\\nattribute float a_selected;\\nattribute float a_flag;\\nattribute float a_showicon;\\n\\nuniform mat3 u_matrix;\\nuniform float u_camera_scale;\\nuniform float u_sample_ratio;\\n\\nvarying vec4 color;\\nvarying vec4 icon_color;\\nvarying float img;\\nvarying float selected;\\nvarying vec2 uv;\\nvarying float flag;\\nvarying float showicon;\\n\\n\\nvoid main() {\\n\\n\\n    gl_Position = vec4((u_matrix*vec3(a_position,1)).xy,0,1);\\n    color = a_color/255.0;\\n    img = a_img;\\n    selected = a_selected;\\n    uv = a_uv;\\n    flag = a_flag;\\n    showicon = a_showicon;\\n    icon_color = a_icon_color/255.0;\\n}\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/render/webgl/node/rect/vert.glsl\n// module id = 46\n// module chunks = 0","export {default as Graph} from './core/Graph'\nexport {default as WebGLRender} from './render/index'\nexport {default as GraphView} from './core/index'\nexport {default as util} from './util'\nexport * as GLUtil from './base/GLUtil'\nexport {default as Tween} from './animation/tween'\n\n\n// WEBPACK FOOTER //\n// ./src/index.js"],"sourceRoot":""}